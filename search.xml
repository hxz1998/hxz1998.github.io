<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>23ç§è®¾è®¡æ¨¡å¼çš„ä¸€å¥è¯æè¿°</title>
    <url>/2020/11/01/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%8F%8F%E8%BF%B0/</url>
    <content><![CDATA[<blockquote>
<p>  å†…å®¹å‚è€ƒè‡ªã€Šè®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹</p>
</blockquote>
<p>æ¥ä¸€å¥è¯æ¦‚æ‹¬23ç§è®¾è®¡æ¨¡å¼ã€‚</p>
<a id="more"></a>
<h1 id="1-åˆ›å»ºå‹"><a href="#1-åˆ›å»ºå‹" class="headerlink" title="1. åˆ›å»ºå‹"></a>1. åˆ›å»ºå‹</h1><h2 id="1-1-æŠ½è±¡å·¥å‚ï¼ˆAbstract-Factoryï¼‰"><a href="#1-1-æŠ½è±¡å·¥å‚ï¼ˆAbstract-Factoryï¼‰" class="headerlink" title="1.1 æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰"></a>1.1 æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰</h2><p>æä¾›ä¸€ä¸ªæ¥å£ï¼Œæ¥åˆ›å»ºä¸€äº›åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–çš„å¯¹è±¡ï¼Œè€Œæ— é¡»æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚</p>
<h2 id="1-2-ç”Ÿæˆå™¨ï¼ˆBuilderï¼‰"><a href="#1-2-ç”Ÿæˆå™¨ï¼ˆBuilderï¼‰" class="headerlink" title="1.2 ç”Ÿæˆå™¨ï¼ˆBuilderï¼‰"></a>1.2 ç”Ÿæˆå™¨ï¼ˆBuilderï¼‰</h2><p>å°†ä»¥å¤æ‚å¯¹è±¡çš„æ„å»ºå’Œå®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚</p>
<h2 id="1-3-å·¥å‚æ–¹æ³•ï¼ˆFactory-Methodï¼‰"><a href="#1-3-å·¥å‚æ–¹æ³•ï¼ˆFactory-Methodï¼‰" class="headerlink" title="1.3 å·¥å‚æ–¹æ³•ï¼ˆFactory Methodï¼‰"></a>1.3 å·¥å‚æ–¹æ³•ï¼ˆFactory Methodï¼‰</h2><p>å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ï¼Œå·¥å‚æ–¹æ³•è®©ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚</p>
<h2 id="1-4-åŸå‹ï¼ˆPrototypeï¼‰"><a href="#1-4-åŸå‹ï¼ˆPrototypeï¼‰" class="headerlink" title="1.4 åŸå‹ï¼ˆPrototypeï¼‰"></a>1.4 åŸå‹ï¼ˆPrototypeï¼‰</h2><p>ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p>
<h2 id="1-5-å•ä»¶æ¨¡å¼ï¼ˆSingletonï¼‰"><a href="#1-5-å•ä»¶æ¨¡å¼ï¼ˆSingletonï¼‰" class="headerlink" title="1.5 å•ä»¶æ¨¡å¼ï¼ˆSingletonï¼‰"></a>1.5 å•ä»¶æ¨¡å¼ï¼ˆSingletonï¼‰</h2><p>ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚</p>
<h1 id="2-ç»“æ„å‹"><a href="#2-ç»“æ„å‹" class="headerlink" title="2. ç»“æ„å‹"></a>2. ç»“æ„å‹</h1><h2 id="2-1-é€‚é…å™¨ï¼ˆAdapterï¼‰"><a href="#2-1-é€‚é…å™¨ï¼ˆAdapterï¼‰" class="headerlink" title="2.1 é€‚é…å™¨ï¼ˆAdapterï¼‰"></a>2.1 é€‚é…å™¨ï¼ˆAdapterï¼‰</h2><p>å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨æ¨¡å¼ä½¿å¾—åŸæ¥ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚</p>
<h2 id="2-2-æ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰"><a href="#2-2-æ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰" class="headerlink" title="2. 2 æ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰"></a>2. 2 æ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰</h2><p>å°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</p>
<h2 id="2-3-ç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰"><a href="#2-3-ç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰" class="headerlink" title="2.3 ç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰"></a>2.3 ç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰</h2><p>å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚ç»„åˆæ¨¡å¼ä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚</p>
<h2 id="2-4-è£…é¥°è€…æ¨¡å¼ï¼ˆDecoratorï¼‰"><a href="#2-4-è£…é¥°è€…æ¨¡å¼ï¼ˆDecoratorï¼‰" class="headerlink" title="2.4 è£…é¥°è€…æ¨¡å¼ï¼ˆDecoratorï¼‰"></a>2.4 è£…é¥°è€…æ¨¡å¼ï¼ˆDecoratorï¼‰</h2><p>åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚</p>
<h2 id="2-5-å¤–è§‚æ¨¡å¼ï¼ˆFacadeï¼‰"><a href="#2-5-å¤–è§‚æ¨¡å¼ï¼ˆFacadeï¼‰" class="headerlink" title="2.5 å¤–è§‚æ¨¡å¼ï¼ˆFacadeï¼‰"></a>2.5 å¤–è§‚æ¨¡å¼ï¼ˆFacadeï¼‰</h2><p>ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œå¤–è§‚æ¨¡å¼æä¾›äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­æ¥å£æ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚</p>
<h2 id="2-6-äº«å…ƒæ¨¡å¼ï¼ˆFlyweightï¼‰"><a href="#2-6-äº«å…ƒæ¨¡å¼ï¼ˆFlyweightï¼‰" class="headerlink" title="2.6 äº«å…ƒæ¨¡å¼ï¼ˆFlyweightï¼‰"></a>2.6 äº«å…ƒæ¨¡å¼ï¼ˆFlyweightï¼‰</h2><p>è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚</p>
<h2 id="2-7-ä»£ç†æ¨¡å¼ï¼ˆProxyï¼‰"><a href="#2-7-ä»£ç†æ¨¡å¼ï¼ˆProxyï¼‰" class="headerlink" title="2.7 ä»£ç†æ¨¡å¼ï¼ˆProxyï¼‰"></a>2.7 ä»£ç†æ¨¡å¼ï¼ˆProxyï¼‰</h2><p>ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</p>
<h1 id="3-è¡Œä¸ºå‹"><a href="#3-è¡Œä¸ºå‹" class="headerlink" title="3. è¡Œä¸ºå‹"></a>3. è¡Œä¸ºå‹</h1><h2 id="3-1-è´£ä»»é“¾ï¼ˆChain-of-Responsibilitiesï¼‰"><a href="#3-1-è´£ä»»é“¾ï¼ˆChain-of-Responsibilitiesï¼‰" class="headerlink" title="3.1 è´£ä»»é“¾ï¼ˆChain of Responsibilitiesï¼‰"></a>3.1 è´£ä»»é“¾ï¼ˆChain of Responsibilitiesï¼‰</h2><p>ä½¿æ¯ä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾å»ä¼ é€’è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚</p>
<h2 id="3-2-å‘½ä»¤æ¨¡å¼ï¼ˆCommandï¼‰"><a href="#3-2-å‘½ä»¤æ¨¡å¼ï¼ˆCommandï¼‰" class="headerlink" title="3.2 å‘½ä»¤æ¨¡å¼ï¼ˆCommandï¼‰"></a>3.2 å‘½ä»¤æ¨¡å¼ï¼ˆCommandï¼‰</h2><p>å°†ä¸€ä¸ªè¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿å¾—å¯ä»¥ç”¨ä¸åŒè¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼Œå¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚</p>
<h2 id="3-3-è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreterï¼‰"><a href="#3-3-è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreterï¼‰" class="headerlink" title="3.3 è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreterï¼‰"></a>3.3 è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreterï¼‰</h2><p>å®šä¹‰ä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œä½¿ç”¨è¿™ä¸ªè§£é‡Šå™¨æ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚</p>
<h2 id="3-4-è¿­ä»£å™¨ï¼ˆIteratorï¼‰"><a href="#3-4-è¿­ä»£å™¨ï¼ˆIteratorï¼‰" class="headerlink" title="3.4 è¿­ä»£å™¨ï¼ˆIteratorï¼‰"></a>3.4 è¿­ä»£å™¨ï¼ˆIteratorï¼‰</h2><p>æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚</p>
<h2 id="3-5-ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediatorï¼‰"><a href="#3-5-ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediatorï¼‰" class="headerlink" title="3.5 ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediatorï¼‰"></a>3.5 ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediatorï¼‰</h2><p>ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹çš„æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚</p>
<h2 id="3-6-å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMementoï¼‰"><a href="#3-6-å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMementoï¼‰" class="headerlink" title="3.6 å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMementoï¼‰"></a>3.6 å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMementoï¼‰</h2><p>åœ¨ä¸ç ´åå°è£…æ€§çš„æ¡ä»¶ä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ ·ä»¥åå°±å¯ä»¥å°†è¯¥å¯¹è±¡æ¢å¤åˆ°åŸæ¥ä¿å­˜çš„çŠ¶æ€ã€‚</p>
<h2 id="3-7-è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰"><a href="#3-7-è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰" class="headerlink" title="3.7 è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰"></a>3.7 è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰</h2><p>å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚</p>
<h2 id="3-8-çŠ¶æ€æ¨¡å¼ï¼ˆStateï¼‰"><a href="#3-8-çŠ¶æ€æ¨¡å¼ï¼ˆStateï¼‰" class="headerlink" title="3.8 çŠ¶æ€æ¨¡å¼ï¼ˆStateï¼‰"></a>3.8 çŠ¶æ€æ¨¡å¼ï¼ˆStateï¼‰</h2><p>å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚çœ‹èµ·æ¥åƒæ˜¯ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚</p>
<h2 id="3-9-ç­–ç•¥æ¨¡å¼ï¼ˆStrategyï¼‰"><a href="#3-9-ç­–ç•¥æ¨¡å¼ï¼ˆStrategyï¼‰" class="headerlink" title="3.9 ç­–ç•¥æ¨¡å¼ï¼ˆStrategyï¼‰"></a>3.9 ç­–ç•¥æ¨¡å¼ï¼ˆStrategyï¼‰</h2><p>å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼ŒæŠŠä»–ä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿ä»–ä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚æœ¬æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ä»¥ç‹¬ç«‹äºå®ƒçš„å®¢æˆ·è€Œå˜åŒ–ã€‚</p>
<h2 id="4-0-æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate-Methodï¼‰"><a href="#4-0-æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate-Methodï¼‰" class="headerlink" title="4.0 æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Methodï¼‰"></a>4.0 æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Methodï¼‰</h2><p>å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</p>
<h2 id="4-1-è®¿é—®è€…ï¼ˆVisitorï¼‰"><a href="#4-1-è®¿é—®è€…ï¼ˆVisitorï¼‰" class="headerlink" title="4.1 è®¿é—®è€…ï¼ˆVisitorï¼‰"></a>4.1 è®¿é—®è€…ï¼ˆVisitorï¼‰</h2><p>è¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒä½¿ä½ å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
        <tag>å¼€å‘è§„èŒƒ</tag>
        <tag>é˜…è¯»ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>C++çš„é¡ºåºå®¹å™¨æ¯”è¾ƒ</title>
    <url>/2020/09/10/C++%E7%9A%84%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8%E6%AF%94%E8%BE%83/</url>
    <content><![CDATA[<p>å®¹å™¨å°±æ˜¯ç‰¹å®šç±»å‹å¯¹è±¡çš„é›†åˆï¼Œé¡ºåºå®¹å™¨ï¼ˆSequential Containerï¼‰æ˜¯ä¸€ç§æä¾›äº†å…ƒç´ é¡ºåºå­˜å‚¨è®¿é—®çš„æ•°æ®ç»“æ„ï¼Œé¡ºåºå­˜å‚¨æ„å‘³ç€åœ¨å­˜å‚¨æ–¹å¼ä¸Šä»…ä»…ä¾èµ–äºå…ˆååŠ å…¥å®¹å™¨çš„é¡ºåºã€‚åœ¨ <code>C++</code> çš„ <code>STL</code> ä¸­ï¼Œæä¾›äº† <code>vector, deque, list, forward_list, array</code> è¿™å‡ ç§å®¹å™¨ï¼Œå½“ç„¶è¿˜æœ‰ <code>string</code> ä¹Ÿå¯ä»¥è§†ä¸ºä¸€ç§å®¹å™¨ï¼Œåªä¸è¿‡åªèƒ½å­˜å‚¨ <code>char</code> ç±»å‹çš„æ•°æ®ã€‚</p>
<a id="more"></a>
<blockquote>
<p>  æœ¬æ–‡ä¸»è¦å‚è€ƒè‡ª <em>C++ Primer, 5th Edition</em>, [ç¾] Stanley B. Lippman / [ç¾] JosÃ©e Lajoie / [ç¾] Barbara E. Moo</p>
</blockquote>
<h1 id="1-é¡ºåºå®¹å™¨ç±»å‹"><a href="#1-é¡ºåºå®¹å™¨ç±»å‹" class="headerlink" title="1. é¡ºåºå®¹å™¨ç±»å‹"></a>1. é¡ºåºå®¹å™¨ç±»å‹</h1><p>åœ¨ <code>STL</code> ä¸­ï¼ˆæˆªè‡³ <code>C++11</code>ï¼Œæä¾›äº†å¦‚ä¸‹æ‰€ç¤ºå‡ ä¸ªé¡ºåºç±»å‹ï¼‰</p>
<ol>
<li><code>vector</code>ï¼šå¯å˜å¤§å°æ•°ç»„ã€‚æ”¯æŒ<strong>å¿«é€Ÿéšæœº</strong>è®¿é—®ã€‚åœ¨<strong>å°¾éƒ¨</strong>æ’å…¥å…ƒç´ è¾ƒå¿«ï¼Œä½†å…¶ä»–ä½ç½®æ’å…¥å¾ˆæ…¢ã€‚</li>
<li><code>deque</code>ï¼šåŒç«¯é˜Ÿåˆ—ã€‚æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ã€‚åœ¨å¤´éƒ¨ã€å°¾éƒ¨æ’å…¥å…ƒç´ éƒ½å¾ˆå¿«ã€‚</li>
<li><code>list</code>ï¼šåŒå‘é“¾è¡¨ã€‚<strong>ä»…</strong>æ”¯æŒ<strong>åŒå‘é¡ºåº</strong>è®¿é—®ã€‚åœ¨<strong>ä»»ä½•ä½ç½®</strong>åˆ é™¤ã€æ·»åŠ å…ƒç´ éƒ½å¾ˆå¿«ã€‚</li>
<li><code>forward_list</code>ï¼šå•å‘é“¾è¡¨ã€‚<strong>ä»…</strong>æ”¯æŒ<strong>ä»å¤´éƒ¨å¼€å§‹</strong>çš„é¡ºåºè®¿é—®ã€‚åœ¨é“¾è¡¨<strong>ä»»ä½•ä½ç½®</strong>æ’å…¥ã€åˆ é™¤å…ƒç´ éƒ½å¾ˆå¿«ã€‚</li>
<li><code>array</code>ï¼šå›ºå®šå¤§å°æ•°ç»„ã€‚æ”¯æŒ<strong>å¿«é€Ÿéšæœº</strong>è®¿é—®ï¼Œ<strong>ä¸èƒ½</strong>æ·»åŠ ã€åˆ é™¤å…ƒç´ ã€‚</li>
<li><code>string</code>ï¼šå’Œ <code>vector</code> ç±»ä¼¼ï¼Œåªä¸è¿‡åªèƒ½å­˜å‚¨ <code>char</code> ç±»å‹çš„æ•°æ®ã€‚</li>
</ol>
<h1 id="2-æ€§èƒ½åˆ†æ"><a href="#2-æ€§èƒ½åˆ†æ" class="headerlink" title="2. æ€§èƒ½åˆ†æ"></a>2. æ€§èƒ½åˆ†æ</h1><p>é™¤äº† <code>array</code> å®¹å™¨ä¹‹å¤–ï¼Œå…¶ä»–å®¹å™¨å‡æä¾›äº†é«˜æ•ˆçš„å†…å­˜ç®¡ç†ï¼Œå¯ä»¥åœ¨è®¡ç®—æœºèµ„æºå…è®¸çš„æƒ…å†µä¸‹ä»»æ„æ·»åŠ åˆ é™¤å…ƒç´ åˆ°å®¹å™¨ä¸­ã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºå­˜å‚¨ç­–ç•¥çš„ä¸åŒå’Œæ“ä½œæ¥å£çš„ä¸åŒï¼Œä»è€Œé—´æ¥å¯¼è‡´äº†ä¸åŒå®¹å™¨æœ‰ä¸åŒçš„æ€§èƒ½å’Œåº”ç”¨åœºåˆã€‚</p>
<p><code>string</code> å’Œ <code>vector</code> æ˜¯å­˜å‚¨åœ¨ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ä¸­çš„ï¼Œå› æ­¤å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„è®¡ç®—æ¯ä¸€ä¸ªå…ƒç´ çš„ç‰©ç†åœ°å€ä»è€Œå®ç°å¿«é€Ÿéšæœºè®¿é—®ã€‚ä½†æ˜¯ä¹Ÿæ­£æ˜¯å› ä¸ºå®ƒä»¬åœ¨è¿ç»­ç©ºé—´ä¸­å­˜å‚¨ï¼Œå½“éœ€è¦åœ¨ä¸­é—´ä½ç½® <code>i</code> æ’å…¥å…ƒç´ æ—¶ï¼Œéœ€è¦å°† <code>i + 1</code> åŠä»¥åçš„æ¯ä¸€ä¸ªå…ƒç´ å¹³ç§»åˆ°å®ƒä»¬çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œç©ºå‡ºæ¥ <code>i</code> ä½ç½®æ‰å¯ä»¥æ’å…¥è¿›æ¥ä¿æŒç©ºé—´çš„è¿ç»­æ€§ã€‚ä¸ä»…å¦‚æ­¤ï¼Œæœ‰æ—¶æ·»åŠ å…ƒç´ è¿›æ¥ï¼Œéœ€è¦<strong>æ‰©å®¹+æ‹·è´å…ƒç´ </strong>åˆ°æ–°å­˜å‚¨ç©ºé—´ä¸­ã€‚</p>
<p><code>list</code> å’Œ <code>forward_list</code> æ˜¯ä¸¤ä¸ªä½¿ç”¨<strong>é“¾è¡¨</strong>æ¥å®ç°çš„æ•°æ®ç»“æ„ï¼Œå®ƒä»¬åœ¨æ·»åŠ å…ƒç´ æ—¶éå¸¸ä¾¿åˆ©ï¼Œä½†æ˜¯è®¿é—®æ—¶å´ä¸æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼Œéœ€è¦ä»å¤´éƒ¨ï¼ˆ<code>list</code>è¿˜æ”¯æŒä»å°¾éƒ¨å‘å¤´éƒ¨çš„æŸ¥æ‰¾ï¼‰å¼€å§‹é€ä¸ªéå†è®¿é—®ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿™ä¿©æ•°æ®ç»“æ„åœ¨å­˜å‚¨æ¯ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œéƒ½éœ€è¦é¢å¤–çš„ç©ºé—´æ¥ç»´æŒé“¾è¡¨ç»“æ„ã€‚</p>
<p><code>deque</code> æ˜¯ä¸€ä¸ªä¸ä»…æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼Œè€Œä¸”æ”¯æŒåœ¨å¤´éƒ¨å’Œå°¾éƒ¨é«˜æ•ˆçš„åˆ é™¤æˆ–æ·»åŠ å…ƒç´ ï¼Œåœ¨è¿™ä¸€ç‚¹å’Œ <code>list</code> ä¸ <code>forward_list</code> æ•ˆç‡ç›¸å½“ã€‚</p>
<p><code>forward_list</code> å’Œ <code>array</code> æ˜¯ <code>C++11</code> æ–°æ·»åŠ çš„ç±»å‹ï¼Œ<code>array</code> æ˜¯ä¸€ç§æ›´åŠ å®‰å…¨ã€æ˜“ç”¨çš„æ•°ç»„ç±»å‹ï¼Œåœ¨ç”¨æ³•ä¸Šå’Œå†…ç½®æ•°ç»„ç±»ä¼¼ï¼ˆå¹¶æ²¡æœ‰æ„Ÿè§‰åˆ°æœ‰ä»€ä¹ˆå¤§çš„åŒºåˆ«ï¼‰ã€‚<code>forward_list</code> æ˜¯å•é“¾è¡¨ï¼Œä¸ºäº†è¾¾åˆ°æœ€å¥½çš„æ€§èƒ½ï¼Œæ²¡æœ‰ç»´æŠ¤ <code>size</code> æ–¹æ³•ï¼Œå› æ­¤è®¡ç®—å®ƒçš„å¤§å°æ—¶ï¼Œåªèƒ½æ‰‹åŠ¨å®ç°ã€‚</p>
<blockquote>
<p>  ä¸€èˆ¬æ¥è¯´ï¼Œé™¤éæœ‰æ›´å¥½çš„ç†ç”±ï¼ˆä¾‹å¦‚éœ€è¦é«˜é¢‘ç‡ä¸­é—´å¢åŠ å…ƒç´ å’Œåˆ é™¤å…ƒç´ ï¼‰ï¼Œä½¿ç”¨ <code>vector</code> å°±æ˜¯æœ€å¥½çš„é€‰æ‹©äº†ã€‚</p>
</blockquote>
<h1 id="3-å®¹å™¨é€‰æ‹©åŸºæœ¬åŸåˆ™"><a href="#3-å®¹å™¨é€‰æ‹©åŸºæœ¬åŸåˆ™" class="headerlink" title="3. å®¹å™¨é€‰æ‹©åŸºæœ¬åŸåˆ™"></a>3. å®¹å™¨é€‰æ‹©åŸºæœ¬åŸåˆ™</h1><ol>
<li>ä¸€èˆ¬é€‰ <code>vector</code> å°±å¯ä»¥å•¦ï¼Œé™¤éæœ‰æ›´å¥½ç†ç”±ã€‚</li>
<li>å¦‚æœç©ºé—´çš„é¢å¤–å¼€é”€å¾ˆé‡è¦ï¼Œä¸è¦ç”¨ <code>list</code> å’Œ <code>forward_list</code>ã€‚</li>
<li>å¦‚æœè¦æ±‚é«˜é¢‘ç‡éšæœºè®¿é—®å…ƒç´ ï¼Œé‚£ä¹ˆä½¿ç”¨ <code>vector</code> å’Œ <code>deque</code> æ›´åŠ åˆé€‚ã€‚</li>
<li>å¦‚æœéœ€è¦åœ¨å®¹å™¨ä¸­é—´ä½ç½®æ’å…¥åˆ é™¤å…ƒç´ ï¼Œä½¿ç”¨ <code>list</code> å’Œ <code>forward_list</code> æ›´åŠ åˆé€‚ã€‚</li>
<li>å¦‚æœåªæœ‰åœ¨æœ€åˆè¾“å…¥é˜¶æ®µéœ€è¦æ’å…¥åˆ é™¤å…ƒç´ ï¼Œè€Œåç¨³å®šä¸‹æ¥ä»…ä»…éœ€è¦éšæœºè®¿é—®ï¼Œå¯ä»¥è¿™æ ·ï¼š<ol>
<li>å¦‚æœéœ€è¦åœ¨<strong>ä¸­é—´</strong>ä½ç½®æ’å…¥å…ƒç´ ï¼Œé‚£ä¹ˆä½¿ç”¨ <code>list</code> æ¥æ„é€ è¾“å…¥é˜¶æ®µï¼Œå†æŠŠå®ƒæ”¾åˆ° <code>vector</code> ä¸­å»ã€‚</li>
<li>å¦‚æœ<strong>ä¸éœ€è¦åœ¨ä¸­é—´ä½ç½®</strong>æ’å…¥å…ƒç´ ï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨ <code>vector</code> ï¼ˆæˆ– <code>deque</code>ï¼‰å°±å¯ä»¥äº†ï¼Œå› ä¸ºåœ¨æœ«å°¾ï¼ˆæˆ–å¤´éƒ¨ï¼‰æ·»åŠ å…ƒç´ å°±å¾ˆæ–¹ä¾¿å‘€ã€‚</li>
</ol>
</li>
</ol>
<p>æ€»çš„æ¥è¯´ï¼Œå®¹å™¨æ“ä½œç±»å‹ï¼ˆè¯»å–æˆ–å¢åˆ ï¼‰çš„å æ¯”å†³å®šäº†å®¹å™¨ç±»å‹çš„é€‰æ‹©ï¼Œå› æ­¤ï¼Œåœ¨å¿…è¦æƒ…å†µä¸‹è¿›è¡Œæ€§èƒ½æµ‹è¯•ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©~</p>
<p>å¦‚æœè¿˜æ˜¯ä¸æ¸…æ¥šï¼Œé‚£ä¹ˆå°±ç”¨<strong>è¿­ä»£å™¨</strong>æ¥ä»£æ›¿ä¸‹æ ‡è®¿é—®ï¼Œå› ä¸ºè¿­ä»£å™¨æ˜¯ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œå¯ä»¥ä»»æ„æ›¿æ¢å…·ä½“å®ç°è€Œä¸å½±å“ç¨‹åºä½¿ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/9/10.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/9/10 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; nums = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  å¦‚æœåé¢éœ€è¦ï¼Œå¯ä»¥åªæ”¹ä¸€å¤„åœ°æ–¹ï¼Œå°±å®Œæˆäº†æ•´ä¸ªå®ç°ï¼Œå¦‚ï¼š</span></span><br><span class="line"><span class="comment">     *  vector&lt;int&gt; nums = &#123;1, 2, 3, 4, 5&#125;;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iter = nums.<span class="built_in">begin</span>(); iter != nums.<span class="built_in">end</span>(); iter++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *iter &lt;&lt; <span class="string">&quot; &quot;</span>; <span class="comment">// &gt;: 1 2 3 4 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>STL</tag>
        <tag>å®¹å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>C++ä¸­çš„unordered_mapå’Œmapçš„åŒºåˆ«</title>
    <url>/2020/09/01/CPP%E4%B8%AD%E7%9A%84unordered-map%E5%92%8Cmap%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<p><code>unordered_map</code> ç±»æ¨¡æ¿å’Œ <code>map</code> ç±»æ¨¡æ¿éƒ½æ˜¯æè¿°äº†è¿™ä¹ˆä¸€ä¸ªå¯¹è±¡ï¼šå®ƒæ˜¯ç”± <code>std::pair&lt;const Key, value&gt;</code> ç»„æˆçš„å¯å˜é•¿å®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨ä¸­æ¯ä¸ªå…ƒç´ å­˜å‚¨ä¸¤ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ <code>key</code> - <code>value</code> å¯¹ã€‚</p>
<a id="more"></a>
<h1 id="1-unordered-map"><a href="#1-unordered-map" class="headerlink" title="1. unordered_map"></a>1. <code>unordered_map</code></h1><p>åœ¨å¤´æ–‡ä»¶ä¸Šï¼Œå¼•å…¥ <code>&lt;unordered_map&gt;</code> æ¥ä½¿ç”¨å®ƒã€‚å¯¹äº <code>unordered_map</code> è€Œè¨€ï¼Œæœ€å¤§çš„ç‰¹ç‚¹åœ¨äºå†…éƒ¨å®ç°ä¸Šï¼Œä½¿ç”¨åˆ°äº†<strong>å“ˆå¸Œè¡¨</strong>ï¼ˆæ•£åˆ—è¡¨ã€<code>hash_table</code> ï¼‰æ¥è¿›è¡Œæ˜ å°„å­˜å‚¨ï¼Œå®ƒçš„æ¨¡æ¿ç±»å£°æ˜åŠå…¶å‚æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç¨‹åºæ¥è‡ªSTLæºç  bits/unordered_map.h</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Key,  <span class="comment">// key ç±»å‹ </span></span><br><span class="line">        <span class="keyword">typename</span> _Tp,    <span class="comment">// value ç±»å‹</span></span><br><span class="line">        <span class="keyword">typename</span> _Hash = hash &lt;_Key&gt;,     <span class="comment">// å“ˆå¸Œå‡½æ•°</span></span><br><span class="line">        <span class="keyword">typename</span> _Pred = equal_to &lt;_Key&gt;, <span class="comment">// ç”¨äºæ¯”è¾ƒä¸¤è€…æ˜¯å¦ç›¸åŒçš„å‡½æ•°</span></span><br><span class="line">        <span class="keyword">typename</span> _Alloc = allocator &lt;<span class="built_in">std</span>::<span class="built_in">pair</span>&lt;<span class="keyword">const</span> _Key, _Tp&gt;&gt;&gt; <span class="comment">// åˆ†é…å™¨ï¼Œæè¿°äº†å®¹å™¨åœ¨å†…å­˜ç®¡ç†ä¸Šçš„ç»†èŠ‚ï¼Œä¸åº”è¯¥è‡ªå·±æ¥å¤„ç†ï¼Œé™¤éå†™è‡ªå·±çš„å®¹å™¨</span></span><br><span class="line">class <span class="built_in">unordered_map</span> &#123;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨ <code>unordered_map</code> å†…éƒ¨ï¼Œä½¿ç”¨çš„ <code>Hash Table</code> å¯¹æ•°æ®è¿›è¡Œç»„ç»‡ï¼Œé€šè¿‡æŠŠé”®å€¼ <code>key</code> æ˜ å°„åˆ° <code>hash</code> è¡¨ä¸­çš„ä¸€ä¸ªä½ç½®è¿›è¡Œè®¿é—®ï¼Œæ ¹æ® <code>hash</code> å‡½æ•°çš„ç‰¹ç‚¹ï¼Œ <code>unordered_map</code> å¯¹äºå…ƒç´ æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ° <code>O(1)</code> ï¼Œä½†æ˜¯ï¼Œå®ƒçš„å…ƒç´ æ’åˆ—æ˜¯æ— åºçš„ã€‚å…·ä½“ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">    <span class="comment">// é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ— åº mapï¼Œå®ƒçš„ key ä½¿ç”¨ int ç±»å‹ï¼Œvalue ä½¿ç”¨ string ç±»å‹</span></span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="built_in">string</span>&gt; unorderedMap;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// ä¸‰ç§æ’å…¥æ–°å…ƒç´ çš„æ–¹æ³•ï¼Œâ€œèŒ´â€å­—æœ‰ä¸‰ç§å†™æ³•~</span></span><br><span class="line">    unorderedMap.insert(<span class="built_in">make_pair</span>(<span class="number">0</span>, <span class="string">&quot;Alice&quot;</span>)); </span><br><span class="line">    unorderedMap[<span class="number">1</span>] = <span class="string">&quot;Bob&quot;</span>;</span><br><span class="line">    unorderedMap.insert(<span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="built_in">string</span>&gt;::value_type(<span class="number">2</span>, <span class="string">&quot;Candy&quot;</span>));</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// å¯¹å†…éƒ¨å…ƒç´ æŒ¨ä¸ªè¾“å‡º</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iter = unorderedMap.<span class="built_in">begin</span>(); iter != unorderedMap.<span class="built_in">end</span>(); iter++) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; iter-&gt;first &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; iter-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * &gt;: è¾“å‡ºå¦‚ä¸‹ï¼Œå¯ä»¥å¾—çŸ¥å®ƒä»¬åœ¨ key çš„æ’åºä¸Šå¹¶æ²¡æœ‰é¡ºåº</span></span><br><span class="line"><span class="comment">         * 2 - Candy</span></span><br><span class="line"><span class="comment">         * 0 - Alice</span></span><br><span class="line"><span class="comment">         * 1 - Bob</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <code>unordered_map</code> ç”±äºå»ºç«‹äº†å“ˆå¸Œè¡¨ï¼Œæ‰€ä»¥å®ƒåœ¨æœ€å¼€å§‹å»ºç«‹çš„æ—¶å€™æ¯”è¾ƒè€—æ—¶é—´ï¼Œä½†æ˜¯å®ƒæŸ¥è¯¢é€Ÿåº¦å¿«å‘€~ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨ <code>unordered_map</code> æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p>
<h1 id="2-map"><a href="#2-map" class="headerlink" title="2. map"></a>2. <code>map</code></h1><p>å¯¹äº <code>map</code> è€Œè¨€ï¼Œé¦–å…ˆåœ¨å¤´æ–‡ä»¶ä¸Šï¼Œå¼•ç”¨ <code>&lt;map&gt;</code> è¿›æ¥ï¼Œç„¶åä½¿ç”¨ã€‚å®ƒçš„ç±»æ¨¡æ¿å£°æ˜ä»¥åŠéƒ¨åˆ†å‡½æ•°å£°æ˜å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç¨‹åºæ¥è‡ªC++æºç  bits/stl_map.h</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Key,  <span class="comment">// key ç±»å‹</span></span><br><span class="line">        <span class="keyword">typename</span> _Tp,    <span class="comment">// value ç±»å‹</span></span><br><span class="line">        <span class="keyword">typename</span> _Compare = <span class="built_in">std</span>::less&lt;_Key&gt;, <span class="comment">// ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„æ¯”è¾ƒå‡½æ•°</span></span><br><span class="line">        <span class="keyword">typename</span> _Alloc = <span class="built_in">std</span>::allocator&lt;<span class="built_in">std</span>::<span class="built_in">pair</span>&lt;<span class="keyword">const</span> _Key, _Tp&gt; &gt; &gt; <span class="comment">// åˆ†é…å™¨ï¼ŒåŒæ ·çš„æè¿°äº†å®¹å™¨åœ¨å†…å­˜ç®¡ç†ä¸Šçš„ç»†èŠ‚ï¼Œä¸åº”è¯¥è‡ªå·±æ¥å¤„ç†ï¼Œé™¤éå†™è‡ªå·±çš„å®¹å™¨</span></span><br><span class="line">class <span class="built_in">map</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/// å°†ä¸€ä¸ªçº¢é»‘æ ‘è½¬æ¢æˆ [multi]map.</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> __gnu_cxx::__alloc_traits&lt;_Alloc&gt;::<span class="keyword">template</span></span><br><span class="line">    rebind&lt;value_type&gt;::other _Pair_alloc_type;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">typedef</span> _Rb_tree&lt;key_type, value_type, _Select1st&lt;value_type&gt;,</span><br><span class="line">    key_compare, _Pair_alloc_type&gt; _Rep_type;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨ <code>map</code> çš„å†…éƒ¨ï¼Œä½¿ç”¨äº†<strong>çº¢é»‘æ ‘</strong>ï¼ˆ<code>red-black tree</code>ï¼‰æ¥ç»„ç»‡æ•°æ®ï¼Œå› æ­¤é»˜è®¤çš„å°±å·²ç»å®ç°äº†æ•°æ®çš„æ’åºã€‚ä»ä¸‹é¢ä¾‹å­ä¸­å¯ä»¥çœ‹å‡ºï¼Œå®ƒé»˜è®¤å®ç°äº†åœ¨ <code>key</code> ä¸Šæ’åºå®ç°é€’å¢ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">string</span>&gt; mapper;</span><br><span class="line">    mapper.insert(<span class="built_in">make_pair</span>(<span class="number">0</span>, <span class="string">&quot;Alice&quot;</span>));</span><br><span class="line">    mapper[<span class="number">1</span>] = <span class="string">&quot;Bob&quot;</span>;</span><br><span class="line">    mapper.insert(<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">string</span>&gt;::value_type(<span class="number">2</span>, <span class="string">&quot;Candy&quot;</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;iter : mapper) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; iter.first &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; iter.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * &gt;: è¾“å‡ºå¦‚ä¸‹ï¼Œå¾ˆæ˜æ˜¾çš„ï¼Œå®ƒä»¬åœ¨ key çš„æ’åºä¸Šæ˜¯é€’å¢æ’åˆ—çš„</span></span><br><span class="line"><span class="comment">         * 0 - Alice</span></span><br><span class="line"><span class="comment">         * 1 - Bob</span></span><br><span class="line"><span class="comment">         * 2 - Candy</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡ï¼Œåœ¨å­˜å‚¨ä¸Š <code>map</code> å´æ¯”è¾ƒå ç”¨ç©ºé—´ï¼Œå› ä¸ºåœ¨çº¢é»‘æ ‘ä¸­ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¦é¢å¤–ä¿å­˜çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹çš„è¿æ¥ï¼Œå› æ­¤ä½¿å¾—æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½å ç”¨è¾ƒå¤§ç©ºé—´æ¥ç»´æŠ¤çº¢é»‘æ ‘æ€§è´¨ã€‚</p>
<h1 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h1><p>ä¸¤ç§æ•°æ®ç»“æ„ç‰¹ç‚¹å¦‚ä¸‹è¡¨æ ¼~</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><code>unordered_map</code></th>
<th style="text-align:left"><code>map</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>æŸ¥æ‰¾</td>
<td><strong>å¿«</strong>ï¼ŒAverageï¼š<code>O(1)</code> ï¼ŒWorst Caseï¼š<code>O(n)</code></td>
<td style="text-align:left">æ’å®šçš„ <code>log(n)</code></td>
</tr>
<tr>
<td>æ’å…¥</td>
<td>å’Œä¸Šé¢ä¸€æ ·</td>
<td style="text-align:left"><code>log(n)</code> + å¹³è¡¡äºŒå‰æ ‘æ‰€ç”¨æ—¶é—´</td>
</tr>
<tr>
<td>åˆ é™¤</td>
<td>è¿˜å’Œä¸Šé¢ä¸€æ ·</td>
<td style="text-align:left"><code>log(n)</code> + å¹³è¡¡äºŒå‰æ ‘æ‰€ç”¨æ—¶é—´</td>
</tr>
<tr>
<td>æ˜¯å¦æ’åº</td>
<td>ä¸æ’åº</td>
<td style="text-align:left"><strong>æ’åº</strong></td>
</tr>
<tr>
<td>å®ç°æ–¹æ³•</td>
<td>å“ˆå¸Œè¡¨</td>
<td style="text-align:left">çº¢é»‘æ ‘</td>
</tr>
<tr>
<td>é€‚ç”¨äº</td>
<td>æŸ¥æ‰¾æ“ä½œé¢‘ç‡é«˜</td>
<td style="text-align:left">è¦æ±‚ç»“æœæœ‰åºï¼ˆæŒ‰ <code>key</code> æ’åºï¼‰</td>
</tr>
</tbody>
</table>
</div>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>STL</tag>
        <tag>å“ˆå¸Œè¡¨</tag>
        <tag>Map</tag>
        <tag>æºç åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title>C++å®ç°Kå‡å€¼ç®—æ³•</title>
    <url>/2020/10/11/CPP%E5%AE%9E%E7%8E%B0K%E5%9D%87%E5%80%BC%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="å•Šå¶ï¼Œå¯†ç ä¸å¤§å¯¹" data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">å“¦å¼ï¼Ÿéœ€è¦å¯†ç æ‰èƒ½çœ‹~ğŸ¤”</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="6da6e45f63d8fc6ff32fd8853725cb4da4eb635106886448af8d42a03e65c0db">7b3bd1fde9832739734f00397ca2e503236798caf73c3112144e6de20c38d526939d7bdae570ef1c1f5a9af3dfcfb682d5251057f0fe0c6d5c7a9e0fa0c09de1a16cc0896fe5183e27a4520b6c902f89608efc0abbb37f8d0d8a4436b9ae1d76f512dd45d9b3f1c7812f4b5065888c94100306d7b44c82ed26aed33c33c1dc1f94131bf92357bfb9172e4fd3a260c35d0c35150de3b87f3c2a4ff1f87a407457381e0a68d1d1dcbfb2416e1f73e52b8647db68af63f25ca8cb57929a084afa530fdf2322b92f2de9f48f47e1aaaaee288e2835fbb04c73dff96ed9bec9bb586c8af06ac68a5437474a4be527750f3cb0dff64cd233b264b2fd8300903f9846f882f3e5a1fd6ed8dd29343189b55972189bba5861a7834045ae813d5cafe2fd63380b5fec1f4361ee7cd9b0af9b8d4ebfed669142712d24bca5f06baa1b5b52dcbece5e04c24495f3aa3825b1f39684fe1b8a58011bb845ff0b26032cbb289a9324b649816a3c1d2123e30047ae629f5e2ae4d0134531827bcd44887e7e3c7dcc3e56d6eb2ede9d98339f0331d1e149fdce4eb26b25d4a87eaf6627cc630aea5079faa8ff05f5a285f5e8b24e06909319ff9df5fb3cadbc4cb6d3261641cf48fb062cd01195979552b24200c7361a845bdcd845aaee7d22b2927961c9cda8d5bba441cc9201a0bed1578597a0d2b01cd003c13975a316f5691e54170590678ee61a99b4205b6648c1ee0fdf4e60c5ff2443477140bbe333ecc6ddfe83743d7461967b0b350faab453ec3233f1da2d8e4ecc370aef53d6afc76c2db6afa69e1a4b1f7c64acec2bf38613f6d3d4aa521773d2272c98454ab12683602a1d869b522f939c9dc7846d88da0ae98a32e0d5b6d6fc8efcd2c5a4cae8fe7e9a66dd3272a5003b33705abcfeece0ef1638c112388dfe1bdf411e3001924b7e6858fbdcaf476bbab72849ebd8cb90aeb10a0b072a6e48aae8985bd9c62596e68c82b5eb9506ced68dee3ccb97f8fbc1a90f7c84b4ba967430af5d274f43c92594e06ed128ab9fd670b739dc8d373c498d3a7da6db1ca64c44cc43ef4257d749a2385a93846a9827bd551c1fddffead081eae62fa6c1fa74c338f373f06722dfc202f199e1a3dbe3db0925142df87da60cfb635da47f7077ce85aeaf4ee7590330d52459d71f58ec6329054b04a37536011147f6f2ded8591d4c4d39713c34cf07cc6b492a6bb08b138ae7df85396fd0f3b3ed9753eb73615b865137832b4e852a645a386dd9d0536ae08a1922c845609269e53667346bfed527d76b0c504f7b50d881a8c086df41879fda387c6e0cf12252a33399f5f45d363c7df57f11099d180b5eeb8e2e835602322db9ab9fd03a5a77c98b4963e98fe6b7c0980b9842501fa7e2c0fb08a2b4792aff3d5eaca248ef450b05140413bfa12eb2c1c54a2ff4b01ca65a6db0b03c343ec6fed01d281107dd9ec9c0ded884797fa562b722af5c3bd2b615bb79e7898ba3308d3c8189cee047ddcdb95f4ae48b8c856f54c4684f1c8dc2396d77d469423e7e11e27834fd5fdd28ffc6224637456ba2372934b328593b395dbb913e8734dc5327b785961ce994a1eb40c239dcb8d184a401153e0e1012e26ffc9d5b0d6a48c2bbf109929b7741ed1a845fca10ff3bd4cb17fc66430880d8c992bcfc727837b5b5f27ab8bb70a23ab3ef9625dfb9fd9c742d70e67a4abb6cd1e7757cc4fe8eb02cf7f25f8239477f0470f00fcf2dd59f2b86573624e98be68c318fb967a7b8fcf64101971b2cd7b7bb6f74b123dfad79dcd2d22a683c11182948362ba7944da34fbc636f740c6f3876eba10c42fb1f6be4459a2a95c9f7aa17be2ad19a2c24da0984a8d26755192ab01d0a349ee3f7215a87f9af9e78d92bde1a90ae66ee9f736c390bd99723735e2a8e11f2de87b333826861a6e91baafa20e31af1c040c22ab1bd6941e0ae7184d87edf536f593e108f63b6caf3ab4e0ebccccb12b252ff0eb4226cf7eef7ccd4e622769f0319299d6088be7a8ae3fa1be228735c47c81137dedaf810b0a173b0621e6a70057e9cbbd493e306c8d10eb127da9b0a42f3c6b3c9893884e7c8091928e541ae7604f2cb8dc7071da49769bf444586fd1b7c584421548ae971fa5d38ccd74e2b703bac252077fe639b1a04a7a514397bdf2649579fd91ced28f1a110f11b90d3986ddd8df069505a5ed78b73822ecdccea179fba4d39c4717b98ee65d2457e7d032abbf638ae90d5c61fb6c915def6c9e3d5a2732a9f38e1676455419c9857040e0cf89cefbae869c305aadef5d012d2064c16b113746433a920664d01a209115a190e686e0a7d486b5f868bd9daa700a92db85e67f01725c6345802ec2623c9d8609fd411f30bad358d36e26b2f03569fa65f35c5a8ff98ecac3b6519a6de238caf6e117e2e8f786637f2a94c4bcbd5be3933e2de080268157acfb9db16025a9c1ea045546ac4a004866fe125a71472c7e3bdcf6c7833b10ace50a820e05c4edaa5c098e9e49b2025631b34e27ace6760509bdfea0876c0f161ff0a20a7cc3edae30fb30ab51b609df91eb86c6f302276a47bc507d6c0f0d690a7e3203c80ab28ee9d409d27c700e459ad373304d15d09eea2334accb35c1349ac9a4affdd39c3c2c3449338d1b0d8828c869263efd612fbdd9517db1fda5dd30176c886e730ee6a12cc0a3a2bb8ec98b2fef8352880f0565da3ab8fb0f255cb0cf65bb0f1cd88474541db51ae8358fdb11cf46eed3de7a6d3425298ecca0f2c234eedda9ac4ecb0d5ff6d150f7bbd38100ec6f2b25cdf812ae21c4e5ce30e89e6e9d2783da446fd8fbcfceed09fa813907c363e1ec4d6602a8555e25ddfe0a01bf8c15e63f5a2229429c4a715f54cd59538b72121cb9af3bf5d025bb01d04858baa246251005bfff950940cf5c3ed03ccf15bd9bd3df815b5b4e3cc5a53e178ac9e5db2e5b165a1001c10983dec6ae98c2848c6010ed4ef56d8c93406b4c01cdd32b6f655df40b0503d9ce08ebc32fa5996593e2417a1eebee592b3f4964428d3d36dd9d5315997013e101fb15a4b56b63ea43b8e9c260cab2b1f0372e35f093431458624690a06fd03f7e459eb5bad0a2e2fb7e9f8cffcebeff23aa08b539ebd1d440846f7c00d6c749471f66db4e079960410bc4c5202f0f3f036f6a9972a87feba35fdebd09061d22067c447fa7fd7445536d2cf117fae093ccf742335bb291b1cb15a1f7f05368ab801d73285d353aa4c5f3e0329ea9361660bf112dbcef0e2b0f5d2bb473dfd465195cb21fba44645735be78c0d74d46dd549a919629e311cdf80a9322dc5612431d1519aa71d7370c615c9e9916c1227c40f8edab237ded1c15dcd906db3c938e2ef7b3a014961696f227fb3767a6f32db27625be3ec4dea5267283142fd41ca7a291f95372c882dd5d36e8202328a34a37cfb453f0858dab9d92949695085949259ebb9c7fbdf3bb29f98fce02e52f2558caab253eeb61fe705a742e23a36d08f7e247447c4dfb5c1164c0f71d97cced6b7b57f4757a027cf2b2c93bebefd2b1c9ea8f679f04b2e15834df9ddcb1e9d865896b256562455b5d1f54ad975ddca7802307f253c5e89456856e36d92c016da99782454ad23b765490c6bf9d8c02f2121f17e4815523f80f1b1b268cb7e20e0115b46ae8b690aad16b74a6509d8da8f4a9b5f501fba639856f44fcf48bc5513c308ebf33743ed32bdb997b8608b0fe77adcd5d8c4d919be8460828c4bfe542c4a6c7a6fa39ac3df600856297f9a549cda654119365b03a62361459e0337ee98c4b104e40e6b59ca34da1fa08b4b4eff74d5dd3c4c87b043b518e9a48fff282499539d58a154eb2b545a65acd6e133b96d8373537f62e09707890bcd72c5ee66c5128e2c1e81eca3286060f1bc92b2e67c3537b83fc365ef0691dc43daa27d3c56246192a209b32825c8563406ace8b9d43d0d7f0c1ea44d38dccd8796eedbb37aa22b8fcfee1d9457a1fd5f35b4c179587453d30a9464cbd16b39f8735e7fc46107b92ca48adb21e2db84f37f1bcfe45ee6844496a18573879b0df4fab9cbdefbf3c1abe2fac6db2688be9b46a2faf29e9a39021393bc9e78375054c06ff8ad3c8627588ef7ede4a93ee8f7d0a700a5c73c1db8530b3b3fb1c6e29f9c3461c25f53464a29bac7e05a70a4466f1459ee6672847ff01bcf8861803d53a59928a2996c4db0158affee3914334ef1eb54b7d88d92aaf9b81f8e453daa38603613cc0dbf67b1fbd2a5fa269e056ab6f43462ed7bd00a3c33dfe10ef1ae913c5b5362592e43080276a4c10ad0dc6d1d243851d9f5f954c53ef244739fd47c38f225444650487d0774559c64424ca26e2c4a59c298e816b3a2f34d6519d38968b8342d0453e8e096230d24f533ddb36381b83f386fffdc736a679b78ccb62f66f69ea28792fdd4bdf3cb9b592fc441a6831bdd9028de18d8a19794318e12de6c0bec3e3bab333ca34f5028a77fc5328bdeb5b8a805b638ff880c7272cce722218369d0c36f640626a7596ac30585e844a92a32f1c83a494e447758273ae31355efc28ec7b6999ed613dcde6c09bbebb4afef9e433dfa33db2c3ac48f95d941d8418e0ba069b699fc874716164131d5b8e92e6d9dce1cfd90bd12378bc3391449fa064320d42893098928438185ad9ab75a25d2e03a7fd662b00ab4563b2d601f8e793cf2ed0365fb7996b11adacf7d20a78489b68cfde1bcee1c99af1888818882e20b89b094fd9a638fd60fb46d4cb10a1a38678e4f4f8aaf8eef7cd1af3a92dbab2f5ebef46f7c29168f84b72d3a5b1023d130e928d5e5a2466b393b4232a2db8f9807e952fa594c8ccce2a2e1bf52fbd9236eed8a0d03144d5dba795a40a3f5bb83208dc167a8e94378aa1986945b4d8dd2e9bb789fedf0aad03e57aa569c880e6e7b24e435d3527adfc02ff3b2167565b7d93994a5460a34b3453e51f40e0b9dc9673e1b1d15143d8dc823f76c560f2dd2aef6d32d66cc5da9c1c80f28869c5bac602ccf546bf6981a4b55622f3dd19d5e06717517dda4f1b629b2fe7799e9ed7c6bd899d4ef521c658a802efd890633ecf33137b00d477d4de26a53412578fb459966f04bddc90b981f7e02aebe95823f91421386625f9f3d05b0457b8e6b6e3f310632c8ffee2db8fe0acbc6b22883e42e2682aaa4d170b3705cbf8099457f42e5040544e13196bac6080203e43d4df641dfbe10282bde1a05b175faeb29e973708f4d03a37c2565df55d92b8e8cc7bb8351d40995e6030ad6511c068008d53c41b455895ac7c85e0af560f0efbf21a6b1df8b0d4a6964095ba0772fe95e5d2352fb2c395620b1859caee2e897dcad0928ed1471436dab561c6d5de60b0a6d04f99aadc4da2cb89e6c503f88ead86cf3c7090466f443c299e6fb65fe7619f76af884598d2f5b5a0f2779a8418c2f84c383668e1932efceb32b5e4913bc5bf46ccf01cfa410e499b4435c0059a59768a343463a70fdf38b50e4bab8406597591fe0e11e375741bf739aee63e35b6fc24dbd27cadebf72392d15a562065cf9af50cbae618270fc65ee806df93ed54121b830235dab049dbec34d48c793977e92b84185730c84d8690de45c8285936d4ee74d932d346b5d7c09ea170b913d39251e790a0b13a73462f4bc107442a314b9fd7f363850e6293d720497156949c400f698aa37afcf2a0b2a87da289c48b66fd4d53acdf46361feaee4127a3bf2a981690f892f6cddf8e8a96b6a28f59437dda8f860f3fe3a5c0831ff836bed4b9fe98c6373944df00933dc6d3c8718f097e925e439246ec1fe16e5c01ea6d8e0d924f99322b2ada19695847fd9f3fa0280338abaf1fee18d74a897b0d4693e50023e4206111a84a704a919ef0e0f34b1a249a5d246fb842d5e939f6e9929268fd92b023fc9d2638011da5bab685844518f5260ba5b5885cbb46c62fd5e115709225f9c4143e0e15ce0ab804e7a3dea7459883e1137d3d56c88984af4b50b29daff5ddf026733591449706a462d222c9320af93fddb2730375f368677c18e402a9dda0e585ae5dd66e7bd30b62570bf297a7053c9acc066372dde8033ca6752f5190b7f9ec68cb58e6ebcdbc9c3f06d12cb2c0e6c10507e8f448bafdce3822dfc6119fc520a7391059bd8dcc818602d5705bda1d4b55f535b542293276effa5e50b0ad630f3ef92d36bc5d562f6d06c501b800c028f084e3a9ff4269a040eb627324a05be30fd4ade0146ba9c1ee5a28716fb9c7cd04ad26603c665f1f18f42840a561fe55841c3c0453f620cd3ca938a36068e00aec1b13481d4db4f934c367930ae12be5fd346115aad0c43adcb75d6d37f2ef48fb931a82604efda9fd48647a9c16b2aad51b1b93065757077fdaafee7464c00cdbc5a46155a2fd9554b695fd0f6bb8a4efa95c122a84a376967531f33523a0c0eebdc148c84c405272208fd9fcebae6cd48233d40c70fe8b71155505193663cf6b0943d0cf2eb126ea08d614ad77eca005a0fe569f5a73b11159125a8a44a9d92de41ececdf45824cda6cfa36f12a8628c18888ba1a1d40ef1dbab12165eb5d32e582d97fcf1cac22906a073175a08774803eec469ed99fde15cf045b5789e7892423fd082e7d872d51bfbe041c7843359f2c93a317a4e5d435c3f751a694f16374ba4efc5c0de08428f89382b428d776f551001690e68bd35d5dd0d5a35eb5fa7669cd17bb422e77d2fe22d85c7fafc414d728553628ae509805bf1be383f50d7e9d730251efaa845d01ea1ea240d102ab03eb1a0a74bc7ee42a04878e7970ef20f2f69baf244a5318b319d2ba1e1aa8b70848e38372ddf525ef125a5f4cb6046c887a4a062cce39ef561e105fd627445a2fcd3d5ae86f3c49fff35e938ac60feb9180a412b73d1924eab2068ace9384a886a96b87772a2a86b39a29c19aecd6e85730f659b28092e8c8873ac7960f41dbbe5adec0627dbf951d5d9ef872723c971596567ef0e6434118994f9b81585827570332c35b9f2f9a44ca1af10e6994634b3fccc30682f207ef23419d699690663467c95da44c9ea0f5726d52b67b01d8b1a3de2f7300f1dbc948b42a22e9143a7fd6cfa0331b1a01bab787441900a70bc0efa767783d1276147052372e8f27fcf404e4e8acbcb04c757e0e878263a22494a340e8c684bb9b82867d5d2b886339e758d73446889973cf035c99e42b028af93f48db159fef5b0857ac005bcf4286a560e4b89c871efe02a4659101585047057340da0b3bb759c285c127fd113cafdb0a688e5e524cad18aa43320661a99d1f9134c8c1e489e7aa3517028bfb9b3dfca8dff0208707d0107ed80ff9c55b62e4511170adac7f940bba0e723da8730e94c1b2ac91762babfffe652e4c3120c224b44418fae2dc36ec571738502db6a43f649a9941efc6ad6edbb65fa204ad76c8ed1e4d01dbb39c6b9a9f104335ebb6dc95891f4fadf52f1d3fb3a77644324ee3603ca55e10c752594a9fe5c2ed1169d9d45bad393816b1b01efd065f01e575ee75c22617a7d099270403a5c0199dc333bc9f02596a8eb7ab8c25e5920ab46ed83a05842642e09f01ec0e69d76d7eed26b0ac1387b6d8d3decd8c34d8c6b4c2f65dc32e25c4db5585427c91b6e252b36af83f688aa26c0c0f28a7ca7d55977b5c209147ba6f37e3399463ad927e3ef7f2c54690fb6977c3f3a16857fadadd81cacbf05fad3c5ac2623ef889c40d56f8340ac994f3845dc053aa842b06dcb6afab61f8a5578a66544ee95e3177362a74c95d487d0ac63bcf0a602af680b0bd23cf2a3c77c13ea989561c5ba04010660b3aa6c72753b77bdc2ecf2d1e9eac384eb078db4f62a718e8c418d9a9d8152a16282588344901bf995c84bf870d5f421caeec4ca260352c66e6ddb43c1cd464318e5a513cd4732a4c716153966eb0b6aa90476c30343e41d0a9ddf44c0c0ea3210b48da197e38fe9e885cf22118d4907067a153f6da6e625a5e4ba61781e33c19c8a3da7c7a048a10c97946bb933eb7601206bbeb6ec3839a27efdeecd1aa6f98e5e2e04391753c91da7296fd471a7ef6403eb77dd5046a6c30eb6c1f65e27a183fd16b80117ceaa74bfaef8ab7c30b3dea2db466d4e41c3a02f6fa3aaef6409a85d6344ae81f2e937d366110897d8a9aff3147f2484b7c9f30cc554fc66fa52c279ba7f6de819bbbd0311e5c049b29394d4d0ff4bd25f8dfe51783581373010efa504c9242be00fd86a0e87ae9578a378aca2a29ef90d8c9dbcdddf519aa9d63bbc1a27a0521780ec14ecd73f5e402163756ddf8ff6ff91b65d561eff8a692637515603e3b8880006fe01f3d3e20927140fadaea1b3a7e57005dd0f73f9cd551dddc370b48c211dcbef59d69e702e7c0d95ee5ad5ead448b7d0a7ab358505ad4c2b562c79ee628a69833e690ccb7fb50f54c5e33b343b9b12e69961e5aff17a451e842819532cf5b0a59c06b6fb4797571d586275f6f38c0d36c166838d0f477d32eaa410f31a441c50008ea577934736357748e9942bd8002dc82dfeee7016e8d467c367a1734e040655004264d9b3b30ea319f9666df3adb87f02e666ca848c74d2e78c548a4ee0d6e74bdbd42361b31c5978122ad96e19da7cd6b2887a3ab0c3f99bf2c8661d7933417cde0449b125ec0d2a54983c58229f73332dbdf29896de8a59f994a2caab7ec598770a36578b126840eeaae84d1d8934b2485d97e7b6e9c81f3d107b4899b9276deeb19d8f8cbeb2705b6198ace729d0afcbd46ea9b0f1e2528a07d6f217a4e19ed2c27117a47f04289e6b57022ce1341c13c0fc64b4dbee97b866714334dfe989143010da5a291872c9bc8c7319f14bd36729abe6a7f5690fd211197c279c526822c89e7630c5bccfd23c76db3fe55319fb4a4b411a5991f926ab37a46c93eb53932db421ae061da0c9d487dbf3a8c8674adf0f5664c681095866be6283a2677472017df0f2230315528b657e2f817f1bbe143cf533c983f6e2cf45edb2e40d90af9b49a66d6c50293bc0847f5c5670e5a07243c4ae292098773570f97015cfd4829473e2e3a2d9766b043a2acfbcf000a23608f7380b4145ea1fd5437541cf3e72e9605d59b9962181ef5107619f97f3f5c0fce4ce33fbde27be7b0bffb1b3dd15cae138187352bdb9e245d7353a3d6de3fc6b2264507031cff9187b33dcf423fe5354f4eff23f34de4d39bc515c9060a1d1ac6ae20f98cd0f9d579f4ad1e489bbab49b8351103a88c8165d5e5894d7a9c33308fca398abb5a065ed4bf9c4e8dd19671b94aacd20b19f256a4cd85a5c7ec69d3e6cf2470a913d0fe91902eb4adc439d822efc5fe7ed8fdff96445b11373ec1ca0bd942b97394fadb0ad2e7306a02c19fea7b7eb9af927a6d8faf042b102c0fda8a74ec4f4e46c5e3cba18dc89afcba17bf0f586a3317222954a307439f6125d4b17b6eaff5251fb056206365c8c926939e2f14eee9d31348fc3ef0b28c27570f05bb19beb58f0d5e45e496a80bda19d387752dbaa5dca7e6a146db14332e61d2fc5832afbf6e4dd0fb84351533992c2ff4fe70a12463355ec899052ec842ca7d143d0748d350e808815bc88662f1dbdbb6f353b0c5e59cd97dbee4e29cf2ac72053f465db34253b16c34dbff374eb1bca31ee8021c9e8fcf396c6c403889ccc01cce60f5e55ce9d53891d6cf4f47157486f4555988d410c3be9cf25c8745adb7d76a98f1e646eda0412de619f5055e5d2f7943e8a43caf2294df6b9be27c03780511d11fe438582e734559e186ddd2da64d9df14a918a26bfe9239ad5e43cf9c525c73849e7cde6b3f061f5ea1bc901c7cfbfc2513f8221a49e7c8be1471aed2196d0d4fd9eb989f74e44831e071a317a735eb8219feb81e4526d10d12b6059189a932af706ce62fa37deb9b38818492b7dd93c78c1ab916ee244427648a3a81e1f8033b01862e49de2e29219ae7d08dbfdfbce79e8d8774c0ff7c3195dc285674f96a0f84d729c57308f112c770782b6e780845738ea59fba567d316bc885f4bbbc9e93b246bf6e6bad80b600114273850220e3fd49ad1c504a9faedc263b1d14d7f99254974e8345e4789dd48d2429290f50690aa5b185aefb5561c4e2490c9aee6820c5c308144c0e8373d351a6365c57df130d85307c204a18305e82afb2854f4459f3a80bc94375b0a091063076fe4d10db64ca2fe33304fb54a0a112b824e8449f38a4b96223305c121393f2930176710f4ae406a12ea122f376ce67ec31e9806a87a1a71845b53d1fbb5a5494cdc67e0f178b19a6a855d982f45710587d77a3c6cb03567e2bdf507120911264366532bccd9b297ce1308bac49578c9881465c50961a1c0ef0ac70b4150228f556da0fd0f6ea13be8734a17d03693a3737a19a7dd942f966c0c0a2f8689906ab6191c3d410f6311feb84ffa843a103764bcfe9234318d39add049f48c2467eb5e304fec14cd3f6147445021e3d4dfff86f3c250d2cb4bde6c611338c1078b0515513dc6e923d4cd749cf1313077dcda086467f3fb3f9928d8b08291f5bdd3f6366275cef82ba1e01aad32b9d68c394a16096db9266e99134c19fb4796c0633ef38e1dcfcad6f3c12bf6686d46d63cc3f8f97bb0863a8037741ffe352059f336e882e85979ef3408b2eb0cd3c4a0197c43a396c679a21e918d27a0acefe4145c5ba7b0305b8fb13d32ef66392be9dcb511c0a5e4b2adc42ddda18381c20af2d466d8ed53b88a25dee446454547a2ab97707d00901c86ccea01bd16b7854efcd8a3a2b86ff3bce36ed57e536e7e3a344f8c6d8cc6a821e1535d2e3f27b6514dcd7c14568627cc49de289434c04fde00846b2126da92dad62cecdfb84cee247c63470a2ae6e89a5b77ac2428436f730799fcc20143d6fd0b7dea3fd10e3671dd6b6009e9d8282223f1056993cd6fac899a53dbb2aa812897b0d07d78d3d19eebf8151f3b3d1ca879e468c76394c7917e9e7e4a7215937a8c242ed0cf07d7497ac4b072e92e75d9e873932a530a911f358abac99d589f81888f0a1cb0ef362d1d7a2c4a1ff0039ecca357d914f5b3e1b97b02de52b630b35b01c234f4fbda4c5f609e7fdc1d073e2f77ee3a0e961f1d7fe6ba9f393b0618192e97bc4a2d2f51fbb24fa07572b34424b80b5f93ae3c6e2e326f5acadebb71081be23ced27bb149c55b3ce1f7147fc029346dc86d3cbdcf2a056613198944f9a9379008608adc6dc4cb73fcd679f355f76c412653e9fa73d08f11733bd16846ad796e7b80382f4f3a0ce51d9c9e86f146bcc545a602c170ec9281ddadddd60b33b37a29964efbb40bf4c86634db5972e93ef697c5d1c9d0d2c35e11058b757a99f984f27af16c89fbd2df77344b581d20097add2bdc478e2f92e98efb217ee174d0595c61171d3eeeaf0b36dc3219ea8c86d0bec50841ab98ca5b7e0656fb1c71717cafeb101dadbd684e94a48b562bc227866b1e0c1bd28efd3534aca3dd7561752d74e2e30f3b74dcc0ae688303589e8f948d5bec04a38481a195894593317aa42735425e3ce37926b686a8708ca48757a9d46e575d8aef1357da8f91a219eef4583b7705d6ab6c1638ba0351890c2909c27d17729be02f23387373994a13c5c7cd99ec738144027dcd7445622885c7aa4fa820bb88c0da498336256af9058391c34751eb4db9e50014929db2dd9c2920a1532262ff691d131844a059f5dfa4fc33f98495fb5f96245d5018ec15709c48c9d06529d853280efe93fe51e7561530a1cb37d7232a858e46bd7a5f3b6e3a513a7007bef690452f553aec83a6098806cc644ae9778d61922f0aec9b95e3f1253e8caf0ec9c0f465a5ad66b4fa6d5b55684b2f4ce3d1b0a76ef74a7989c94442b8ce4f2c8de775a0caa3953bcfe72478faaa604530c62f824acfe9072aa06d20af3a53461839bc7d8dee638b8d9e2f47711a025ec87a91264a44e3d07fe4bd29ea70760088a5491ee9545ea029d700deea1149ddda807adf0cd700b993d32feda37d8f1c88973d289aeb1211d5c96d9a1b1a873b2ded11b9ba6fc990c2c9d8983fb94e0c1308ee83b0f76b51e6f250d9b3d9f34697e05075e7a1e8325e790a8577fa77ce947e963a1adb446ff294c978c2ac6f395d02c38c5d1ea6a57f36082b3055a3a446d5e17ab2bbf6177290e67e045c7f46bfc9c694d96245d88e06be2bd050426e98858bb699ba216ca50d5b24d613cc22695aee7b6ab454bde89b4444a5b15b537c7a29fb492244c71a14d78a80ec12d3fb9cba7515840c36f93e979fb2c0dc3ae874ea8fc8d4d646225edb12cd79e69f3232104be971dba1098fe2e51db67d3c63ef676710187b61274b780806475d2ad6be542c7ac2953e29a970e68674c91174e08dffc62e46de0c7406d31affd54dc517d0fad3fa7720aac4b157e64e15a596f3c7c2b0bd0ffdad29f49721cfafde4a073c9e101dd1f8293c3e229bce64bf15e7948519c3a03792fab3dee135e0025a4f963ac52a48c0e339acea337a4e4dc1e5d0e579ced18339bf78decfcf90c268f6d3c0c84cf08c3b8d5e295a41dfca76d6dabfd44541d517d1249fcbc6bfd6be5de17288bdb36c8d43aba9e83d81c424e5f831d5116cc1cee1a5dad096d0ac0ae72af7c5123ba3003d8b1ef89535431caaa4bf7ae264091f57cd1fa521201c932780c3bff7416260c2b4e70b434e135cbe93841e3ed30f07d5cbaf767c558095772e2ac065faddc1b3d70f7eea1d753378e6d5fd631f31be2512640bfa852a740329b42d4fb5db78a0adecc49c24177e70384463e957b24a59865e27457673db0c3b6d258d38cf44dc081fd45a305134dafe5106a725f0b84167603f7ea8de1363c833e837da54aae282d4b6f0cdbdfaad91b1e67e165e100fea78c38e9ff240e6f3c8fc5159a684c303d1de53bf2cdd72d92957ec032f147d3dce1c3633b7a55a03ef633248b69c936b57debec2925e826979f48ad02b54e2a149d7df8aa22ed79beeb43a9f26e2140c0a062e72519bf9958a8d0ebab76dc34d000bd31526eca0bf602138ab7f4ea63beb1e70bcaf29f2c6efbd59695d6566e3230ff033340e9aee7d60cb8ae91c1927962ce1111768a8d9f07ac41945aee195ea7716860fecd1714e21be845f3742c585c654cbdb7ba7d24a9f319b05eda5dd0e434213493ce521dbff661be522889df4400be8c30662f6bd2e13dacb520f362923b250581ba06f1f9dbe15d96acfeed1bea56228d6d86d0650e2489b4076977f5167ea87236f5fe1dcb580b5460a1c42c630327083538652cf1fe666a32c1a6b909c28bf8e5f8ed02a519ac41e9aa1354359d15cfd7c8f796d5cb68471f031b7d3dbf606d1515d9924e530793a6ccb4e4a6d64cf3864cb23611e64bf3360ec51c4095b7b162321c9a203ef689102ec6fa3c383186df1553dfd8427282db8127673ab5c9fe08d50c8f3dc0fcd0bbd06985c8f0b2feacb8f35b6e223b9362c0e8093434ce142d74f15d6d7cc9df04f4fea98aed175f5a50943fb769994d420534bf0c0b956203b2059e200c03e6d9e4d3a15cc413f7fc1f2c18b40835b3da5d0f3b04822104a8ad2d3eb78a7cd2b09f74a8935366e78fac71e863d1797267d60504a25a3abd58c5dc193b01de49f3c702efccbf7054e897327976e8ea2532be3b26eb1eb948e58779578a9256926c531b587f8789147bc3788f1b6f3b42e1f10b55308270d2bcbab3a33cdc02e8093107c73860ab2502236725f65f5b30e623cba96fba45db5da7b1193a1a0ad587f42b3a9edd8fb12ea2f53ef4455b1f1aeeeef67195a37a7555f09eb8211d4d7a7e9fcf3882c9e1c85d9fda58696565300ff99730c57edcb74155f7875110129ab181603a2d7ec725160d85e66a0819a63b550fffba96f42e8400c3ce13241d43267894d89a5a49a7e4a620811d54d037a53153c80780a22e977d7b572e6af4524fc320c36134bfd8c074d5a74ea9190759ec5a2d9908d3b240725f7738bfa48ba5677a6a85a886e200212cf593e75da3115f5a8e0e65575ea83fd646ff3048aed7857df5562fe223692232b9bcdbdfe5e032198e0440e6115fa74fc00d5fd15ca9df35e8b5030770d6dbfe33c117e33b779882c6d3ccdbee54b79e92e72cfcb79f9594cf19e32fe720dce0dcdbabdaa928bf3417a96b2ed38567b7ce8fc2f9712974b3dd7a21ceda874ef4be417efcad40235be83dd3ae69060300abfc1fe64da48b5be53e82b181cf0bea63b2d53aef62a994091c62deb0f78f66e3223df3745d6ce4a29c42ba04762cc57ba49e4cf82656f25962391101f275e322ff5e7513c3a8b81e48224cfa67f202fc2cae4a5812e05ebf27130ea8c11cb2463d297c0f112cea83bedb0991af4d767bcc1ef46a63fd7f93ca12adfeff8aa1d5fff9dc7c81ade58a8dd3cbe826feb596c458893a3188b87f7b558dd6221d5f636c35043ca161b9720768863ab127e2def46467e6191b10b2f9f6156566048939a74f55accf511c771a03a8e4bb634b23b1eb904781cbe55735cea3e39583dfce7f387092d8aa37abf79072bbbc3b740f6cc6fc467d4d8540df5fdda7e28b92e76ffa196c75c9a42b7000e8b8d30ed63d26d422b2bc0ccad84ddddc55cb3e136538c9949005670c0aceccbd53d1c759aaae52309239bdf97047b328bbea39e45479c0225dcbeb26d9d724efe6c91a24780410f90de04ac19d0926b9be583037ee53bf6ccac6494e88bcd5aa48b6c61ad7fc8ff4c0c92280dd063dfe4b63f39bf6256ce64328f21b16793e12a880c72ea2802867903f37535eb258467e90f9fca7f8b8883b789ae31ee13e44ce1e55e336620feb196017214d5454b38a2e0c78820a4b8ee668bcc394c0f7f7d271539cb2a8fad9f436b5e8b335ef791611fbc2595b144047481660b44ce1fdcca38d71b83db48b8f4f8501bcf94eafbe3e84f35d23911cff88226ffc1e356e2efd8ce904b7d9014d0cbb5252f9e8faa6c36969aa6bfa225484ec30198f3409b1946825cb02325759387705254bf1c93a703f4c2bd908f3fc9323884eaa756e7d7749db76e01859802e6701c03d3078bb466374f20007cdd3c702cc5b60066e24cf045c0243481cbaacf6dc84c5be2ef239a4072f7b57e95e5de69b2250fbad204a1b696762b5495dc48d4f0f8f4b9726212a75051476045a120e6b8fc2ede38228a17d049c9dadd4ecf356eb50ea9e26b7d18d404c26254aa24abe4b3fca0a41c4b2247d0e134158e86d16d3fdb16219bd72e969b43d8739b3ecbc0427f2989242d196f1d54172106b8f7fe1fbc15261b98dfddefbd5ee805d20b739f01a7f32a6759723fd27f88f6a5e3d04181d5a18a4eab9356734ba72356333a8256b6d2ff7c13eb87621a3cbd7c7744f142b83c6d35b0e6c87f0238572ad0d13c226d238256d64c11d9ae050b41011a159aa585295160f19ecf0a7782ed36cf45b2f65c29f6e00ced7f0f21dd28458c5019f5126e5054c185bba3c52a912e9c9cd61616c210a924a5ac5bff368d6a90d37d254f3d5fda2a3b1411844ec16b90810d3a5eead477c48bcee0448f6894ba1fda702a68a96222da919d08013214507e571d359a0b2d29e353ee78bd5774a4dacc7870053db5cca61d341e1c4211426b2a245f929d428f1a27135346691d72ad85e77e3adf58f526e6cee7e53f39529bc0c9efdc4afecc68b4dc951366cb1d3701e1a9c81719b4af080f73f3c426ab2728d30393d476293c9ccd143e11fde0f8be632095818e4e2a83750f254a52bb6f88ca3c0f692b7576e309bc09c8ae0ee2c2804bb9cc15740f8d8a4a6e69bc61e218891b59c850b701f190cdb4091dfda21f10c916f354b098e4c3155611fae88d2fa8ff117e394ee93157cf363d8b65beabcd44239207f76352fc4c9767918af515fbb5f1801213529f91adbc28eb967ae93e5c79e55de2f390c89439a7e529ab4b6229e6adbdc2a2f0c1b3acae8f3f3c65ba509dc8ba18508cd65e8db73eb32de5866d0955307c9f551849d893ec81ad1b73e953becdcbfbf722adeb09721b921cfdb147afdbcea5a581cad0157d74049b6a632c2556ad7e7a5dd47dc7fdbc36a7f6b80a1309b833fc43e45bb4325960638500eb9e6aae0cfca71e30cf082d83e913ed7f26d969eec9e471fd64fd510b144cc032fe7e71493d4a391d19d0a7e5f80af539a04ca4d603b79abae8ebe1c578869895790c259bad485b023ae712ac64cb7dab4c659e1704df97ad87e190e1e08a8d12ecad350f951204df1334fe3da7609e4e44ed9006556a9e911d8940799c6883072502cc36bc694651de0c59475b00785746e68dc8ba3bfdd1430b71cbcdde81f669ab72cdd986088627ea17d4b4c0f25f24b1eeaab26585c4c572d793966708ae355f0b994835ab316b71ad28f386b17a0434848767e5333d38f07debde046ba002cb44a68cbcf00de2f5611ce05a43b562e30e1a31790b40163af4c32de0e85b89c24714f134ce99e4eb237b319cd649723b75f26f5e670592d7d40647c51f1b07ebbb75cf695dc180849803b0f6756d74a1da34d40bde72beb6695c8f8a46c4b46f6108a65ae6c2e62952e9db22151d0e59cb3151d81c56d5d798a9e3377d9a07e05346cc28a9f6f39622281e5bfdd08a3ac8b487b00a6977e7d45fd99f9cda6e9c4b195c0e11c3b9c175cfe586bb3825390c30beb7a9d15a62c1385c90e0cf5d8e7b2cb36cc3d465f109ced06e5608f7281284862051d5d87a2e3518e5cbc57eb018db6a7ecfb9c02038da110f12a70c7be660626b686d8dfbdf468490f4ce24398b1c2e460ad1a97d7ff955af0984c8734aec5539deb524ad46013d008b2afeec12c60e7e4753ef7141d41b5259f2f046e24646583db5dc43b999b4f729284f30d1fd98c27cf3f9f11b7080122d0ace1404740793ffca3e6784faba6b17743098906859958ad3f14d2e14835e2a8cf8c86bdb30254f39bebd4143a5ef12b0177b40f6d578b8b826385b9a3e8f871e072a6803340a9c0764ea44f81c074c0ff1bb72c0f02700c353ea371d586496d7c309ab121266e52fadf2347907e731096c25931c4b18ad91ec2ec6acece5df55abc6e98f1ff86a7a3ed22d873831e7280bf7d9f72ed49a729504e2154666d9ad6e5fb33cf34deb895de7458884ab56d39072f75df2fbd94e503e96638569a01ad6f376435ba4ee5b25b05fc9f503ae68b259fb01dc5bd0f9be2e923f4bc30e057291028185bb8896407f3bb96a8a5dce0694934ea8d912aaef7f456662836cdde97a0c8f5905fda7e9dff088ba5626101fbc09b2759abb75dcd860390beef5f9848d51d01b942509ab7b11eb6764ace43b51ee9badecb663648cbab3ad0c4574ac4a98d2255c2c9416ccd76b908936066d6eba5d6656f50bbbed090ed1fd70e79e4a85f493d472ab965bb1eb085a1fd59f79ed7925802f3858bdc0c4000b57a5bf92d5cff9376ee92cc4f08dacb397e751ca6a049c524e266f4b975dd9f0caed8ec63f6266194fd8dc80d1685523efd4636a8d3afda1cf75851292ac141ab1302bd48bb47041c31d3e5ce76a38a65ecbd8f8bbad4c2995fb48395c28c3f7de002cb2cd98091ae6e047613064c9f6187fae2c1a91cf10638ba895bb942102ecfbf5a77925ab26d88d373bde63a0a57175e60f53ad1017799db10caa7ee72bbe862d91be4ac1b5ae9dc5b832ae24d7daad63735d82a47f17f6a34b3d401add63212a77dec5fbfded3a559541ef04532a0fbcae71da81c3e3db41de1cbde9818a9df0807f210d1bda84cd6f02c31d94f973dc1a7b4683b3d9e4561b4e6baa47207d8965c6de34cb1c351bfc5082668c0b20f1fd336888b15f278187f2e9056549e0b9a6c9ad895f17cbfb92a45357ac2e55e32c56434c4eaf2e6d838ff0dcb0c8339ca55f503a927234637d447af8d865aed391aaa340a29abc87398f9de5cafb2fe79205d4f0504c0115c5e557b094db44711560818a92e3ac3c74e502945a717b75cfdae286eb83512e28dd0104ed527aa2d2f4cf1ee23ede9a2ef623c15b5b1c034eea6618d4cb8a97f592d5cdc588a5171f0671e5234cd3b53d0e27d8862818ea5711f2c030d4dbb1f05b35f5daf28089fba8795c54cfdd72c13874ea211584a1a87e7e5c5a57de29b87061448ab7e3de36a7858f1632818ce45b0d5b942ae5cd1a8d2c37fa4dea78c79ad65dfb3bfa828d30802bfb6dbee96add811e054f3f1c33978e1cfcfc20ad0e43f14ec07240745ddcd7a782e636b6e1f4750b05db1c290e0259661f899f93ed25d355a806da28602938c6fa8e778b80025a7de1bd997d072e118df0ce2d2eee5ff1e75e4fca884759dffa45ad53f5bb5adde9b12579634e3d2693cffc23e7df2c5665aefce713155ae7942a233c0284a803d86d1278130dd9800f4bbe3b196e95096e36b3fa067114e81699efc4063d862a69038ad71ba61fc792fcca18b908a65681a23359a8a53585f6dab4118527485ea7fdcca6ec4828208bba7beb205ea38a04d15f2267ea829180cae8ee085ce78b798e909f383aa090bb82494348f54fca028f72ebd02cdf3b908ea5d72c6c3583c9267535f04daaee95f7e95cce6405969efcbdcbec96ca40bb4ba63dfa2bceca0046066e9b89cab527ffe3b1f07389de5974a3210770217bf8e9e817d9a6ea02f0eee29d8933b5fff4cd7710f7bfa5b980bf2554bbf20a44f4e73b18db540095676d2859962670d09393385d6b48aae79fd55aa42ba38386c4130beec85c11aeec14a56512e4b7f947f7688c01392326a006b3b23d3d82b463814079d723ca26e2c40da3b207ce7f00854d6d73c300666790eadd2f6c11252ce76aba415979c6ebea40b3c24d35a5ded4db79bc550a2c74621a2931e662196e01cf16e4d8a2a6be09882a8dd4e42862f6bb135a5d2a9f23f4f48e298335be485feb6dd28e882666746d693b57d2184eade4c204aa10ee334b73f6fa1c55efd93c0652896dc5cbbb23e6ac8ef7550e46b6cd48c26f0d384acddcf2a728e2bf88de346369720f17cc3ffe06b490b4bb682e49a107b2a747e1bf761777677cc3911fc61f4689448131602464508779921b609ceee11ea81e8f4b7c5057e4cb1c8131bd7a47f88b18809f9fab90e58d9e67581934216ac4834022c5d9ab6bb9981fa279985ba8be5982d14abb18879b2b95fd7947b5b87f07043d2b20d3d95cb1d3c8bd4f6080d90967e148ded9a5e03e3890cd320cf8b1c37bf4ca321896934256b21a1d02b83e5d3a44e6e6d20bf3fc8c3269cca15f6010e583596391cef016960a3e06a68c1c5feac026fa9ebfa4cf291662d39b28a8f6a1dadd84777c76a4d282fa1196b11f591da9e84d6d0232f53aa747137721093db12e95a0f02d15dc02802710fb541d8b159ab3ffe254ef441e5f4550be508ad072f59b26c8554beaff0ccd43bc7d8ff63cc1553c76bf2e3fbb564c5efcead4ef9e7f8ad8682e673f0e495b7fd2c62b543e0c22d613214a4f8dd24367946f4c46b2f404738f54be507cf8ed16e7c5e8f2933c19fc5069b724bb53fbe187b620b1684e81acee1dea411866856308dbbac92e9b655c4c3755fbc40705c2d166f39f0efad5f908837cd87caa27bf6f8d5b2b4df7dbdd611a76f2a7e62bcdf349f5c01e18ce73db8e90cf30bbc8ee3ab1baefa537d327be0f383242206a3d28b87a7262c03754e05a7d182a3ccdaa5b8352fa95873ee6db959ae878d14dd94f58e0cbe6447470e5363c4e2145c2067ef525b9ce0f70d9298f20d2f28d1ffe55cb6858deb911178bb9b42bee0dcfa4120db890c4824418cc43043a03a715a307d57d91b097a5bad8ae4930b871d6a50fd0029a3fe0cdcb85e80307cc0f6684c991f5a3221ff7c3e85a3cba69838c5450d5259cb5add3cd797d7c420fdd0c8d036a7b10944d60b0f1394a6e526018ef5f067e793fa578390bb89f8a488a7e0ac314cd669c3ca6baf6ba44d89c7f7e2be0b72c85a14f1fdebe3017baefeea830f5ba823e7a20257d327091e6f04f6f7e5fe30b1a4352d34a54a811b003955929b22a90f821195abad6fd126c74a7222387e69c6979ce5e3ef7827ea8ce889d26ded73ee8213e11bfd7291a93c1eb9b8657070b717de4c6829935d5fafdf1f5dac3227f811fb54d9c0ebfbdd011975e3a2384ff15ee7d6b310e8fde0ef89f86a79a998e9a3ce3061d565a3187f89b7dee5dcba5f355edc4a3dd950027b49e1822225d649e7da6eeac7398d0d20f81c79aed8ceae7b1413b680d01c0e0c821fa56032a705efaf807734d5fc1d6e74d175be5755ee22ef4245c9025a9e7c0f55835d04b4a227772126c7e6bcaff000ac7d52abb74243f06387a2f2f75bca26fc2d1e7fbd13387559c785049e6b8afbacfded14ae7420d07239fb62f7a72b88de51b140260bb9ae05412f086263f07645ec8ed3735aba399e3e903cb3258ec6c8febc4c85d839feb5cc1ed578b641a665ff26de587c0f0593fc199ad1034563889164913a9d324ba2160c8652a76fef6941a5e3f30e1fc7db29289d50eef7e3a668f7c81af22692d2709449a9bf7c9ae530aa750488cf218486f7c5de1d126cba8eccec155656d890c5e4ddb2c1ed2b54096c25a7fa21ef4b0164390fbc3ea61ccf56d432cced99595685026e03ab2d6371c3e722d231d59e803e820c46c242208c364e4dd8d33335219bd5b85b23ec5baaa7476a2275ff110c307877978132afeca8319b9dee30c5b95442fa8febccb729ef36e0a1f9dcf5d72886b6c210c676b2712bf04935905dae7795f7209f92e19e851a2646f5e50bde4356d6164c27d5f67bac384485fb7f00ced8b86739c0ba049e7b7d281cc7597071e47f6386b61d675e8e200c8089e66f07fd3d9e71a7b7a3abf882dd6bfd480f0782928d59f48de08a10882cc51f84692865ca4b6c5d73e7595e80db407c8602536125c280c84ff41c6ba4c7fbc8d4746607ff011555091be664541de049c8832afe1af10770dceda253ce8fddb4d18f9876a273fae4e0763873e50bce7108851446fc9b2bf6da7076d17e5ef3e2a88276a0571c3dc0f00ba943698059d372efa0a91d0e617eb3980483a97be952eb1d264228f86d6639c46b552b699f79cb5890fddca1c0cb89e1b98463d20c80b9acfe77c59c26667833a3196fd65645a7d3211b221b0fbbca1f20dbc15a26248250b7f89a23f4c88856743f059d4eaae23fd2a444c951a79a2a8f3efda1b055f54f70c664d165d4f156264f4275d6690aaf641883376f33c2e2073d2b39d41ab143eb4582a78daae6b67107cc9a37b4c74d1270882444e978ad9fb0bda70887a8147177216e7986445173fe9e9d14a51924663f6d2e896663dc85f5ccf491f511ddbc6449931786aea8064a27cfbf28a831329fc165152a13725b89106daf9d686901cdc39b1eb68f5e54916db0bb128b5a25dfd94a07f8ff00d21fcc17b0623d19278965238cf629704c446235d8b1755f88f1322d54357321238eeddb38d13df72d3edc9aa3fa0240e11f53047f38ad82210480121beb7aa567b010e978294c5169d5a7c06972f753065167e5a1c2f894e2c96f86a5343c5dc871c013409ede7f61889e9ad831b6abc32b35bbe2f5a6907c596889c50bea3c963a0d363b17427e463c4d692bb83b2f5affc2371582a0af90c511729a7aece22a14e5ef9c6891bcb327924b5b9672dfeea4a3442cc93e42da4bca8dafa0415d62ea25c65156b4eec0703626018205dd64b14e215560c7c0c4618fda1265df7a69e3edce4fec0516789818e9858892e93b620b10264200c2c06ed31db728b808e34a28c10541738c1324117e937b85ec39bb535cb3bc0ee35342ab8760796007d96a935941f157b1274a8fbff8d1eb7cb56d1a7f2dcb2fcfa150970ac2f4f21de230e89c410920c2040aa53266c533c16756ba012b8df4086afe859851c1370cccb213a760cb70fd4fa68a65defa98a1e7e7e4017c8ce62fe95fb1f907ef977b1cf5a7475072f52ffc81f0619f75b95ae1557121118d93cdaed5757464646788cdc5296df9c05ab213ca880acbf2e561d216ddbf78265fcf9c76fefe103848a814068d6308dcd7a68bd6602c2503ab0be67ca230ae8d2a1191af18f6c0575a376a9939c2e04b49afce95a795e91fc43c90f7753889ba22262aedd69d1e2618123c2f1e9410ebd0ed5cde2cd69cb2b827a52932a80c23bc50d3e411c08e4fb0f84679c8e6ae77eca55b7b7c8de445d06a3658b0fa07f48f8e690708962ccdd9952edee7ea3a737dd16cb4b1bcc5a0e2643064b582a24a838174b2323b774709bf1411a803afbc17fb2e1cb1d479a85ea0a1bfea0d19f8c1d8fc3d8e5dcd20e979f0e54a5b4e63bc2e4fc018f40ccd9c2aba81d794e090617a70314bd71921b9b3445faa25d8b0067eeb9593e70c3445a84305e50d82d577588a917c54ff183d328fd6b6d45cd1535a98dd01964c50e5a926263cb035aa438f56ad3a6693ae049cf004eff063cce40260f51d59091562ef6058e6b2730cd5eeb8430cd11ecaacb929bec561de11fc4fa6dedb7b29d9144947f6b73fbde0437104d6477b1285712b436657598c2d1f7afac097940a2906dc18c76edc6f8dddc31a94e56b2a515ed12e3387deb001a2f598adfe77fd66e9428e2e570b1ac1d693cfcac588d3ff0e7e7acce0f43a412b89c86d3d9204d503329114572a341b7146d590284113a7ee58004b36d8103d82aeffecd1c519b14c449ad370347853098bc0b0d6d3f49db16890bc925b3beafec2e4c49a74c2ce6cff6a35a7f1bb313094a07bd1378956cadb691de2a2b36481fce9fbe2af70a9a091cd1407b6090a5fa53f0c45bacafd281bf3f600367f4090ee0debec48ae443e38f377651ea252699c3f0f519c8cfdf08ad5fefdd6877df0d36002ada7600995c48e7fe05bafb7ded5200f0a180701b881de69267f92af07635fe433572f1c464bc258a60010ed3fbf8c35ef6f5ff8ff46606ab748baee47fab6034ac717c16640095cddae4ad9a179367b7302a24ecca33a8cb67d891a28356b76e63380f5cb50b096fbf0a4e72b2ff67c0fc76bb35ec006521105a3f2efc41585e9dd2fe8fc2a31e76246c873d736779964a8c953a9a523176f93f59279bf26fecac67eadda0f3caf5dc168f88745fa76e33951edf94ce73ec497c4c06165521213f13ca10d131dd0b228c27ab3b63402e639c968a5baa053d141d164eef4471809f9525bb37708d51e6899525aa36287c11a5d103e6af9c01911743f78189292759eddf759a750484ba1ea412d3311c940a343e31bf222859b353568d995af1dceb62005c232ecb47e107a0a19dbfb0b342611256e15907cea81c6a594e546a0d41e080870441d75490d4ff3103de429562e3b2c0d241941502e6b0b50eff11a10b1f07cf3137ab6c76fd73704a53b265537915e28384dd24910c42be44f582ff7cc55bcdbe9e8e4f33bf1aa830b6f95ecc1e2256c1c5959c22b12ccf6565850d10ce4977c397df81b1b3bb643e11062e6b3768a1cdc377c12105314372ef1d5277ca57e7d0240b23a09cb66cdfdbab65e125c2445d95d0b39816c2b5a792443fe7fe65fc9b95f928034066a198be6c12b5473b5574c965b841dcf0a646ad57a82a02f384a47f9a90c6a689a6a2fff04555373370a648c46f19f67f4c9e1f90eebfa3c8834472abc7a608240e50fd1c0cd7b84ca182afc96d194bb65e77dea580609f0361f02a88a12b5f4a0e5a4498104ca069be2f1484e68c39f3ba0ca773e3c08a33813b8052035aefce7aaef6edbfb8edcb14b04d0efc4916a8681dc345daafc7c277f864d3aed80a11bdc693fc34e980c8b9d74d250b2077fbfd371da6808eb2a1637c334353d437c15c04ff3d7d60dbc27069b42aeeb925d7718b5b71a8669697c3a0fbd10f3e09e6b46598a5348c7e2bcb635eae707a561adcec51deea84ff56e7dcb9c197c5f98b072d0873dc1840a64af0516e7c91d9fc1a61a19bacf449201f63ac3891fc87fea022c5b725e16a5e49eb4b79117674c1fd676c324a7bd23ebe1007e139eaa7addf5984c5751003153ba4fdcb26ca4cc913ab6acece932a5504a0fb9a82ecb0ee7b6bdeb6426bf8ff2a3641e5442e716385edbeb127ce15159b23d0127ee1d30e8d3f294cf53e060e0204715795fdd770a3fdc03a6e844d804dc27868b910a7ede69cae7fd3e882f2bc5bd39b43999f97a0e7973c01730b9c6b2d4e5b3362164137a03231b36880397094be9213f4eb9e1c0b41e5101bd8f0b01cacedfc7afcbe6d6978aaeb95f79e0d3984a5d57e9bc7e37cd2cdb5c0df047e2c515760eed3ea233e5b58ec70e24a0b06526fd0152b37b3d068461e5708b5e6216462edfe7cfbfc799ad5d768367fe195544dc748ba8fbf022c2243952161c67b81fa62707c77329bd9b9f5323a38a887ef07699ed3e92bb8ff8ef411d2c4c7a44a85db03c63bf771983fc2193899f3dc1cbff260e289436fde9bf432ff28aa6ebdb029537b5511e21a16f9b759ca2c3a22b85ad11501773db356549a2ae85a2ad347af38a4f3145ac8f31954733a70aac3031de3ab1fc3abb4111a8ddb5685e7695be90ea16f3ec8a39bc21304f6f650b27b95b25b5c2f32b7cd6dabaac3d0eb59a0fe1c44e3f4aadce21d7286e2bb07a99a91bcedb0d1da279b593c81389fe478d525eb223b5a00083b3de8a609fa6f3a1c2356591aa2db23242df35def70bdb0421ee31ec49d19dd47fdbcb17236b48438a5916192b851e99c8f880a8f5c53eddc9da634dbd7c87ccfa0180ad3610ac93a8ab9697df8c751aa164d6fb8c7664c28dc6399bcfa0db7bb2831b92db58799fc7352ff1f7927eb377147d711ab313007d22d9c94fbc35fd126d6ca3bf95d1b05439ccc811a71b43b9c035de7417559a8684c1810429b418a5303ceb5b6444788c8724eba40046716ad9fb0380dfc0df7aa20c3a889121d0f94abbbe10ebb2c86b7f56fc4b967ee25a1d9cc123b6ca0b4f95af19c990973942daadcbdc2fe2056b7935f1a192d03d5185b172af958140cfaeffb18e5fbb58fc8e231f4356e2fdba85e9bf11d0c0f964e2ee90bac6dc25aa182e3982d6824d61f249aaecfbcf04b9c5152fd1849cc6a9a84c074cb3e27ea5268941a23b14540322e946b149e1627f5926ae1e302c3a827c14d4840bc00f20666b323746a5e82ea8e80a6d1de26faaf0e7d01086c94cc2e71aee5c320ec3d4b4e88f13a06943e4521bcccb2b97e23221be32d2a2f0944d208b8f849423ecb51dddb589cf3227f2e3c216c3a315aa1465a4e5cc6f003fb2a9d9b1d040fda6a0822c2b8c6313708a25b44ff814debef61b8fb4f1d848f6cbe393c5a04811e1b36a1ffb771016ec713f7611d4f97be8dabe1a2e10730856674481620ee637a2577a4172d5b181093544ba0d05a4124eeb811fcc26c8a19380e13081f2b305fc7cc0f278b40c6dc6a6339f59669fe10cfc2d85be86d446cc45dbe83cf0b0c52efedd54c920dc7e1fac93bc89af399809ab659f893d02be10ca5ecba35f2eb8c18c5dce8236a4dac1d7b19c8b8fd0869a44d9656e2bbd752777f38a5b0a0097cf0f77bdd73104e73f2e80cbcf7a6a5a92e5e71de0fce6a6c8f16361e4fc8872b600f96eb127717f2afd1584948805d29a1d4c923ce27153f97bf1a736db0aaa57758f57a1ba085248754c4efd8ee9443e3f93cee271d0f5715e0b456613b565a92b722f691fe8cfa74ce595ecd815260f532fdc017f0e42256d52150bb38cc4143adafbdb055a9a8179166fc32a769b7b4034ce4c692e734fd3ee99e9ae6ed4b097a6f630c1641423762ba5e1c1d50d9dc5063cbf2678d2c5ce8934146830e3c9ab3f94ef32306ced958a9f462f1b9b0f0518f16234ba541a597d4e326c8f0f1cb8b52bdda83a0ad726c639f9d4fbc517714fe006ca61485daf322af5e5db4223f8f4e373f24490442208635608ee9be7697732eb48a9d9a740a65fd2ca89ad3db5adf35b4ddd6016b9ca80c7c536e34db4aeb0d115f4318d486be3a5967500ced283bcb07f6cc0bef24b8d15c4d8f58c88f0607473a576274a95402a5d9168126e5438425e57c63714bd4402a1bc9f0f87dcf8b34be7ffa26c173a49d18c859213aea6351a7a69e0a600bc50a3cad408e1471a433c7915def1704d270001dea42724e3db27c338f7c736d07fd651bf892a67d59be76e9cf303e448f378a86f2eff156052b357f50cfd9a58e749427439ada250c536f708d0829f96abbc744895b3bf9ec7ba16a46368535ce7ca00a000a9a2dba893944b62079bc962e5ebaa11ae5c6f3b34c34819b1283f899b0e47728d83103b6c27d5347024bcd1a7e92e54ccd411ed0d241f9ee0735f548557132e6984ab1d130f5e6de9ef8e8ced1e8e142d15c54ea2d71fa87a5070a00c37b9728a6b6ecb41bd6dc3e32b542b8bddfa7f4b2fb68b080124576785af201e2e52abf1c12379b10c51f6b2cbcf09d76062f4179724dec09f1a6ec29fd2fd46b9a7f1fc041b3129ec86007f94176451c851afeadfd33dc97d9fdbdf9cc1eaed65c8f6de4eb8ceac17f971135ad2f70b58d2c7b56e80c2cf34e5727dcdab386278fc4511149a8d71b5170de5430c2a6428372005e2b7a00c6e17669763476c7195f8f0ea9ec8a22bb307e0b208efa9f112689b4e6abc0f991b84057c2750b4cf35918657d8807138eb335edd9fa09edcf94e35ecc9e6d9714c864b2d049b7873b44fb7e50cb0bd59c66b7530c5b1c5a2ece3fa6aece5926c6cdc7d0215f31d629f6fe941cfda957dfc207abce0c02b4a712340b5566d35ea58f89aa0b9a973ef78d466aa88d7fc0c2c0a4724d25246f868d55ca90d4601e460b7614f66f004c4a5b6b4b783fd2371fa10f0b06dfe80b52e514fc39af5dcca8397ea883a929a333caf5406270f056c635b806828671f5bb64b0f75f73f81813df3090259ceae5a5b8f192dc701abd9272394d96de6f067eaec841c552f35c62202d184e59bd2f82db7538cf92fd54e3391263b7c3398d3cb80d79424d3047a9554f16d55d754b09196519378ab104b9d8708102f4fbfbcd9dc6e772ee02a2c89f11c844b6f20f6ffbfb009a77e5f1546ee2d98014852b911b9210a28dc77d8b353844d7356945cc45aeb340ec248694c4e2629810386e55fa8ad5aa2ae9c401555f824ecf879cd842d140e9007adc71d0d726f3292dc14ca734ac198c56b5b1fdaaa5fd968d5df93f3dc1def7a7987df13c6d0c3c81ce83c454a2edd2479312e63fb163ac4cb4e5ea4a920d2a1b708cea7e00cec3893b3ef9967a06d98c9fb7541d7b37bae02d6cf4999151df3c8cd7392f82714b4a95ef627769c6b5caceb931c40ce93cf028806c554e1e0ad029d6c941afe4a8a76372ab162edb0b5ec76ee1afdb7aa54c42ad9b7a95cfc3295a95675824a66936b1c0994e167f410ad7e2a2f49b04790c54b161ec739ebed29b5c18823206cb089c303a7e70577e0d81070a02190806820c6b680955ff217a6ed78a383113ec1e55f5ca8a2260859496faa401b4f55a94af828f988fa6d7d72b321ccd876a9af37334df42b83b4cd2a518d46997515bd5075d189caf2dfa36b36f10b7e131dd3ced6bd560a3c3bdf67b36e0879fc87f011dc27b3346d49cca015a8c369f9a23a362794a6ab37756f41c3fe876991bb1fea15ab354a54d31cb0006b14f814a0693b0db5c87cc760a2569ad6c6f68a84204b3134dff8509b0b900d27a838d340c6f28304c58d647c0878a5d5ac6aa4cde0d2bf6cd5e8e9e228616a8bc6092dfc45e92fafdac820c221acb555601543a04ef769eb97a11a75174922834a569c93307b8e451a7f08c8b830eac582dd6f5ef46817179abd616368e813a9bc8a0cc42c605769dfd020b9a82bffb80b814be9daf2e45fceeb8d26015c610d2bb2d53c223980d3d3361184ae4b168f5e30c164205969e662dc540c66ced09e0863549278df452d423e012b2e70814cb4156f9ad679d7b8cbbbf8e471d32f423280b4922bf9fcad3c3b832bedc79f3f506df82629a0c64e63ea6cd742c4c737c81ecd2b286ea45f6cb5c2c5e2c7449af60d55d6ea5ed72cfe69c7f552ece122874dfda77c10032346a322bce35ba82dcd999402b84d2598b32f5ae2a81fee6d486327c38f7db5befbb55182521d9596953efc0ce291d4c66c41b363f5c5371c6d79219065bc0edf2cff24ac636b434fa5c90c7eec0fd94fd0142145b1bc6ae841f9dfdb8d93af39a6fe5c1ad9ad17ec98d87881b72cc80e11b773cf68e9dc34430a4a80fa7815b084e489208e921be5174f2268b494a34a456d47e9f06db03df422de5ec1ee9a93248979a049d444eb9cb974ff13a65367ae333a0a8b2756668bb9d78d6c709df226730e0b025b2767cc3a590b78a0ad36bba4ccf1c7d5948ab822164c589b980dec14a4eb1c81d0f60f58d86034b2f995c0945113c8aecda343b880feab8c9e3668edea2665ee0d397bb1f474395ee804861b35ff4b81ae529b1bc8ba4cbb9e0dcff8e47ec78a7c29db8c565712d85d005cdb3f4c3faea2cefe593dda6ca6c2b318d41217c7b6bebdc5ba80f947dfcd0871ba18c367573ae1122e282e2606168f10fcd72ea653757dce8ca27d54d7fac1498b084e939ca1c95a43b8d7e1cb6fae62eabb24f26b2716f579ad2715666f91ec4335705d3b8f7b752f2a2bf4aaceed9abb44c0e07b693a80a40b2c446b52597cebdebd4d706978fef6365464251506ad0e33a4d3fb5d106674e2ef2765cb4425057fc9078a2567f4947ac7dc3b91c0e79fab34a960f000d55c06f47308766a1dffa8abd6f1bac962a53ebbab78f6ae3e66a0ee2f1898648c327d9d7df1652c87b33492edccf4b6cadd59dad1afc5eb0af03bac448937ae7bc2003d95c408a5a7df1c2b470212da237688006a1c82961ffd3e38380087c4b1ac0c136627d5c6f479488253ceb3045a17bfb30878965c4beb4b612e4aa517d532d1e07c6086f1e4c1c967da2ae587597297ea06d112466061052cbb69ec014fe00e889aca2cb30181a56c6ae685bb9d15cdde0b9f2027bd9894c42e667a477510c17c77fe256b4abf121c46d71d23408c47f86050e6cfc1666ef4307bee30031e1dca60731b5b131056f7fa63b092f1fa2794b8c20ab4f7273faaf100aadda51a703883c4405b04b1e964322f3a368987beb89b122f8de2211032c3c085422a5a1bac493a86562b71493ed28e8b9fc92f3ecb89e25f5baba111b865232962da2a9472760fcb31121b563510e895ada12292ec6b6f43cd0c56d380f13c9eb36147e6730c245c87ebba8cc2439ade29db9881d92cc437fe2ee6d5f546520106f55493ff95a23c54d92231983879acfe5ea0f597d6345dde2192c5ade9958ef1490418188c1b9e4413e4e0cfd8cd66fd212ee8604bc00ea8f466e4ece093a47970d698b50e05567a29f67425a3ee78c5988d06725ec733f687e12f6670e79a1ef0e4d0e911aa42279dbe60f86612cfac3f42319eb37dd046bd4fad35de1b3a4d3892a4d56645c03c8aae879251b1a0183ee8417b82f95c61962cd21a9178edd118a6c4ca45567783d232be5808034ac77f8272f970299996abde1a41424e6e2a414ca8498b632fb00b77cc1ab36e1732c37d649c51264c26076bcde060a443fac31de1d2b5b848293a7cbd0a4a3f76fb87cc1a31fdcebe2ac42330d798fd5824d86241c1b79720f1a836c04f1254335b13c8905199b531134eccbd78bf23dd36ebc53c364f77d3972650b648fdacba0c66f3964a2f6140206945800485ef554229fc0bf306cd1a53106e976a6e8f9fedfb910e8aed75cd553c946e7ce0bd091200f7bf5648b889c134e54a52cf303670c06260c8a867cb425dfae37fa31ee0d40ea5ec83a11c0e7bf77b012fc30340a6172d0f0b49d50d0f9e8e44a73ac57aced5cbfc475b77e0c21b4fc632474b9250907236ea4dfb29efc95fa20911b6f9602885c94b1b66bc8f3cad890b2bba58264913df401c91247d95b105bb0a913c8689a33c94719b33ae405baa15e4c32c914136c7e7615ec3ae1c2abbaff3fc25d562ab366326b61d5985043f639945b8e88179e64312702f86c4fe7816bcd424ce635b9d870603e8183b19cbdd10fc544cfd21733e0b47fcb746f2fc9fdd5ef19373a6e649fb181dbd298b912e0ffe00aaa4304af0859e65fd8dac7b70e5a53384dec33cb919444b9b733460a815c4ec111374ffc707a28e8bdbfeaf8283e3eb09209722e06c6d08e4e52a5728e1551b41b19ebf8ba3ce414e7f1b06596f1de0c72e593d8977e079c03fa984a845c054e45b7c713d2dabd9ced6243c93527b04b7f375120a33553cadf731e2745135b62749fe4c0b49ff99150f454f08e63b68d1b3f3a6723359fbc968e22e41311d249d3b16147a5ddc8ab661c0e749d00e2eb978fb70d2cbfc8ac77ec81983a9010f0013662a1739ff0619ebc075eb24a54c21cdbe53fc8e59bf2589d83264fdbb6c73b7cd1057ebf64bdbad9197b73bee4cee57b7895e4afbeef2712a97e300fff8faef090e2c54cc7622759ddcdb1d4ee8c880e3638235592c51f37a90ba14bad2976cd838ec4f9ef1c83d9f701265fcfaa433d73414fca4cfb052c793ad16a0a847c76b8e7635c8bbb6a5a97f9bddac9c4e0c48bce46d927d9954230c54a2e4eb174fe94bdc4c303c6454863ef223fa571fee00ee52c7ab1f0318644fee75632c7f21b9c318d44408c745d9978483a95aa34ebaa0f330303cc6f794726342e29781c198de4474dcdbc8c77c0eadd98a00f6674b58c2b83c968b8b0e5f3355a91469b742e8344a7a0f5c9b3f0a9ac21ae962e47d75264ae152cb2a51bce711c254f6b6e37384abdd305aed0e88663de4b1535faa9c494d195be6b19a6a87fe394ecc1ae3f60a328201e897e478ee4e1db0ebd9d8b4c3d5f13d20fdf5fac49004dc5ab0e01f87f1bc32cd3349b65a4d57bf9fe1a2f785021e5cffc0e1845c37e02069ab1618093c55eb2c9f6203963fe17f90702e963cdee93c06dd79f5d8c05b929e01c8211a4bd3b1727eaa3057d82769e46cfe51590c29d0872ca90377d2dc59cde082897e7cc5457c4d80247091552b6d974f75bb4f241e18029c8037968d5d6d8333fd104c7d2bcd9cb495f5c706ad6a3969d7d1984aa082f2d5a39a6a04673c147e11a781bf231bd4ae35e4d1450bc6d8b0629e6bc4fdab0fbe2ec73a7776aebbe463b0676fd51b48694c2da97d80130fa7f7236568f588b6b31988b7825d40ab9a395060064d479d6c9e783eb0f3540f4793577652b8a0631e93085a52c1d5d8d1697431ff7e2aef1352c317528a15622666db21fc4fcbf56d977aa0551144f121e11a590302d1a95ab1d7ff20749b1442e8d1b44a042f92dfffc5ed5ec057b324345fb04f75d04db8175610c28215dac636a557e111fc6f7bd9401ea19bdd51e2019b0ac0866d863a633dc898c8a6de54073d4e87b174146081d755b5cb978b10a724840ae5065ba446377d3c391920e06ae0c77e5012a1c2a0748704a62e56f2f5a75c51335358de06b002032fa5858428af898775140da6274da85ec4a65327f4a1162cc0afedc6b23e60642767891124c2e9cc8ad21bacdf4be6f454546ef64804909345db580bfad16c8504b0953ed375f11829aeb196a44e343c0b96747b57ae0fa587bfe23d43668cd7e3f4361fa38dde3fe6c83f4eeee64609ff93abb04afd4bf30d7503f5b24e6e7b79d87d7ae3c3a5b96a2594bff17247f71e91ffad4a4470f6b13adaf18a16dfc5d727e1ad78562b26af92651e7e2a6049b315f29ea0b3a63d3cc9790bf6feb2477de65c45d22a5af0e0f55d06aa65a1cec249a4945ec886a48824e0752d8d7d3182ce7e10dda4896e180454cfc10ac6ad92a2a3dce90a56608f5c6e980f68499b405a1fd09d3dc4df3d301c335c4355a3bab8f4cb98744694904986c2dc9b4278f0ab56d414ba62146b3bac331e59af8428dee2a89abee61935b083260c3cd36d4f092fa296923c7d1e41b961623c4229303eaaa3c6176a554da19d9422a297355b5fca08a79f2e377de0d50e456559f31830397b477f5399ed235fb942ccbdadbec55f275ebe29a7b8eff174773863816003870a52d26ec8b94fe5633f7554eb5218e9e80ca5735dd27663c1b747cf1cefb8675cb526066efd41d23b699ffe96731982c8215594f3f66626521695daa05f74f4d27ac71ad6c372c2232ada7ca6c7f054eb131d7599672c43fc3311895bb94f7ac54fbebb4eb3221e75d339627f2476fe8c8bbff26c80e22e2bf9bc06ebd0d0eaf3e70cfcd53239a7a854c67f5064d56eca803322eeff4447d9b8b62c02a25bde2a8f12e71ea5f9b4c76689fa998a15faf47fd7a103d241feb875d7f3596f5509d7ec28d7b335a6deebc527c437c1587dae6d6f4717c6094e4d0bc325f619842b63d77ae683d5e1c29427effb96a29fcaa96e176bb38ba4021fb6a10020752d0b2ca3c72ba30e9a5c7be09a307c01e6dcf3aec8ab3c3be9c79e097ff80aafacc7e88870b1d8083d24a1afacf7e901699d197a24c9ae21a4f2c55fca6e8c699ea9e297430c7e79fef868d995ca41d9b964d818f188ef36e6a7b39d8f7a0a80eec450aab512e9deac61644d7786306bcf4383da5a553da1eb5f7222d06dcee53f895da2fbbc497fa28171d57fcd4e132ba668716e05526e3214793216f93092f3de545d1cb99c381336dd5a3c9f674b3c01534853ada6b99640f2134701ba174bd546ff79d25a3b00432431e60e708dea57301f672e676aa078ab0f0f0bef894a2ae3eb6f051fcc0928e265dffeeddd9dbf684ba74cd0d8e1f69105c0b01ee20304ce53a5e43356eb7d82de559a55ca78e2b5d6f0909d14d25d4cc9fb9e74c21a918528c301fa38b03d88cd4befa13879368fd8962ffa069357759cfadaeff646c711eeb38f598507333124f9f903b07edfc2753a66eb1032de50694fd09c0b166f91e752f18c055b85b66988880b4feb15eed54a5ef8b390dc033a0dc861bcc9a60e0e75ad51bc1a9d55ebbeae94f85a0bb37666c562530b1cccf2b5761095fd978c1923543fb08e2f6a33c54923314d4784f9facf91e98eb020e44f49be207297e45168cf9a38a0d6975b3a1cb65f9bc40cae9a7a0019c2f268c155da1ecb104de86abf7e4b5f76fce3181cfae535bfd7abe4c4015cea086ef27bd87a00f62b996c8dcd79f4fbc2304ecc2d9f236c0d1dc0d8c98ef5e4c185ee9c9a617c5cc07c6325136741d4d2610b08ad64d86bb77630f701a59da017751a5bb1431b906d57fae2dc204a02b6550d9dd14f02b125a2f293354c90bf89937ef13f822d4c1e89898b967eb883c4bc119bdcbb241c6e763f5bebe457a3d78a186dd8bde82b442e6abb03b293aeb3e48131923a8b261eca03424dd55e58f4bb6510f36843de88e73498ed6f27ee4c69a7ea31c3f5260dad925fcc0dd462d712ed95dadc9deed0221345979c0b7e47f7444409e9d0d8205c6009d2efbcc4ead5121cb5afc806d2e23e4c1f0d9aadbf3053aa3db7953c38e5d04a7946f0904ca1b68c34a2190e41375567e4765f15304bdf817d88f4d79c692c839c1ad714d77650a86c51a3d6331d5a978dfe736acfa8a204c1495d547387350cd59e87c797c2cdfcfc693f3bb8eafbe8acce09cce1f54ea109197d3a547d735a785c4c7b7fe8c7f79153de4941a70ee3c53b0305e3020fb4ab3f935cdaccbd67afedc2228b5980952415b29fe4ddbcc1d7a33d71780e12892195d087f9b0db260b05e2e711c43c8c0d8829b0f55b7e8ed446c19ce60530966362def2d0e0e6b72a773b19798e77d876e44faed40d76ac6bdb34cd124743eb8cce90cfe8bde480241784dac8bcbbe05c1378fa23e210b1a23f2cacf6cd23e1c687ca88e55d665a8a4bb1262ae13b7956db7039c26cbf427adde4c67187f4c20da396098d8520a8e36677eae7c317efa5efeab5fb3d4c10cb4e45df204fd726b83c97d92699e80b5e7303249c23f877dfcd8734e939de1e8e7dc3a9ac656cb1c93d1264a6d861f3147670a8f86fc49b6aad4da22715d3fd567415fedc2404ac4c2a12f15a955f80e845096d59a102bcea4b3638da7ac9e1abe95486c65f489407d09bb588d9d7239a9ec5ce55c47f88ff9a64e29e0e09a1a7aca275dc869f311c667ff9620d145bdcdeed6707e6ad45d49bb997a4e30f4528108d676105ba7443b8eab6857bf1fedfa865c76aa48e55d72dcad4758ebb2fe2a9459179cb225dcc3bb653e78fedc0df8960ae13e25f244c1674553c54460eac99c41314907a1f5a360205d83e3ed042a0b5a929653b4f0b09cb1f428a34fee3aa4ed3c9b7394a67f8f0378393dbe1d8b51ccf8f45afd6ad886d63038bb030f4f44e125c46bf1b3182545da18479d83713c3a1b654f2841bafbb3f08a059e7a6f96abc18c12b104440fbe8848dc8e62fed27ecd88019e471063df411a170dd0e47aa1815e71c64b350b0bb10b1a489f5c992d45af1629ed9d55313036466bb25b8614549b541700d509126b5bf0c8203ff038635ae025b7a464e91bf615f74bf548f2015e088dc04f65c81666f3f9942cac2165dd7ef93cbb855ee75613e56e810b8f0ed230e044329f49adbcf1fd13e10755b0faf57b4eb4d9d8808df0d7dfab887e773b47bc12d07648f8fab9b74f5789b55ceb55d52a146887ca8d6aecf71c11f749f908dd3a257b265c8a8be4204bf35244f9f06e74b947db5e3ae186df9891ef6ad3bdd9fb7324712b6bdaf983733efe110789be723aab64ff30ed0b629f82c6892e49fbe9580b9dde9d46fa2427a001a617aaa88eec1b55da968ab19ce8c2f4fb9796b8c2e5909a3d2c1034cc60cccb03e2217d542e8152d8163b9a1db2712e1e4ec4ce95b0cfa093adfe8b9caae4190cc954f587f97128e6680485aa5e3068f8003f66d0fd71bbd6ed0fb338a8b20f02d1189b0e11b93b9542fdc9d3d1b1c3be26fd41f6cb7b0d4e9221d6e926a16b91a9df2afc1d15bd7f92d4f71851d5676c8873fdef90108337146a92ec8f4eaf8c18c28500c23293c71d21d4592b1ec8b31cbe7e9a52b9afed3d1674b67fbfe79c3442aa9e4cfdbca68dfc1407905ab24f03370350440bf1ff75257c29f1a93667740a8dd7de9cd8b15981e2de3f043abf00b481f462a15c2b819ffc2550839d79b998d0a5039b4aac7c5b77f9fa12af9be80cdd5954f1feb334b29671ba3cb5f6ba32102bf78e31442bd64d60e834f857f8b27a8947a25feecd3e1f5b5fecc318e0c9e2cf125f2952ee51160d65c9ebdd2467e8e487a256afe23f55d52d53e795eebb05023152dc9d40b56f9ceb98658bebdf6f1822c73fb1d162c096817d9dbd5bce5c371dbe65c36fb178f0f326dd42c1271850650fc6417b54783effec40a853242e3dafbc5ec4575df00f7d00a4448c2d89c811a15585a15926f2a5d048e98acf6559569fba08cd1ebdcce4f123691d2d0e843ab38ed02782815b40bce6cd6348fbb865c07f3d86b497bd8fa8baefebb429a677ee9a5992cefa262799debf03a63aea719ab278c762f3946419bdcb5e987b3d1ff67c2fe0b07adf316a32e0b412bf1500011ed802e80cf023b82c23b66628fe6a34a50ff1ab9bc92dd2be729cd50172cc6d1a5b5216f67195bbf96035a9907f2d6ba5d2661c1aebcae9a38f6f9158f65cf72ed2cf06faaae12d5aa4f494d38f1a9707aa3d20e765211d18308675d0a1d145056e7a332e7afc46ac12d2efc7c863123a0aecc4b769e9514f47c101905fcb761d04c74d5408a03e747139feb5a96d46376cd84f7174a9c3eafd079e99d0746ec085405028aa3cf19e93063b9067e0698be75dc52560e24545549e7347efe3c769888a374b9a855a3ccdd3054d0f01276a4d2be6ea5682971e90f810c97e24520e14bdc0a26c96ef8a61dc4d483267424a808457dd5dc78bffb3c1bf67d50515f053d6bb878c1bc32ed13e757cd15db4f3c978e29c44eefac1fde95b81b48d50559b91d2453df7ee490f8c8ddb0d6aaa1af252ea4a57daf004cb744267323e5835d534639f2085fefb3a8fd2fa79fd92216211820181aad0e500114bdeeaafdb586555176adc3928e664ec58232b21c17be45e1b53ba7bff5c394a1cb6d4d6dec9f049e070f27334768e38baa0ca74e6e7e4237821c53e0358aa384e1e68ad067096dea0240245f5743db8faa728c3d5a1a2ed3413a29264669c1174e35ab5a892650cfb2f75e35296d174e3a8a1371587a5c17709e91a9af147ae63b3afe29adfa504c21e686b82a823c2bfc129e8dc939aecc893650593016a9e9328f42b186f62a8cf1c3656ddb01cbc806bef6f259e5bebd5d2841d93241d0d5c885df10897c3783f019f555f80657d49ba75fc58fe26b54a5b08947e90ba9b0b93504f45dd0375a41f69baa92c5de3b2d89fd457bc9506f3a5f615bc691a736035a2b55927b0bb5110d37dc3f4c7ca964b40cda34b056014eac519a3aa887c5556b6d4e75cdc385c18a1e8fdbc6100a6590b2d368049a66757cd5d4ea22ebcccac15d953dfb8a271699cd33dd191e0bc70e1915ddd4cd06bf95e5adb2d698cf6ad81d204a1893776b8330909a962f3c09bda797230e52993c89b7006c561fef62c79d49a352790dfe91a6174dda122d7935bfa0cfa41317856321e3e23363136d031c60dd175f8c4ee94ec56bc768eec3d820be0ad623e7ed3972b548a1d0d877e60ab477561390e2d165ef0d41d88ea6261e3fb971f8004898cc498fd30e2f61d864e82fa6a74902bcb4b72a87e3acc361a9ac045a13a3ce414824ceba4113ed1f737ba7df28e0c7e422305dfd2a8e720c7601c52a0f35e04973e1cf895ce245f5c9aa08d0c3c80fcf15ed2fb2727dbb4209cf461252f20e8528b10bd941068925acd8e6db546a061457401b2fc65728da93ba71e004580c49771972db46dfbf73b8a24e16920b79d9efab1d8375c322c8e86cf48ad09f2d5fe2419120a3178a64d20141646f2829e8e9b0c6a239b9cfe7eba573ac2ce3f7a6cbe422a6d3114bab54aa6740521cdfa2dc222a3c8c519b6af098ae4aec1b4f0f9843fc6eedec853d1a6bc83b20486f4023c1508843ffd2863e251691939138839b751f8c72a28a749297a08de6ddeee91da1250afbac4b889bb00b77bb4c16e942dd5b076213acc824deb18c178cac3b70fd90fb1326059486405cdc30fb87d220fd7db64c95bd0d348a44cecf2ab75dfc6f7535d713b605058bc1266d381a9d3295d14ee9e6d2f2c991d010fdb5ac0b7e20b12b856a83616e17bb56bf0ffea37fb8ff96b59ec4431e855ac535477b27e200899e6e6791a9d90739e748826b621298db6576ba2f0de22ea6ccb643c7aac138bc4878bc0aa4ea4982fa91e4139a0120b3a877e47fa95c28481d4556e6bb53440914167a42c489e8a11924702a528c115da778884a7c7415607d48e62af3bd52a18b1c373e74589ce08e6d5f43c935229894a50a21f80d72be31b5a2bfa82d21553944532920de7d24b1c39ae52ce7cbfd623fb2400e6631e4561fbd64cb35dcad2d577f6a23a4de72b6d480e6f30399e828aeca3bd9809d37e35c1a1c67a3529206e8adb2273ade494c37f13a2aaeee7f417f0826aec1c01830c82fd8c341913f2cf61cefd39c347afd5149aee13340bd8e4bc23c30d8e6492cab100418e374c3b97a1c0e46aecf7d64b928274ad2d4089f38c7ed89c34342e6cdb9f095f21dd0203a223bb5d129112f416ed16af16e0b0457fbb0ca93dabf24aaf3293f743ca77ff06d8ba4e267f686d4ac0199fc9e014cf5b037267683e88fec815c271923059d5bb5ccad8ffe322e93d9aeaf0be19be503d7ad67052bdb4f4f006ce04f8c90b75619c82690960fba727d48d6abc1ca030e1a50d14d4fd5f6eaeee2bfcfb57614ceb9fc802f119a8322e271c09488a1cccc073ed31e0a872a91e1524ab6a77a170853afacf60cc67bd8915fd171b1040b3ffe02967c398a079455eddb837803bc38ea9df0c8ab202f71e6604c600e5da0c0445ad50cc17ab20b7d24b0b912cfb8055daefe4fb00be46bfd385428335f85a4977b24cd11681d0e838273c7e55418d92f490bb713001c58b94dfbbbce61dd2acf2b49ef192182cac0e39df3af83f19c7da34cd04b21aba36348c2f6abb1e89acf92cab1354b7cc55ae958cac087b25985d476a92075d34d307f9e283bb2aec501427943ad748298e338147c383a7e4bf58afd80ca522c2eb4bd5af87d787692f3500c20e02719deddd19dd83816b012421c72af9087903fc223ea56672a1d521a92b7ca85f4b8ce3c456c3556c6468887dfcdc4e3245313655d5e861f6b9ba64571be34bbbfb1a60a69f55d42e55b21dabbbcdc61ba1e0bbdb6cc37f8c3d614b242dd8995e117f986d003fc8585e07b7b3d3b4bbe132685ec56a0909414da90dce2e8d9ac7b58d8f65bf753aed30b70483ccae795e6dce0464e56c0f60758bd0b5cc37f66d20a4cd440b570a699f9c4bc83a0a0b9743b485436194faab725b467afcf9b88fc7dd59e89faa6dc7ba5f186315fc68d5b0b95b312f3b5f8c5b2cbb39050e7ee08debc6a9fb6d8e1832e3fe062ea94e524f090d1dc122c11ed337dab3c6c5908e37dd5b5fbb9e3d2f66f98147ef4f5d0cc2f7f6520f951762b23031f33aaf99f57eb962af842631ea92253320bb48f0537b5c58423e7c85465e8b9503290665108ffe123a11fc3701987bd24ad12e794865cf9dc59789b8c22de1e58e92a350ed3c40990f09ebc81dd9886c1553d786c09e5b6de29d4d3266130b87f1ef15083ca26defe96284ea5589ab2b95d6ff7c808a2db526595397e05140936428bb6832cc170bc020ff8255a8be47c1f5d3efd455c87d6ed1842f18e39be1eb2df23766903e89313f78b2633728073908dabf7a1865a3db4139fefc40d42ff2d127d2a60b6454719d260951943ea5aa21de940b359ab6f2b8e922761448d8dc4b4ac25cab03aa35c977df8156da88eb91c7c1f9cde912edcceeb90f0ff7b46d436867c18ecfb907c4a0e433235a30e8227b3dcd82f67945eeb966b821e2d7ed06357ea6e0f634c0b10b2a99386d39199f413432c139f94c2d7e41bf935a01306ea92ea122e224db0ef83fd5a7d02c4ff0f5070ccefff27b1490ae5f7f5185e0c81ec7c24396dc7d8527dcb16fcb7dda477fb80c9f7bf23a4b74d4c64856e99a4a2bb40065badcd5256dcdd26a2ed1a20c0d50228ecd89ca0f6649c3213692a6c0be4fa49eb1ea73376ee152027c17fba4bc230aeff7ec799c76c919fe43b455c6089ae214393477d0d408a215a3d36ee0e437048743e6c1807272d92904989e65142e0c4424534442e3530fbe927f20e2ded56e71beb70df8a88ee2000faeb80e2eb4606a4f6c06770ff0e1c62ea6c68bd860d4347c487acc2bddd04730395421ba06160352b2b7229a7b65e3f6c97853f4026e10741e68070a78018520f67bba4aad88d9c3a51949ea550ba6735877adef20ff00c48ad4d0326efd773df3f8c4d6f357d2be3cbee99228142d9066b169dd596da7720c15f29315f82a3ac724a273e906ef2c0d7baf4aff1327465804d738742eeb70107d28d13186a346eeafeeb78c73bbbd4923c5a0f8c2cb06d9e629d1edca897b8fa6461e8c74e1095c893d8dd19542717bcebafc5902c26edc4af56ca5a32b26d28f5cbb10f6fc2fee05b7babac8a70aafc849f5f3c6f03ac5499f9bf8691da13832558a1ddd53c0b847014e4a138779837667db578d2e316126fd053cb75c7f8bbd81d93d6868a2d9d86b7ebb240c857db046b5e79dd0a2f95bd8fabe405afe72825ba770b96b74bc954e7c874dec497a71791537537a6aecf84152522f07f174608c36f520b4ae6a705af7973620d81423ad683b91349fb5d0d468d1587ac09c3379c0358ea56f52bdbf9c0e473dd189e4a6e4603c49e1bb6f4e5ee14253b0c900955c5b404de2f86db623e65096ab982df6bae49702912b4720174f3017c5280b4917daeed034dbfcdc028e323a4da4231bbb759f0ddcfc1b2dcbb6868caa204a14b1be670283c95487c95266812a382a2babd45b106094e0e8713fe5b37ae020c4e71970cd84ea473ea823cba2d19465418e4f261faec2d738d1b2bf380eaa95fcf3dbcb88404e43070905de767aa608e68a785ed0e1f7d26d0aef21c3466ea30ec6e8277d92788375836af70d123bf40f052737b8c4e36dc8a6b93fd933c0af5e4017795f5ebf3359c31cd6bb9fdf467164e2c4370c553cbe2779f8c89e35eccc80ff8214556c3e92a8a722e5179c6605cd0aaaad4df699ed97460e97a85dc0bbdcb3e28bcb1fff20db3c633caf838f1adf69efb952753d5f7dd99dcde18f9587152cd2a6eeb4b60f1d0214f2f1f38d7dd3d1b3a03ce9996942add0aac74833a994ee81a3e11406e575d5df69e09eabaa3b8b859de303ddf41125af3085a7bdda2ad81d9e3f7e4cfaf25aab685cdf1ae726743880102d09a652117e333d7868e11bd40f1d9c27da2c4a4edd777699bf607f674fb13e8c1cfeaf37aa7f181b86549d296ef8a5f9db28be0756f309e7f11e11cbecfc87dbc163a5d7db7ec1c0f2ce2f7605ebff11c46b9608fc8e151410333227b3604fa9d0e53d7e046f28f585d6cde5cf49477993b12172b5e411604ae65fae1aebeb40a2a9eb1009136a261280be8971166e48485e85c1d43b50fd31c5eac1799d5cf1094d771e1d451f58450aea06063215a84a9b36061a1f551cd93b8029132f53d9c769a84b3fc0c9ea9b220c91571d16c890f3c94638a72e1bcdf27a01fc22b824a80bbbb93ccd861481c74829e2435a497c209b533013313ba4357f8c6b9dc2f689215d91e1d958f8bc373a046e039c6a46af50b735e33ebbd4746521609974d0480cf15d406be3fbdae15cf8d888d93cae4caa70441425fd3b3bc4183b30bc130e5b215476fdf9c7510824e007dc87f6e95f8c8aadedd73f1fc9260d450ce1224edf13d587eb814ba620cd57463fd88eeeccb0d5b8c7a8dc949f964d5842c1a6297e7ce581e776a95cbc24258206925ba0e250773662cfd084bbc38822c813e2091429104ebedd8a5932f664e1dca6c33a8722b7cc5e8195a5675bcdf8d7a776e5f943b9ebc3276062b4ff68d0212922e1d078f1b78bfb600287c42a63b7e0c016ebb6b8a22834a68ef7b15d68e61bf70680b01883ae180323abed9a1d5b89e199f10c863394d34ddd6caef7e2359683a585ba0c0f5d9f965e7d9c2278b1b5fb3a8486a680b1d25cf0622a9474ce4cdbae605a75a1c6f125f236306b1722ad6ed9deb8c96a02665100229bebb117035cc470bc3e3d87e51948f4640789cf13c129577590795bbd66a9aa8a1c6a37815cf863f5fab93b715bef7f4f82db0114e4de2d1995619cb084eadf6e67445bbf02ec0335ddde23ed2a89f034746789aafcf530bae4f5ea819854f89fdeeb1102b72eeb745739c4ae8b076094713ced763d6a7540eaeab75c52e38631f06fbee36ba9bb607d5338a19cd35e25507b12b6e4fb9c2b8d436bb9b55dfaf0e3fa6e49d12494eee77d4d713322d7c380dff40a8e23c1d264592c81e1db29e1716c824e180bf63629b25df7dcabae36170441e7a8c2b0d7318943d706bfbd9dba65fcc62458cf93366a0e378e407c808d0843af21bb262e75badc63b4ea7b065bacaf09f2bb9da4eec31947123279d9cf4452d543ae61dbce969c3f695ebb0c3d8418155f571ef87e6808740d8b4fec674aac23a51958e19b7f734d208a8e3986fa048c2abdfcd1da7430b2e577ea41ee8046f19bc2bd3a699db353b8a4b4c78df56f6ef9aea784dda7a7e1c89afc9bd297ebb8fabd1416b1705a6f45609962f3bb5e13f74fb5741215db8b4752d746f95f855384d3520a814bf33afdcab783c10c57f76033ac015c0703148f164cf7120bb9f63f0dd93cdb66c67f00c331cf77d49f665038296307d100c02d65c4c3c7afa0eb2d0118c6484e124ae319a8fcc776c09b469380db0fbb6fe895aa31825d6d98277c137f2b29606e2e77e7d70477a9f2f102cf3e1c4e0055c072d73b3e3e6d69108096084df8e17b888002c00d92b234711a3884242f2a4bde059e40183a7df8b9f60203f62d5065f768c670a8930e949c602a5c445508a061ab15e085df84c1ad1fa1036cfee644c8e741f4fb19c70da121867835574ea3135c4cb68e143a2932f8efe0c859472cb9d482d517222d0587916b81d6cd2d4fcc1e2c890de0820cd6dff9c1973c1c74202c17b942b949090d2116b42c3fff95fadb805018237a844cd1550fd01447eee012fb3e91db5307ea971ee20c2a57feddc2c6849a73d059116267233df495c38721f4f611330375f6f6d2383eb7e4e00ceaf344c6ce279ae9fd097eabb16f594f96d520cf50628066710777ec4034e3729d18ee9ae2c2a1d6c85eef700086e9924b139af3a06679cfc66d286eae1fc6748a96dfb897f50dfc447c09c375bf8f7488f55ae3988f47071c4e23e8d6f2579d087b47bfb5c583a5e3782b8e4044bed7ece57e8b061fb68f0a429d4d78bd73aa3a081d88dfbc0d6eef100c9fd14bec497e9103f5479b525e83d9d6952cfc6a3687fb87c74ce8b9355245f3faad5491ca4ee2978228abe2788926352a74cb0c12602eba4f418fa7b8d62f0a723046b2f961ca329068c1105192bd2c5d60b398f3ede5d67bd2d6f773cbc94b1188b7cdce3b91df8612270665d131bc0e405c4c781ffa7446afaf16cb5f96473fe0388fa92451ec3ae5a7719b8dc06070c18b5c3ab7c9a0dc64fdbdb22e1ebb323331d04619ecbea25cf7a0b00e39ee59af1d71ddc260abac4029166ec28f42939be78a055addeafa1e93068310d5389a137ea19b916e17d350e48909c30e4fbbaf3ac1e8b606250fa0de683938cf3f99a00b7c6feb50ae9ac042b3db9d81cedd854488d1acfe8402b2af16a8de5af4bebf6994a31e46a6857cbc5ddfe9c23f1164004d09cfd98fb53595c534b0c50196e155caee0ffbadcc8531bcd2216d903e2657bf93581a9c216c9f1c8c4d9438a2ca24c1a276d317e14033ed802b46d970408f48cb5e650829c121a7f9dc1af5cfabad71877ae934f47ca58df12133bedd89b5737d8921960f54f08d4e3722ad2e3c6c096f36981df26ca0e1251f0eef6a112ec60a68c5fe9a76b7f7665cbf7b947d63c2f0524d294e823e379ab934f5ad1c2c43fd62a5d80bf31598b0dac36d25a9cb37e026f49fd8fb21eba702e0fa542a64fded2f4b6ba7872eaf8b066ef1dc7314fac264d338cdbcd32a453f868085c39a65e03af2ece576a9da9466579a83b3f5523f2212148c7d2a0b355651134aca4222ceddc3b6d4b8eebe44114777758d154150c536a17565613dc99b256e8133b9e867abed6f4465cf78d51cb0321967d97a55233dda5797a981d1d880d8e61531ffd588a94a326fe27330392c005560b69c740c13d63c371543898127b95cc99c59af041627adb032daf0341f6bcb67070d291ef5e4a1a88ad440f9d0fbc1084a0689b3defbfb05ead6bed12d3a6dd9bef6b052c86fc015de4cf200df9f209bc9d42fb6f4bade62a344e09b7f00028fe4f249dbcf1279ec31892b39f5252fc5d5ec8aaf7e6cf76463def7f4aefac90b07bade72d7525c643761b5e17c930b06bfbba92e59f9b93b8e0add6b5135db366bb4e82a4815dcebd5dad99cb84e138f1c3977ac2da2afeb228ff31c2d5d63e403fad96fb6f8e4b390886ec817942f7905439d402aa0a02c768a3d4371b8a8e0aa39d3fd62e1eda28f6246d10ec4eaa0d8f676b5981c3f028bc95e2472b4bddaa10ccc375cbae6d29e6b018d94d8c1b75fa498e46c530a98515a12928f0075c6bced1a5c962beb44724bb811ea0f29f1e36855f7881c7f3ee69c64d8cd84ecddeb1e63d9405b9190a11c761f1089aa60459611629fb501bb6cc3c032134236a6f87aecbb0d8ff99989303134259a642ccbcb9536897a3b56d9b8a0acb1b7baae66aa60b0d9574821c97a7347b3f989bfdd449d447268e9b165bcdb269698db97de74ad06e9b894832a148556a2cc5fc6d5452017973580c737568bbfd12617b26020bcd793f9605bf33525f7e25dc68d7f976aa7a91281c8118dad14aae6ea83d52d6baac8faac0fea98942144a329806db16419f6f1958fc5c05c37887433b8d5a6460e0985435e13c0075e1b579cd4780a7b0c4bd4685b8584b4641cc79a01049df06543420f978ec3896fc01d2d3622a2e330cc93152e0f05263f53a86540fedb4b08898dbad88294f1c1fb2050d89082f065beabea4e6a767bfb8c55dd29249543c21868934918c53dd5b73ece7a5b3f5109968557f091a7ca2ae164659ad229d52adb5e99589097328fffdfc72183a8c54b0edea9abaf15e80babba0be95bc4070d64c137a1c32749114b027ebb55b9e7559fd9628aad30bc3c8bb80ee79b37380f71e9b1553f0027567dc20322254e7be325aaaf2f49b9dc93d0b79e67d65164cd36191375eb70d420d5aeaa4cec7b3d671d77b530b214b01cf36fbd7f1d4f0ed6411f2f73c4c7449af39c41de38d18a847141ce28ea78cff1bc45debfe757fb97464fd85ab38a5c6423a638a22131520ed321a39a328ea3d8eae51f50bbfd3f9e058e44c6bec23d6ef017c5a89cba303c9e81dc82c025ee19c23bea0ec1047760916b7dd38c90ab4848db163ae9b819e04e7895cab25a3a8855c1d88ee50d53be962fe67c93f7c67a7cd84ed06b36c2520a78df9955ec380ffcbd325bb9910fddc6da63881f2f8e40b2f87eb2c062e61d52f26b36e59ac660eae1a0c8e40f51968dbf7a7d4cd296ea805576181b9cee1877b67bb21c7fce5724eb44814b66d6b8fb11af790bae317ae00a1dbf6bad262c0e98246d25b1e2b3c076e20c0874b7bbd870edb5b7d0aa8deadeedbbb82cbcc275821394b44cda033f46d40b6776cc002d568eaef8d0166ca02a0d53e5b74a126865e189c33f5f82cb6a5af69dcf3cdb135887404049a384374143c46151246880e2777df2f751a2ac4e67e04d43d5db88a957eb5eae3fc9a50f27096ed461446d6cd30e55a59b8ba50151b33ffad2779e40ac344a1201a7703371ec9765bac22ad90d50a5c2724d41665384827979f644aa494730e5568da45ff6971de8e6a67ab0494f0a157abd468c3d15d7cf1fa703fb53a95e012135a77f72648e70ad11397a7b4be1d8e2f35eedf006492ad1fa87bc5b6b3802e18d5c2abd13387f26c7e05b8acbe946992b148889056168ff59de7c2e4f066d45ef21b884c9eb1ca148d5bf51601552b89e54507ae19ab5486fca1dce2feb4cbd1a0798d5c2e4c588e33156a1fb3c86ed716df3ac8ffae2cd0f3cc868df18ab8d9aac3c3d01d081710cea74471a32af87bf955fa875c9d12215c5859d75c70dea81251dfa0e42e740ad0c0c28332ed9f3561757287cf891f4fd7d8883aee4a0aa2a3f8d658056ba732d19c15be6c354fa651df0fe0c0e26f87c0647d60a08b3d02da2162f0d25be6ed4e9a45d4e5b548d719706a616faf9209b8911791a0ac6f698765d4db5b1d280131c979067811940f970db9962e2435930fda6c8cb9b8b2d445a9f9a63098fec6f15cc8ad49437492ed13ba48c720b897981ef1dfdf68e89abef88e56e8232df04dbda84a54b9585f270371db17b71187cff702b04c8a4861a00888c637e7f82941318dc502b90188e7c4eaa9f3550ee1dc5269529b8e902ae8fe471b5f178949b9e049fb175f99095f1bed734f481612f552929e2067e9e2bed1e0b22280f025629471553edaf25d90998198913c5e397732aaefe99c7ad50c405b67db2e1b64923a289373d4ba3d5a5e494ee20f02917c4555b72df3e3e187404095d7cb85eaafa970801487de9dc359520a5419a3bae35a2298c2c20c98d1f627dde9f2f906c790f4d8ecec0ff2d2d5fc2adb06459e79b17e8dfab02919f3c632fc4d40d364a3be5797b14084b300d4825d2e1dd5ab7fbf13fb06e6e6c80571f657ab5dd2ada53f07adaca3bb14418aa882013db3cb02cfbfd453b00a0344c250aac63aa24cd5b4b60692ddd57dc4977c924a48e3a157a92e5cef016b05ba2c2b889586c4ecac13317eee2893deaf2280d542ccefb39c6e6f7a62917d3cf9ff1acb69496e537a8235638b38f6a875ce081165440ff7ef817d908d038cfe1e7699a20349dd2fd8999e9e69f81789a2a2ebfd0b1699fd86d7bfc6159975874dfcab52191a856e90c272ddbe797933634ce0e083be38485b364809e085b7da9efe2f2d44ca3b31a679177ccb214e1825fa0ddc9b0a7298b3fdc5db66b7bc7aec5c1735a07814e830be1916fd8c4ce8285a2e945407a5464e5d8c20937447ab0f16ceff19fcf6ff39a643bbb67e5fdc8babc3a7a7e451b683d7bfad740c10c91d9cba4d271c8a21e9a95190f0b2d47ebe235a6c3121556bd4e5987c672fd2f4c19111eb0592d48ba33dfeed36ca4747086039a8fdfbf50700c6b874cd3a476ef853ca051fcd0cd516497c804284a20f681e8f676c8c79db592618dd97e0e9853ea089ca6fbe3f948d975a38c74d99e2d355a37b664300012d06288fcfa3164bc405b90871c037e5fb452879424efea3e240003c635f35a8445aab1469f4eeb5bb54dc7704b2fd7ca1b5c189644e8e210d55e823bbdd0dc1617d0d562c036f77d8ed9d6e4d014b4a77294d76ec5f9fc3e6f9257816d7e865a399dd1edd866859a8e36e01347c9f843d6cae1d929c954058904c27e195a629834ab2ac3df0a029b115e5e831d1e72dce1365212c7acfb6d3cbd757451d9370536f30f4446f345ba2dd5262fb5dae3560dfb3251877b98260960df4d72923cc6490250b2e001a2499eac7edf396417dac99e1ee85fc4c319d8c4a3d4a7a8a4e27631602a0a3da8e798ddc531fd999d2d852992355ed680478764483e86888e8c72496d8d8aa6263e9735d8f0529e29ecf29dd213741442e059dc691770863aace36dccc0419edd0f64cc80528da154053b0197c224a0375d12d7982aa2eb8f6240f12e4d185805b7d4c869052ac9673978383636583f3a15a838983925b7fea88088ba7bea23c375482c5e0cc91e9fec6835aaddd2cd98fa11d8ee9bc80ed340a6d4009fc30033c504c780296b7f88290262f51eec1457c912c33ad290a23dda9c5bbde587b1aa4ac293a48955652d349bbb036826f8d5ebf5da86f31a56b072d1a3f77721e1454c99166375fd260921ec6f0cc985f32beebf5157820ca4df578151ab4b000ad5ddd8df0bf511166afd1235f964a7a6432d2152dad58aaf91ac82504cededd89417a677087d7e8e9221c304d8d41a9ee1505cb4a92017f276eff0fdac4216930b909f4cc0e15ee69826ef2a156bb465594f491695d92b8474cc1bfc7ddaa60e76c8437422b78954b960fdcd053134d65d83786cd80587d8b083c02f76506d37ce0131d82c4dff3b97d07d1a7d5d3015d0eb07efa91a2b1d1ece3a7415f4e6ac20c99aab8be0d6484efe8ed7d6b78c9e7515e917de006a9765581fa12275d0411e418918cd69fd9957dafc91611abeccae0815ed70c97d0f0658a6b184172b2c49a3b352d20aca79a218faf5be0f3c2e5189913ebf1b3772aaea50e5dcaf7074ff56155c950bedff2e716f024eccbf108641da5d813729f6d2c0825756797225c93027e2f2c27cc6e534f07970a2e02e7379aa0df1aa83d9bbe3f18faa01dd566f692588c99c0d888c43a449dbb6847ecbf5f65e9177805664576cfe7d4bbca4f981d5b43339e3d0be2e5c79a1a1d61132e4621e190f31265fef382c5d11e8df40d3f023f7fb0d176b66cb17c0d4b16609fa295888e13be5dd931c3f4e333336198dc4c4ebafbdf9636cedd6dc9a7d84ebc6d86ed7247be206888119897a1d387c1f122ef6ee39f6db6c3adff6ff45cfde03213ed1494a068a14c6b02ee223cd4d1edda47db428e2e0ad7861decb492dc2b29d56403cbdecb9dc44eac34412ee67387b8ef08d5b8d76ba8e7b49a2df41083866886dca288a271d903f15ea2bafa20bfbe40becc99145c35bfb896beda99d233f1c20fb871c76a780f161ee659b2700b5869d5ba9dad8a3e23ad55a0b12e2eacf87489c8772dbb4d4e34ead6a67cdd541de894ebbca39305533c7de16b0427e9c74002f89d88289ca1fa5ced772322fbce25aef9fa218f767022a87f852469921535d64c95100b89d59ff1109b35a2db2bad79c9c919913b07aadbc101f1180cd8fea985ffdb151597a31a8124dec3ae14ad3f499c201efe318466510edd8eca4800c0b4a8c49cdcafd177601bf6964a901435cbb28c594728bd45fd0b3f54589e02183a2b720835e7816ba9c1f54db9d81644f5ae8f8708167a6bfd05659b9d0315dbd1384bd7939d029b5b428bb67bd9958f3fa275ffd7bd9599906b011b74fce7262b8cd98156fc90b969812486445bb8c80f8c28a6a2ef218e563220e64edc8a020d1dc4d92577d268f10808ec719aa8e4a399ff00a9de22c6ae7d5162c13a66558357542f3a58760e8d3a2b50cf38c9a11970bf3246cd56257004bbc8dc2c302479af34666b278df067b84dc1b05a3f19d7a5a692cd8745201ffc85cb0992ce30aafe8f25a0a128489a2ee98c1cfd12d1e3e0045fec2ef69c4885c0b25711bce6450b35aafe7ab94c7edbd7bcb5fd1ae2e95b95d80b02ac2bd361f036a7add62ba2617b87742d4eee1d6aa0c5502698352da3b28117968f53576c5b64615357748fac71ea0864ebf8dd2a9e6ed9ddd7f55b603f29204e2821190051f22b31cea461e081c82ef32251ef8ff1b7a7c6f6d222a9e209d57d6dc19ee6e0bc4196a48ef46b4bda7f75a9f76962cae5304f87a475b598d0e61fd1658add046dca642fbe56e1bbb8b3c300fe46d38d2e4de5e85e6dfdf54105240dcf73fc80132a3186d7f8346e07588313c588a2c997ed7574929c1a75d8634495f2ebde1e2de0c4ebfaa9c65655e930a69696debe57d9f10cab853821a8113f1be9f7459507e9cc621ba98b87207c408039fa60309a91aa2e42e5f5af383e1c293f6f659d802f8120539a84b8dc84e8201564e0295dabe1b90a170d23c532c7c970ea6a37285b274387cc3c5add37e72e13f71676d00bb2c2f409863c01a64eb449bbe121956dc0271226caefcd66d1870b7653d16dcee879f1363e867053085b1b910ad8881b088e9a7c2644afc9428125de9547b90eafee0e69624c6778dcafd38ae80112702769d0e828cfcbfae15b84fa63a704b5b27efbe478e997f4e2f5030279322a5c3b517d2189954db8098722c139154bfcb9ae1b58c9221847a5fb44686a1ee8d015a6290e6a77c5ad8ad1b51b0e28bc7f13e4a5e7259d16cbb7fa272e77e11dee488961063f97e711972f057b442f8ae1ca732202978b02d0549d13f2758732940024c94c136cfe6a67e112576380dd8c42987ca1ecf13b39a8089157235e35a29f489d201699f15f73095d3423541129c92d4ba50ed533a971265daff04b1ee4c1d2bf6ce60747d4011e89855f50960a5eb9087952ecff5497c8c0feec15a161affe76ca66b369a2e96e044b634ab82d326892aee98e5624de9465d38b3d3b8971eb35bb5157f96d56e579e48f7ede80c8344cdb2df524ba5239efa0b40c660a14968cf1acfe11c2f3a7b104bdb54c8f36c9e29ed0d4211bd2d167f3b7724b360a253d5c668650f1c5c2ac53ff06cd7fe1c83fb0ed406f317f47c2cfe6f66b9818ac6fde2d6a40521693a46ebebc9a9ef6e7ef05c0cfbe468b51ce8c1e5c6d02d5f8b2ae9d940f8b083047149f51809702dfb3f00c91791c15c116ae9edc0c2e11e1c97a0217ec71164bc4961bb46a27d216edc18172983f141554917e9d7b244e1c1e1ad651c123796c235c578555802f9050445ab353257baf1115b728ae4fb40f1e</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>æ¨¡å¼è¯†åˆ«</tag>
        <tag>ç®—æ³•</tag>
        <tag>Private</tag>
      </tags>
  </entry>
  <entry>
    <title>C++ä¸­çš„lambdaè¡¨è¾¾å¼æ¢ç©¶</title>
    <url>/2020/08/30/CPP%E4%B8%AD%E7%9A%84lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8E%A2%E7%A9%B6/</url>
    <content><![CDATA[<p>åœ¨ <code>C++11</code> åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œ<code>C++</code> æä¾›äº† <code>lambda</code> è¡¨è¾¾å¼ï¼Œå®ƒæ˜¯ä¸€ç§æ–¹ä¾¿äº†å‚æ•°ä¼ é€’å’Œå®šä¹‰åŒ¿åå‡½æ•°çš„æ–¹æ³•ã€‚è¯¥æ–¹æ³•é€šå¸¸ç”¨äºå°è£…ç®—æ³•ã€æ‰§è¡Œå¼‚æ­¥æ–¹æ³• ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯”è¾ƒé€‚ç”¨äºå°‘é‡çš„ä»£ç ã€‚ä»¥ä¸‹åŸæ–‡ï¼š</p>
<blockquote>
<p>In C++11 and later, a lambda expressionâ€”often called a <em>lambda</em>â€”is a convenient way of defining an anonymous function object (a <em>closure</em>) right at the location where it is invoked or passed as an argument to a function. Typically lambdas are used to encapsulate a few lines of code that are passed to algorithms or asynchronous methods. This article defines what lambdas are, compares them to other programming techniques, describes their advantages, and provides a basic example. </p>
</blockquote>
<a id="more"></a>
<h1 id="1-Lambda-è¡¨è¾¾å¼çš„ç»„æˆ"><a href="#1-Lambda-è¡¨è¾¾å¼çš„ç»„æˆ" class="headerlink" title="1. Lambda è¡¨è¾¾å¼çš„ç»„æˆ"></a>1. <code>Lambda</code> è¡¨è¾¾å¼çš„ç»„æˆ</h1><p>å…ˆå¯¹ <code>lambda</code> è¡¨è¾¾å¼æœ‰ä¸€ä¸ªç›´è§‚çš„è®¤è¯†ï¼Œå‚è€ƒä¸‹é¢ç¨‹åºï¼Œè¯¥ç¨‹åºå®Œæˆçš„æ˜¯å°†è¾“å…¥çš„æ•°ç»„ <code>nums</code> æŒ‰ç…§ç»å¯¹å€¼å¤§å°è¿›è¡Œå‡åºæ’åˆ—ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">-1</span>, <span class="number">10</span>&#125;;</span><br><span class="line">    <span class="built_in">std</span>::sort(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), [](<span class="keyword">int</span> a, <span class="keyword">int</span> b) <span class="keyword">mutable</span> <span class="keyword">throw</span>() -&gt; <span class="keyword">bool</span> &#123;</span><br><span class="line">        <span class="comment">// lambda è¡¨è¾¾å¼å‡½æ•°ä½“ï¼Œåœ¨è¿™é‡Œåšåˆ°äº†å°†è¾“å…¥æ•°ç»„å‡åºæ’åˆ—</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="built_in">std</span>::<span class="built_in">abs</span>(a) &lt; <span class="built_in">std</span>::<span class="built_in">abs</span>(b));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : nums) <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="comment">// &gt;: 1 -1 2 3 4 5 10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŠ›å¼€è¾¹è¾¹è§’è§’ï¼Œå•ç‹¬æ‹¿å‡ºæœ€é‡è¦çš„ä¸€éƒ¨åˆ†æ¥å­¦ä¹ ï¼Œ<code>[](int a, int b) mutable throw() -&gt; bool&#123; // statement &#125;</code> å°±æ˜¯ <code>lambda</code> è¡¨è¾¾å¼æœ€åŸå§‹çš„å†…å®¹ã€‚åœ¨è¯¥è¡¨è¾¾å¼ä¸­ï¼Œæ¯ä¸€éƒ¨åˆ†çš„å«ä¹‰å¦‚ä¸‹å™è¿°ï¼š</p>
<ol>
<li><code>[]</code> æ•è·å­å¥ï¼šç”¨æ¥æ•è·<strong>å‘¨å›´èŒƒå›´</strong>ä¸­å‡ºç°çš„å˜é‡ï¼Œä¹Ÿè¢«ç§°ä¸º<strong>å¼•å¯¼</strong>å­å¥ï¼Œå¯ä»¥åœ¨å…¶ä¸­å£°æ˜è·å–çš„å˜é‡æ˜¯æŒ‰<strong>å€¼</strong>è®¿é—®è¿˜æ˜¯<strong>å¼•ç”¨</strong>æ¥è®¿é—®<del>ï¼Œé»˜è®¤å€¼ä¸º <code>&amp;</code> ï¼Œä¸Šæ–‡ä¸­çš„ä¾‹å­å’Œ <code>[&amp;]</code> æ˜¯ä¸€æ ·çš„æ•ˆæœï¼Œ</del>å…·ä½“ä¾‹å­è§ä¸‹æ–‡ã€‚</li>
<li><code>()</code> å‚æ•°åˆ—è¡¨ï¼šç”¨æ¥è·å–å‚æ•°ï¼Œå¯¹äºä¸€ä¸ªä¸€èˆ¬çš„ <code>lambda</code> å‡½æ•°ï¼Œä½¿ç”¨èµ·æ¥å’Œä¸€èˆ¬çš„æŒ‡é’ˆå‡½æ•°æ²¡æœ‰åŒºåˆ«ï¼Œä¹Ÿæ˜¯éœ€è¦æœ‰å‚æ•°åˆ—è¡¨çš„ï¼Œå…·ä½“ä¾‹å­è§ä¸‹æ–‡ã€‚</li>
<li><code>mutable</code> å¯å˜ç±»å‹ï¼ˆå¯é€‰ï¼‰ï¼šä¸€èˆ¬æ¥è¯´ï¼Œåœ¨ <code>lambda</code> ä½“ä¸­è°ƒç”¨è¿ç®—ç¬¦çš„å˜é‡ï¼Œéƒ½æ˜¯ä»¥ <code>const value</code> æ¥ä½¿ç”¨çš„ï¼ŒåŠ ä¸Šè¿™ä¸ª <code>mutable</code> ä¹‹åï¼Œäººå®¶å˜æˆäº†å˜é‡æ¥ä½¿ç”¨ï¼Œå…·ä½“æ —å­è§ä¸‹æ–‡ã€‚</li>
<li><code>throw()</code> å¼‚å¸¸ç±»å‹ï¼ˆå¯é€‰ï¼‰ï¼šå’Œæ™®é€šå‡½æ•°ä¸€æ ·æ ·ï¼Œ<code>lambda</code> å‡½æ•°ä¹Ÿå¯èƒ½å¼•å‘å¼‚å¸¸ï¼Œå¦‚æœä¸ä¼šå¼•å‘å¼‚å¸¸çš„è¯ï¼Œç›´æ¥å£°æ˜ <code>noexcept</code> å°±å¯ä»¥å•¦~</li>
<li><code>-&gt; bool</code> è¿”å›ç±»å‹ï¼ˆå¯é€‰ï¼‰ï¼šç»§ç»­å’Œæ™®é€šå‡½æ•°ä¸€æ ·</li>
<li><code>&#123;// statement &#125;</code> <code>lambda</code> ä½“ï¼šå’Œä¸€èˆ¬çš„å‡½æ•°ä½“ä¸€æ ·ã€‚</li>
</ol>
<p>ä¸éš¾å‘ç°ï¼Œ<code>lambda</code> å‡½æ•°å’Œä¸€èˆ¬çš„å‡½æ•°æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼ŒåŸºæœ¬ä¸Šåªæœ‰åœ¨å¤´éƒ¨ä½ç½®æœ‰ç‰¹æ®Šè¯­æ³•ã€‚</p>
<h1 id="2-æ•è·è¯­å¥çš„ä½¿ç”¨-amp-å¯å˜è§„èŒƒ-mutable"><a href="#2-æ•è·è¯­å¥çš„ä½¿ç”¨-amp-å¯å˜è§„èŒƒ-mutable" class="headerlink" title="2. æ•è·è¯­å¥çš„ä½¿ç”¨ &amp; å¯å˜è§„èŒƒ mutable"></a>2. æ•è·è¯­å¥çš„ä½¿ç”¨ &amp; å¯å˜è§„èŒƒ <code>mutable</code></h1><p>æ‹¿å‡ºæ —å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">1</span>; <span class="comment">// åœ¨ä¸Šæ–‡ä¸­å£°æ˜å¥½å˜é‡ num</span></span><br><span class="line">    <span class="keyword">auto</span> f = [n = num]() &#123; <span class="comment">// åœ¨ä¸‹æ–‡ä¸­é€šè¿‡ æ•è·[] æ¥è·å– numï¼Œå¹¶åœ¨ lambda å‡½æ•°ä½“ä¸­è¿›è¡Œä½¿ç”¨</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// std::cout &lt;&lt; ++num &lt;&lt; std::endl; // é”™è¯¯çš„ä½¿ç”¨ï¼Œå› ä¸º num æ˜¯ä¸å¯å˜çš„å¸¸é‡</span></span><br><span class="line">    &#125;;</span><br><span class="line">    f(); <span class="comment">// &gt;: 1</span></span><br><span class="line">    <span class="keyword">auto</span> m = [num]() <span class="keyword">mutable</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ++num &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// å°†å†…éƒ¨å˜é‡å£°æ˜æˆ mutable å¯å˜ç±»å‹ï¼Œæ­¤æ—¶å¯ä»¥ä¿®æ”¹å†…éƒ¨å˜é‡</span></span><br><span class="line">    &#125;;</span><br><span class="line">    m(); <span class="comment">// &gt;: 2</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; num &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// &gt;: 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><del><code>mutable</code> å¯å˜å£°æ˜ä¼˜åŠ¿åœ¨äºå¯ä»¥åœ¨å†…éƒ¨ç›´æ¥æ”¹å˜å¤–éƒ¨å˜é‡ï¼Œç›¸å½“äºä½¿ç”¨äº† <code>[&amp;num]</code> å¼•ç”¨æ–¹æ³•ã€‚</del></p>
<p><strong>2020å¹´9æœˆ1æ—¥ ä¿®æ­£ï¼š</strong> åœ¨ <code>C++14</code> åŠä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>capture</code> è¯­å¥ä»å‘¨å›´ï¼ˆSurrounding Scopeï¼‰æ•è·å˜é‡ï¼Œåœ¨ <code>[]</code> å­å¥ä¸­æŒ‡å®šè¦æ•è·å“ªäº›å˜é‡ï¼Œä»¥åŠæŒ‰ç…§ä½•ç§æ–¹å¼ä½¿ç”¨å®ƒä»¬ã€‚å’Œæ™®é€šè¯­æ³•ä¸€æ ·ï¼Œå¸¦æœ‰ <code>ï¼†</code> å‰ç¼€çš„å˜é‡å¯ä»¥é€šè¿‡<strong>å¼•ç”¨</strong>è¿›è¡Œè®¿é—®ï¼Œè€Œæ²¡æœ‰å‰ç¼€ <code>ï¼†</code> çš„å˜é‡å¯ä»¥é€šè¿‡å€¼è¿›è¡Œè®¿é—®ã€‚<strong>è€Œç©ºçš„æ•è·å­å¥[]è¡¨ç¤º <code>lambda</code> è¡¨è¾¾å¼çš„ä¸»ä½“åœ¨é—­åŒ…èŒƒå›´å†…ä¸è®¿é—®å¤–éƒ¨ä»»ä½•å˜é‡ã€‚</strong> å½“ç„¶~ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤çš„æ•è·æ¨¡å¼æ¥æŒ‡ç¤ºå¦‚ä½•æ•è· <code>lambda</code> ä¸­å¼•ç”¨çš„ä»»ä½•å¤–éƒ¨å˜é‡ï¼š<code>[ï¼†]</code> è¡¨ç¤ºå‘¨å›´æ‰€æœ‰å˜é‡éƒ½æ˜¯é€šè¿‡å¼•ç”¨æ•è·çš„ï¼Œè€Œ <code>[=]</code> æ„å‘³ç€å®ƒä»¬æŒ‰å€¼æ‰€æ•è·ã€‚</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ<code>lambda</code>çš„å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦æ˜¯<strong>å¸¸é‡å€¼</strong>ï¼Œä½†æ˜¯ä½¿ç”¨ <code>mutable</code> å…³é”®å­—å¯ä»¥ä¿®æ”¹é»˜è®¤å€¼ï¼Œ<code>mutable</code> ä½¿ <code>lambda</code> è¡¨è¾¾å¼çš„å‡½æ•°ä½“å¯ä»¥ä¿®æ”¹æŒ‰å€¼æ•è·çš„å˜é‡ã€‚</p>
<h1 id="3-å‚æ•°åˆ—è¡¨"><a href="#3-å‚æ•°åˆ—è¡¨" class="headerlink" title="3. å‚æ•°åˆ—è¡¨"></a>3. å‚æ•°åˆ—è¡¨</h1><p>å†æ‹¿å‡ºä¸€ä¸ªæ —å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> y = [](<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; y(<span class="number">3</span>, <span class="number">2</span>); <span class="comment">// &gt;: 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»è¿™é‡Œå¼€å§‹ï¼Œä¹Ÿå°±æ˜¯å‚æ•°åˆ—è¡¨å¼€å§‹ï¼Œåé¢çš„å†…å®¹éƒ½æ˜¯å¯é€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯å¦‚æœä¸ºç©ºï¼Œé‚£ä¹ˆå°±ç›´æ¥<strong>çœç•¥</strong>ä¸å†™å³å¯ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> empty = [] &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Wow!ç©ºçš„~&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// å•¥ä¹Ÿæ²¡æœ‰åªæœ‰ä¸ªå‡½æ•°ä½“&#125;;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    empty(); <span class="comment">// &gt;: Wow!ç©ºçš„~</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-ç‰¹æ®Šç”¨æ³•"><a href="#4-ç‰¹æ®Šç”¨æ³•" class="headerlink" title="4. ç‰¹æ®Šç”¨æ³•"></a>4. ç‰¹æ®Šç”¨æ³•</h1><h2 id="4-1-èŠ±é‡Œèƒ¡å“¨çš„-lambda-åµŒå¥—"><a href="#4-1-èŠ±é‡Œèƒ¡å“¨çš„-lambda-åµŒå¥—" class="headerlink" title="4.1 èŠ±é‡Œèƒ¡å“¨çš„ lambda åµŒå¥—"></a>4.1 èŠ±é‡Œèƒ¡å“¨çš„ <code>lambda</code> åµŒå¥—</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸¤å±‚ lambda åµŒå¥—ï¼Œçœ‹èµ·æ¥æŒºèŠ±é‡Œèƒ¡å“¨</span></span><br><span class="line">    <span class="keyword">auto</span> embed_embed_lambda = [](<span class="keyword">int</span> a) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="string">&quot; - - &quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> [](<span class="keyword">int</span> c) &#123; <span class="keyword">return</span> c / <span class="number">2</span>; &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; embed_embed_lambda(<span class="number">2</span>)(<span class="number">2</span>) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// &gt;: 2 - - 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-2-é«˜é˜¶-lambda-å‡½æ•°"><a href="#4-2-é«˜é˜¶-lambda-å‡½æ•°" class="headerlink" title="4.2 é«˜é˜¶ lambda å‡½æ•°"></a>4.2 é«˜é˜¶ <code>lambda</code> å‡½æ•°</h2><p>é«˜é˜¶å‡½æ•°æ˜¯æŒ‡ï¼Œé‡‡ç”¨å¦ä¸€ä¸ª <code>lambda</code> è¡¨è¾¾å¼ä½œä¸ºå…¶å‚æ•°æˆ–è¿”å› <code>lambda</code> è¡¨è¾¾å¼çš„ <code>lambda</code> è¡¨è¾¾å¼ï¼ˆä¸çŸ¥ä¸è§‰æƒ³èµ·äº†ä¿„ç½—æ–¯å¥—å¨ƒğŸ¤”ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿”å› function å¯¹è±¡çš„ lambda è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="keyword">auto</span> get_function = [](<span class="keyword">int</span> x) -&gt; <span class="built_in">std</span>::function&lt;<span class="keyword">int</span>(<span class="keyword">int</span>)&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> [=](<span class="keyword">int</span> y) &#123; <span class="keyword">return</span> x + y; &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ function ä¸ºå¯¹è±¡ä½œä¸ºå…¶å‚æ•°çš„ lambda è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="keyword">auto</span> param_function = [](<span class="keyword">const</span> <span class="built_in">std</span>::function&lt;<span class="keyword">int</span>(<span class="keyword">int</span>)&gt; &amp;f, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">return</span> f(n) * <span class="number">2</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">auto</span> ans = param_function(get_function(<span class="number">2</span>), <span class="number">3</span>); <span class="comment">// x = 2, n = 3</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5.  æ€»ç»“"></a>5.  æ€»ç»“</h1><p>å†™åˆ°æ­¤å¤„ï¼Œå…³äº <code>C++</code> çš„ <code>lambda</code> è¯­æ³•è§„èŒƒå’Œç”¨æ³•å·²ç»å­¦ä¹ äº†ä¸€å°éƒ¨åˆ†ï¼Œå®ƒä½œä¸ºä¸€ç§æ–¹ä¾¿çµæ´»çš„æ–¹æ³•éšç”¨éšå­¦ä¹Ÿæ˜¯é˜”ä»¥çš„ã€‚</p>
<blockquote>
<p>å› ä¸ºå‚æ•°ç±»å‹å’Œå‡½æ•°æ¨¡æ¿å‚æ•°ä¸€æ ·å¯ä»¥è¢«æ¨å¯¼è€Œæ— éœ€å’Œå…·ä½“å‚æ•°ç±»å‹è€¦åˆï¼Œæœ‰åˆ©äºé‡æ„ä»£ç ï¼›å’Œä½¿ç”¨autoå£°æ˜å˜é‡çš„ä½œç”¨ç±»ä¼¼ï¼Œå®ƒä¹Ÿå…è®¸é¿å…ä¹¦å†™è¿‡äºå¤æ‚çš„å‚æ•°ç±»å‹ã€‚ç‰¹åˆ«åœ°ï¼Œä¸éœ€è¦æ˜¾å¼æŒ‡å‡ºå‚æ•°ç±»å‹ä½¿å¾—ä½¿ç”¨é«˜é˜¶å‡½æ•°å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p>
</blockquote>
<p>ä»¥ä¸‹ç¨‹åºæºç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/8/30.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/8/30 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">-1</span>, <span class="number">10</span>&#125;;</span><br><span class="line">    <span class="built_in">std</span>::sort(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), [&amp;](<span class="keyword">int</span> a, <span class="keyword">int</span> b) <span class="keyword">mutable</span> <span class="keyword">throw</span>() -&gt; <span class="keyword">bool</span> &#123;</span><br><span class="line">        <span class="comment">// lambda è¡¨è¾¾å¼å‡½æ•°ä½“ï¼Œåœ¨è¿™é‡Œåšåˆ°äº†å°†è¾“å…¥æ•°ç»„å‡åºæ’åˆ—</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="built_in">std</span>::<span class="built_in">abs</span>(a) &lt; <span class="built_in">std</span>::<span class="built_in">abs</span>(b));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : nums) <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="comment">// &gt;: 1 -1 2 3 4 5 10</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">1</span>; <span class="comment">// åœ¨ä¸Šæ–‡ä¸­å£°æ˜å¥½å˜é‡ num</span></span><br><span class="line">    <span class="keyword">auto</span> f = [n = num]() &#123; <span class="comment">// åœ¨ä¸‹æ–‡ä¸­é€šè¿‡ æ•è·[] æ¥è·å– numï¼Œå¹¶åœ¨ lambda å‡½æ•°ä½“ä¸­è¿›è¡Œä½¿ç”¨</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// std::cout &lt;&lt; ++num &lt;&lt; std::endl; // é”™è¯¯çš„ä½¿ç”¨ï¼Œå› ä¸º num æ˜¯ä¸å¯å˜çš„å¸¸é‡</span></span><br><span class="line">    &#125;;</span><br><span class="line">    f(); <span class="comment">// &gt;: 1</span></span><br><span class="line">    <span class="keyword">auto</span> m = [num]() <span class="keyword">mutable</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ++num &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// å°†å†…éƒ¨å˜é‡å£°æ˜æˆ mutable å¯å˜ç±»å‹ï¼Œæ­¤æ—¶å¯ä»¥ä¿®æ”¹å†…éƒ¨å˜é‡</span></span><br><span class="line">    &#125;;</span><br><span class="line">    m(); <span class="comment">// &gt;: 2</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; num &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// &gt;: 2</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> y = [](<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; y(<span class="number">3</span>, <span class="number">2</span>); <span class="comment">// &gt;: 5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> empty = [] &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Wow!ç©ºçš„~&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// å•¥ä¹Ÿæ²¡æœ‰åªæœ‰ä¸ªå‡½æ•°ä½“&#125;;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    empty(); <span class="comment">// &gt;: Wow!ç©ºçš„~</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åç›´æ¥ä½¿ç”¨ (5, 3)</span></span><br><span class="line">    <span class="keyword">int</span> n = [](<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123; <span class="keyword">return</span> a + b; &#125;(<span class="number">5</span>, <span class="number">3</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// &gt;: 8</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸¤å±‚ lambda åµŒå¥—ï¼Œçœ‹èµ·æ¥æŒºèŠ±é‡Œèƒ¡å“¨</span></span><br><span class="line">    <span class="keyword">auto</span> embed_embed_lambda = [](<span class="keyword">int</span> a) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="string">&quot; - - &quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> [](<span class="keyword">int</span> c) &#123; <span class="keyword">return</span> c / <span class="number">2</span>; &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; embed_embed_lambda(<span class="number">2</span>)(<span class="number">2</span>) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// &gt;: 2 - - 1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å› function å¯¹è±¡çš„ lambda è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="keyword">auto</span> get_function = [](<span class="keyword">int</span> x) -&gt; <span class="built_in">std</span>::function&lt;<span class="keyword">int</span>(<span class="keyword">int</span>)&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> [=](<span class="keyword">int</span> y) &#123; <span class="keyword">return</span> x + y; &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ function ä¸ºå¯¹è±¡ä½œä¸ºå…¶å‚æ•°çš„ lambda è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="keyword">auto</span> param_function = [](<span class="keyword">const</span> <span class="built_in">std</span>::function&lt;<span class="keyword">int</span>(<span class="keyword">int</span>)&gt; &amp;f, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">return</span> f(n) * <span class="number">2</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> ans = param_function(get_function(<span class="number">2</span>), <span class="number">3</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>2020å¹´10æœˆ25æ—¥æ›´æ–°ï¼š</strong></p>
<p>ä»Šå¤©åœ¨åˆ·é¢˜æ—¶ï¼Œçªå‘å¥‡æƒ³å‡ºè¿™æ ·çš„ç”¨æ³•æ¥ï¼Œå¯ä»¥å®ç°åŠ¨æ€å‡½æ•°è°ƒç”¨ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; <span class="title">findRestaurant</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp;list1, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp;list2)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; mapper;</span><br><span class="line">        <span class="keyword">auto</span> insert = [&amp;](<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp;<span class="built_in">list</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">const</span> <span class="built_in">string</span> &amp;item : <span class="built_in">list</span>) mapper.insert(item);</span><br><span class="line">        &#125;;</span><br><span class="line">        list1.<span class="built_in">size</span>() &gt; list2.<span class="built_in">size</span>() ? insert(list1) : insert(list2);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; ans;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="built_in">string</span> &amp;item : list1.<span class="built_in">size</span>() &gt; list2.<span class="built_in">size</span>() ? list2 : list1) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mapper.count(item)) ans.emplace_back(item);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å®ç°çš„æ˜¯æŸ¥æ‰¾ä¸¤ä¸ªåˆ—è¡¨ä¸­çš„å…±æœ‰å…ƒç´ ã€‚</p>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>Lambda</tag>
      </tags>
  </entry>
  <entry>
    <title>C++ä½è¿ç®—</title>
    <url>/2020/10/24/CPP%E4%BD%8D%E8%BF%90%E7%AE%97/</url>
    <content><![CDATA[<p>å¿«ä¹ç»†è…»çš„ä½è¿ç®—ï¼Œç»†è‡´å…¥å¾®çš„å†…å­˜è¡¨ç¤ºã€‚</p>
<a id="more"></a>
<p>è¯¥éƒ¨åˆ†å¯¹ç¼–è¯‘å™¨å’Œæ“ä½œç³»ç»Ÿå¯†åˆ‡ç›¸å…³ï¼Œæ‰€ä»¥å…ˆä»‹ç»æˆ‘çš„æœºå™¨æ“ä½œç³»ç»ŸåŠç¼–è¯‘ç¯å¢ƒæƒ…å†µï¼š</p>
<ul>
<li>Windows10, x86_64</li>
<li>CMake Version: 3.17.3</li>
<li>MingW64 Version: w64 6.0</li>
</ul>
<h1 id="1-åŸºæœ¬ç±»å‹ä½æ•°"><a href="#1-åŸºæœ¬ç±»å‹ä½æ•°" class="headerlink" title="1. åŸºæœ¬ç±»å‹ä½æ•°"></a>1. åŸºæœ¬ç±»å‹ä½æ•°</h1><ul>
<li><p><code>char</code> ï¼šåœ¨C++ä¸­ï¼Œæä¾›äº†åŸºæœ¬çš„ <code>8</code> ä½çš„ <code>char</code> ç±»å‹ï¼Œä¹Ÿæä¾›äº† <code>16</code> å’Œ <code>32</code> ä½çš„ <code>char</code> ç±»å‹</p>
</li>
<li><p><code>short</code> ï¼šä¸åŒç³»ç»Ÿä¸ä¸€æ ·ï¼Œä½†è‡³å°‘ <code>16</code> ä½</p>
</li>
<li><p><code>int</code> ï¼šè‡³å°‘å’Œ <code>short</code> é•¿åº¦ä¸€è‡´ï¼Œåœ¨æˆ‘çš„æœºå™¨ä¸Šæ˜¯ <code>4</code> å­—èŠ‚ï¼Œ<code>32</code> ä½</p>
</li>
<li><p><code>long</code> ï¼šè‡³å°‘å’Œ <code>int</code> é•¿åº¦ä¸€è‡´ã€è‡³å°‘ <code>32</code> ä½ï¼Œåœ¨æˆ‘çš„æœºå™¨ä¸Šæ˜¯ <code>4</code> å­—èŠ‚ï¼Œ<code>32</code> ä½</p>
</li>
<li><p><code>long long</code> ï¼šè‡³å°‘ <code>8</code> å­—èŠ‚ï¼Œ<code>64</code> ä½ï¼Œè‡³å°‘ä¸ <code>long</code> ç±»å‹ä¸€æ ·é•¿</p>
</li>
<li><p><code>double</code> ï¼š<code>8</code> å­—èŠ‚ï¼Œ<code>64</code> ä½</p>
</li>
<li><p><code>float</code> ï¼š<code>4</code> å­—èŠ‚ï¼Œ<code>32</code> ä½</p>
</li>
</ul>
<p>å­—èŠ‚ï¼ˆbyteï¼‰é€šå¸¸æ˜¯æŒ‡<strong>8</strong>ä½çš„å†…å­˜å•å…ƒã€‚ä½†æ˜¯åœ¨C++é‡Œé¢é‡Œé¢ï¼Œè¯´çš„ä¸æ˜¯ä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p>  C++å­—èŠ‚ç”±è‡³å°‘èƒ½å¤Ÿå®¹çº³å®ç°çš„åŸºæœ¬å­—ç¬¦é›†çš„ç›¸é‚»ä½ç»„æˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯èƒ½å–å€¼çš„æ•°ç›®å¿…é¡»ç­‰äºæˆ–è¶…è¿‡å­—ç¬¦æ•°ç›®ã€‚</p>
</blockquote>
<h1 id="2-æ— ç¬¦å·ç±»å‹"><a href="#2-æ— ç¬¦å·ç±»å‹" class="headerlink" title="2. æ— ç¬¦å·ç±»å‹"></a>2. æ— ç¬¦å·ç±»å‹</h1><p>æ— ç¬¦å·ç±»å‹ç›¸æ¯”è¾ƒäºåŸºæœ¬ç±»å‹ï¼Œåªæ˜¯æ‰©å¤§äº†è¡¨ç¤ºèŒƒå›´ï¼ˆæŠŠæœ¬æ¥ç”¨äºè¡¨ç¤ºè´Ÿæ•°çš„èŒƒå›´æ”¾åˆ°äº†æ­£æ•°è¿™è¾¹æ¥ï¼‰ï¼Œä½¿ç”¨ä½æ•°ä¸å˜ã€‚</p>
<p><code>unsigned</code> åªæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨æ¥ä¿®é¥°æ•´å‹å˜é‡ï¼Œä¸èƒ½ç”¨æ¥ä¿®é¥°æµ®ç‚¹æ•°ï¼Œä¸ä¹‹ç›¸æ­é…çš„è¿˜æœ‰ <code>signed</code> ã€‚</p>
<h1 id="3-ä½è¿ç®—"><a href="#3-ä½è¿ç®—" class="headerlink" title="3. ä½è¿ç®—"></a>3. ä½è¿ç®—</h1><h2 id="3-1-ç§»ä½è¿ç®—"><a href="#3-1-ç§»ä½è¿ç®—" class="headerlink" title="3.1 ç§»ä½è¿ç®—"></a>3.1 ç§»ä½è¿ç®—</h2><p>ç§»ä½è¿ç®—å³ä¾§çš„è¿ç®—å¯¹è±¡ä¸€å®šè¦æ˜¯<strong>éè´Ÿæ•°</strong>ï¼Œè€Œä¸”å¿…é¡»å°äºè¢«è¿ç®—çš„ä½æ•°ã€‚<code>&lt;&lt;</code> æˆ–è€… <code>&gt;&gt;</code> ç§»å‡ºè¾¹ç•Œçš„ä½ä¼šè¢«èˆå¼ƒã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> bits = <span class="number">155</span>;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> offset = <span class="number">8</span>;</span><br><span class="line">    <span class="comment">// &lt;&lt;</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     *           1001 1011</span></span><br><span class="line"><span class="comment">     * 1001 1011 0000 0000</span></span><br><span class="line"><span class="comment">     * &gt;: 9b00</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; hex &lt;&lt; (bits &lt;&lt; offset) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// &gt;&gt;</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     *           1001 1011</span></span><br><span class="line"><span class="comment">     * 0000 0000 0000 0000 1001 1011</span></span><br><span class="line"><span class="comment">     * &gt;: 0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; hex &lt;&lt; (bits &gt;&gt; offset) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">short</span> neg_i = <span class="number">-308</span>;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 308:</span></span><br><span class="line"><span class="comment">     *  0000 0001 0011 0100 (åŸç )</span></span><br><span class="line"><span class="comment">     * -308:</span></span><br><span class="line"><span class="comment">     *  1111 1110 1100 1011 (åç )</span></span><br><span class="line"><span class="comment">     *  1111 1110 1100 1100 (è¡¥ç ï¼‰</span></span><br><span class="line"><span class="comment">     *  1111 1111 1111 1111</span></span><br><span class="line"><span class="comment">     * &gt;: fecc fffe</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; hex &lt;&lt; (<span class="keyword">unsigned</span> <span class="keyword">short</span>) (neg_i) &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; (<span class="keyword">unsigned</span> <span class="keyword">short</span>) (neg_i &gt;&gt; offset) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼</strong></p>
<p><code>&lt;&lt;</code> è¿ç®—ç¬¦ä¼šåœ¨å³ä¾§æ’å…¥å€¼ä¸º <code>0</code> çš„äºŒè¿›åˆ¶ä½</p>
<p><code>&gt;&gt;</code> è¿ç®—ç¬¦è¡Œä¸ºåˆ™ä¾èµ–äºå·¦ä¾§è¿ç®—å¯¹è±¡çš„ç±»å‹ï¼š</p>
<ul>
<li>æ— ç¬¦å·ç±»å‹ï¼ˆ<code>unsigned</code>ï¼‰ï¼Œé‚£ä¹ˆä¼šåœ¨å·¦ä¾§ç›´æ¥æ’å…¥ <code>0</code> å€¼äºŒè¿›åˆ¶ä½</li>
<li>æœ‰ç¬¦å·ç±»å‹ï¼ˆ<code>signed</code>ï¼‰ï¼Œé‚£ä¹ˆä¼šåœ¨å·¦ä¾§æ’å…¥ç¬¦å·ä½çš„å‰¯æœ¬æˆ–è€…å€¼ä¸º <code>0</code> çš„äºŒè¿›åˆ¶ä½ï¼Œå¾ˆæ˜æ˜¾åœ¨æˆ‘çš„æœºå™¨ä¸Šæ˜¯æ’å…¥ç¬¦å·ä½çš„å‰¯æœ¬ã€‚</li>
</ul>
<p>å› ä¸ºæœ‰ç¬¦å·ç±»å‹è¿ç®—ç»“æœçš„ä¸ç¡®å®šæ€§ï¼Œæœ€å¥½è¿˜æ˜¯å¯¹æ— ç¬¦å·æ•°è¿›è¡Œç§»ä½è¿ç®—ï¼Œèµ·ç å³ç§»å­ã€‚</p>
<h2 id="3-2-ä½æ±‚åè¿ç®—"><a href="#3-2-ä½æ±‚åè¿ç®—" class="headerlink" title="3.2 ä½æ±‚åè¿ç®—"></a>3.2 ä½æ±‚åè¿ç®—</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ~</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 1001 1011</span></span><br><span class="line"><span class="comment">     * 0110 0100</span></span><br><span class="line"><span class="comment">     * &gt;: ffffff64</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; hex &lt;&lt; (~bits) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼</strong> <code>char</code> ç±»å‹çš„è¿ç®—å¯¹è±¡é¦–å…ˆæå‡æˆ<code>int</code> ç±»å‹ï¼Œæå‡æ—¶è¿ç®—å¯¹è±¡åŸæ¥çš„ä½ä¿æŒä¸å˜ï¼Œå¾€é«˜ä½ï¼ˆhigh order positionï¼‰æ·»åŠ  <code>0</code> ã€‚</p>
<h2 id="3-3-ä¸ã€æˆ–ã€å¼‚æˆ–è¿ç®—"><a href="#3-3-ä¸ã€æˆ–ã€å¼‚æˆ–è¿ç®—" class="headerlink" title="3.3 ä¸ã€æˆ–ã€å¼‚æˆ–è¿ç®—"></a>3.3 ä¸ã€æˆ–ã€å¼‚æˆ–è¿ç®—</h2><p>å¹³å¹³æ— å¥‡ï¼Œæ­£å¸¸è¿ç®—</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> bits_o = <span class="number">132</span>;</span><br><span class="line">    <span class="comment">// |</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 1001 1011</span></span><br><span class="line"><span class="comment">     * 1000 0100</span></span><br><span class="line"><span class="comment">     * 1001 1111</span></span><br><span class="line"><span class="comment">     * &gt;: 9f</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; hex &lt;&lt; (bits | bits_o) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &amp;</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 1001 1011</span></span><br><span class="line"><span class="comment">     * 1000 0100</span></span><br><span class="line"><span class="comment">     * 1000 0000</span></span><br><span class="line"><span class="comment">     * &gt;: 80</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; hex &lt;&lt; (bits &amp; bits_o) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ^</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 1001 1011</span></span><br><span class="line"><span class="comment">     * 1000 0100</span></span><br><span class="line"><span class="comment">     * 0001 1111</span></span><br><span class="line"><span class="comment">     * &gt;: 1f</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; hex &lt;&lt; (bits ^ bits_o) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-ç»“æ„ä½“æ‰€å å­—èŠ‚æ•°ï¼ˆä½æ•°ï¼‰è®¡ç®—"><a href="#4-ç»“æ„ä½“æ‰€å å­—èŠ‚æ•°ï¼ˆä½æ•°ï¼‰è®¡ç®—" class="headerlink" title="4. ç»“æ„ä½“æ‰€å å­—èŠ‚æ•°ï¼ˆä½æ•°ï¼‰è®¡ç®—"></a>4. ç»“æ„ä½“æ‰€å å­—èŠ‚æ•°ï¼ˆä½æ•°ï¼‰è®¡ç®—</h1><p>ç»“æ„ä½“æ‰€å å­—èŠ‚æ•°ï¼ˆä½æ•°ï¼‰çš„è®¡ç®—åŒ…æ‹¬ä¸‰ç§æƒ…å†µï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>ç»“æ„ä½“å†…éƒ¨ä»…å«æœ‰åŸºæœ¬ç±»å‹ <code>double</code> <code>float</code> <code>int</code> <code>char</code> <code>short</code> <code>long</code> <code>long long</code>ã€‚</li>
<li>ç»“æ„ä½“å†…å«æœ‰ç»“æ„ä½“</li>
<li>ç»“æ„ä½“å†…å«æœ‰æ•°ç»„</li>
</ul>
<p>ä¸ç®¡æ˜¯å“ªç§æƒ…å†µï¼Œé¦–å…ˆè¦éµå¾ªçš„ä¸‰ä¸ªåŸºæœ¬åŸåˆ™ï¼š</p>
<ul>
<li>æ•´ä½“ç©ºé—´å¯¹é½åŸåˆ™ï¼šæ•´ä½“å ç”¨çš„ç©ºé—´æ˜¯<strong>å ç”¨ç©ºé—´æœ€å¤§çš„æˆå‘˜æ‰€å å­—èŠ‚æ•°çš„æ•´æ•°å€</strong>ã€‚</li>
<li>æ•°æ®å¯¹é½åŸåˆ™ï¼šå†…å­˜æŒ‰ç»“æ„ä½“æˆå‘˜çš„å…ˆåé¡ºåºæ’åˆ—ï¼Œæ¯ä¸ªæ•°æ®æˆå‘˜çš„å¯¹é½æŒ‰ç…§ <code>#program pack</code> æŒ‡å®šçš„æ•°å€¼å’Œè¿™ä¸ªæ•°æ®æˆå‘˜è‡ªèº«é•¿åº¦ä¸­æ¯”è¾ƒå°çš„é‚£ä¸ªæ•°è¿›è¡Œæ‰©å±•å¯¹é½ï¼ŒWindowsä¸‹é»˜è®¤ä¸º <code>pack(8)</code> ï¼ŒLinuxä¸‹é»˜è®¤ä¸º <code>pack(4)</code>ã€‚</li>
<li>ç»“æ„ä½“ä½œä¸ºæˆå‘˜ï¼šç»“æ„ä½“æˆå‘˜è¦ä»å…¶å†…éƒ¨æœ€å¤§å…ƒç´ å¤§å°çš„æ•´æ•°å€åœ°å€å¼€å§‹å­˜å‚¨ã€‚</li>
</ul>
<p>æ ¹æ®è¿™ä¸‰ç§ä¸åŒæƒ…å†µï¼Œå¼€å§‹åˆ†æè®¡ç®—ï¼š</p>
<h2 id="4-1-ç»“æ„ä½“å†…ä»…æœ‰åŸºæœ¬ç±»å‹"><a href="#4-1-ç»“æ„ä½“å†…ä»…æœ‰åŸºæœ¬ç±»å‹" class="headerlink" title="4.1 ç»“æ„ä½“å†…ä»…æœ‰åŸºæœ¬ç±»å‹"></a>4.1 ç»“æ„ä½“å†…ä»…æœ‰åŸºæœ¬ç±»å‹</h2><p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> pack(8)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">st4</span> &#123;</span></span><br><span class="line">        <span class="keyword">char</span> c1;</span><br><span class="line">        <span class="keyword">double</span> d1;</span><br><span class="line">        <span class="keyword">int</span> i1;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;sizeof(st4) is &quot;</span> &lt;&lt; <span class="keyword">sizeof</span>(st4) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: sizeof(st4) is 24</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">st5</span> &#123;</span></span><br><span class="line">        <span class="keyword">char</span> c1;</span><br><span class="line">        <span class="keyword">int</span> i1;</span><br><span class="line">        <span class="keyword">double</span> d1;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;sizeof(st5) is &quot;</span> &lt;&lt; <span class="keyword">sizeof</span>(st5) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: sizeof(st5) is 16</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äº <code>st4</code> ï¼Œé¦–å…ˆåˆ†é…1ä¸ªå­—èŠ‚çš„ç©ºé—´ç»™ <code>c1</code> ï¼Œç„¶ååˆ° <code>double</code> ç±»å‹çš„ <code>d1</code> æ—¶ï¼Œå– <code>min(#pragma pack(8), sizeof(double))</code> çš„æ•´æ•°å€è¿›è¡Œå¯¹é½ï¼Œè¿™é‡Œéƒ½æ˜¯8ï¼Œå› æ­¤éœ€è¦æŠŠ <code>c1</code> åé¢çš„7ä¸ªå­—èŠ‚ç©ºå‡ºæ¥ï¼Œç„¶åå­˜æ”¾ <code>d1</code> ï¼Œåˆ°äº† <code>int</code> ç±»å‹çš„ <code>i1</code> æ—¶ï¼Œä»ç„¶é€‰æ‹© <code>min(#pragma pack(8), sizeof(int))</code> ä¹Ÿå°±æ˜¯4æ¥è¿›è¡Œå¯¹é½ï¼Œå‰é¢å·²ç»å­˜æ”¾äº†16ä¸ªå­—èŠ‚ï¼Œå·²ç»æ˜¯4çš„æ•´æ•°å€äº†ï¼Œæ‰€ä»¥ç›´æ¥å­˜æ”¾å°±å¥½ã€‚æœ€åæ£€æŸ¥æ•´ä¸ªç©ºé—´æ˜¯ä¸æ˜¯æœ€å¤§æˆå‘˜æ‰€å ç©ºé—´çš„æ•´æ•°å€ï¼Œè¿™é‡Œæœ€å¤§æ˜¯8ï¼Œå› æ­¤å†ç©ºå‡ºæ¥4ä¸ªå­—èŠ‚ï¼Œå‡‘é½åˆ°24ï¼Œå®Œæˆç©ºé—´åˆ†é…ã€‚</p>
<p>å¯¹äº <code>st5</code> ï¼Œå’Œä¸Šé¢æ­£å¥½ä¸åŒï¼Œåˆ†é… <code>c1</code> æ˜¯ä¸€æ ·çš„æ“ä½œï¼Œéƒ½æ˜¯1ä¸ªå­—èŠ‚ï¼Œä½†æ˜¯åˆ†é…åˆ° <code>i1</code> æ—¶ï¼Œéœ€è¦ç©ºå‡ºæ¥3ä¸ªå­—èŠ‚ï¼Œå†ç»™ <code>i1</code> è¿›è¡Œç©ºé—´åˆ†é…ï¼Œåˆ°äº† <code>d1</code> æ—¶ï¼Œå‰é¢å·²ç»æ˜¯8ä¸ªå­—èŠ‚äº†ï¼Œæ˜¯8çš„æ•´æ•°å€ï¼Œä¸éœ€è¦é¢å¤–æ‰©å……å¯¹é½ï¼Œå› æ­¤ç›´æ¥å­˜æ”¾8ä¸ªå­—èŠ‚å°±å¥½ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå®ƒä»…ç”¨äº†16ä¸ªå­—èŠ‚å°±å®Œæˆäº†ç©ºé—´åˆ†é…ã€‚</p>
<p>ç”±æ­¤å¯è§ï¼Œè™½ç„¶ä¸¤è€…åœ¨åŠŸèƒ½ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œéƒ½åŒ…å«äº†ç›¸åŒçš„æ•°æ®åŸŸï¼Œä½†æ˜¯ç©ºé—´çš„å ç”¨æ˜¯ä¸åŒçš„ï¼Œè¿™ä¹Ÿå¯ä»¥äº§ç”Ÿç¨‹åºçš„ç©ºé—´ä¼˜åŒ–ã€‚</p>
<h2 id="4-2-ç»“æ„ä½“å†…æœ‰ç»“æ„ä½“"><a href="#4-2-ç»“æ„ä½“å†…æœ‰ç»“æ„ä½“" class="headerlink" title="4.2 ç»“æ„ä½“å†…æœ‰ç»“æ„ä½“"></a>4.2 ç»“æ„ä½“å†…æœ‰ç»“æ„ä½“</h2><p>ç»“æ„ä½“å†…æœ‰ç»“æ„ä½“ï¼Œè¿™ä¸ªé—®é¢˜å¯ä¸æ˜¯å¾ˆç®€å•ï¼Œå…·ä½“è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> pack(8)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">st66</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> a2;</span><br><span class="line">        <span class="keyword">double</span> d2;</span><br><span class="line">        <span class="keyword">short</span> s2;</span><br><span class="line">        <span class="keyword">char</span> c2;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">st6</span> &#123;</span></span><br><span class="line">        <span class="keyword">char</span> c1;</span><br><span class="line">        st66 s;</span><br><span class="line">        <span class="keyword">int</span> i1;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;sizeof(st66) is &quot;</span> &lt;&lt; <span class="keyword">sizeof</span>(st66) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: sizeof(st66) is 24</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;sizeof(st6) is &quot;</span> &lt;&lt; <span class="keyword">sizeof</span>(st6) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: sizeof(st6) is 40</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;s offset is &quot;</span> &lt;&lt; offsetof(st6, s) &lt;&lt; <span class="built_in">endl</span>;     <span class="comment">// &gt;: s offset is 8</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;i1 offset is &quot;</span> &lt;&lt; offsetof(st6, i1) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: i1 offset is 32</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ç»“æ„ä½“ <code>st6</code> ä¸­ï¼ŒåŒ…å«æœ‰äº† <code>st66</code> ï¼Œè€Œä¸”å®ƒä»¬éƒ½æœ‰å„è‡ªçš„æ•°æ®åŸŸã€‚ä»è¾“å‡ºä¸éš¾çœ‹å‡ºï¼Œç»“æ„ä½“ <code>st6</code> ä½¿ç”¨äº† 40 ä¸ªå­—èŠ‚ï¼Œè€Œå†…å«çš„ <code>st66</code> å æ®äº† 24 ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆå‰©ä½™çš„ <code>40 - 24 - 1 - 4 = 11</code> ä¸ªå­—èŠ‚éƒ½å“ªé‡Œå»äº†ğŸ§ï¼Ÿ</p>
<p>é¦–å…ˆçœ‹è¿™ä¸ªå›¾ï¼Œå¦‚æœçœ‹æ‡‚äº†å›¾å°±æ²¡å¿…è¦å†çœ‹ä¸‹é¢çš„å­—äº†~ğŸ˜‹</p>
<p><img data-src="https://s1.ax1x.com/2020/10/24/BZsf4H.jpg" alt="å†…å­˜è¡¨ç¤º"></p>
<p>ä¸‹é¢ä»”ç»†è¯´æ˜ï¼š</p>
<ol>
<li>åˆ†é…åˆ° <code>c1</code> æ—¶å€™ï¼Œç³»ç»Ÿç»™äº†å®ƒ 1 ä¸ªå­—èŠ‚ï¼Œæ”¾åˆ°äº† ã€0ã€‘ çš„ä½ç½®ï¼Œæ­¤æ—¶æ€»å…± 1 å­—èŠ‚ã€‚</li>
<li>åˆ†é…åˆ° <code>s</code> æ—¶å€™ï¼Œç³»ç»Ÿæ£€æŸ¥ <code>st66</code> é‡Œé¢å ç”¨ç©ºé—´æœ€å¤§çš„æ•°æ®æˆå‘˜æ‰€å å­—èŠ‚æ•°ï¼Œ<code>double = 8</code> ï¼Œé‚£ä¹ˆæ­¤æ—¶äº§ç”Ÿåç§» 7 ï¼ŒæŠŠ <code>s</code> æ”¾åˆ°äº†åç§»ä¸º <code>8</code> çš„ä½ç½®å¼€å§‹åˆ†é…ï¼Œå¼€å§‹è¿›è¡Œæˆå‘˜ç©ºé—´åˆ†é…ï¼š<ol>
<li>åˆ†é… <code>a2</code> ï¼Œç³»ç»Ÿç»™äº†å®ƒ 4 ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆå®ƒå æ®äº† ã€8 - 11ã€‘ä½ç½®ï¼Œæ­¤æ—¶å…±è®¡ 12 å­—èŠ‚</li>
<li>åˆ†é… <code>d2</code> ï¼Œæ­¤æ—¶ <code>min(pack(8), sizeof(double)) == 8</code>ï¼Œé‚£ä¹ˆæŠŠåç§»æ”¾åˆ° 16 å¤„ï¼Œ<code>d2</code> è¢«æ”¾åˆ°äº† ã€16 - 23ã€‘ ä½ç½®ï¼Œæ­¤æ—¶å…±è®¡ 24 å­—èŠ‚</li>
<li>åˆ†é… <code>s2</code> ï¼Œæ­¤æ—¶ <code>min(pack(8), sizeof(short)) == 2</code>ï¼Œé‚£ä¹ˆç›´æ¥æ”¾åˆ° ã€24 - 25ã€‘ ä½ç½®å°±å¥½äº†ï¼Œæ­¤æ—¶å…±è®¡ 26 å­—èŠ‚</li>
<li>åˆ†é… <code>c2</code> ï¼Œæ­¤æ—¶ <code>min(pack(8), sizeof(char)) == 1</code> ï¼Œé‚£ä¹ˆç›´æ¥æ”¾åˆ° ã€26ã€‘ å¤„å°±å¥½ï¼Œæ­¤æ—¶å…±è®¡ 27 å­—èŠ‚</li>
</ol>
</li>
<li>ç°åœ¨åˆ†é…å®Œäº† <code>s</code>ï¼Œä½†æ˜¯è¿˜æ²¡å®Œï¼Œéœ€è¦è¿›è¡Œæ•´ä½“å¯¹é½ï¼ŒæŠŠåˆ°ç›®å‰ä½ç½®çš„ç©ºé—´è¿›è¡Œè°ƒæ•´ï¼Œè°ƒæ•´åˆ° <code>min(max(int, double, short, char), 8) == 8</code> çš„å€æ•°ï¼Œä¹Ÿå°±æ˜¯ 32ï¼Œå› æ­¤åç§»æ­¤æ—¶åˆ°äº† 31ã€‚</li>
<li>åˆ†é… <code>i1</code> æ­¤æ—¶ <code>min(pack(8), sizeof(int)) == 4</code> ï¼Œå°† <code>i1</code> æ”¾åˆ° ã€32 - 35ã€‘å°±å¯ä»¥äº†ï¼Œæ­¤æ—¶å†…å­˜å…±å  36 ä¸ªå­—èŠ‚</li>
<li>æ•´ä½“å¯¹é½ï¼ŒæŠŠç©ºé—´è°ƒæ•´ä¸º <code>min(pack(8), sizeof(double))== 8</code> çš„æ•´æ•°å€ï¼Œä¹Ÿå°±æ˜¯40ï¼Œä¹Ÿå°±æ­£å¥½å¾—å‡ºäº†æœ€åçš„ç»“æœã€‚</li>
</ol>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä½¿ç”¨äº† <code>offsetof</code> è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼Œå…¶å®å®ƒæ˜¯ä¸€ä¸ªå®ï¼Œå®šä¹‰åœ¨å¤´æ–‡ä»¶ <code>stddef.h</code> ä¸­ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯æ¢æµ‹æŒ‡å®šçš„æˆå‘˜å˜é‡åœ¨ç±»æˆ–ç»“æ„ä½“ä¸­çš„åç§»æ˜¯å¤šå°‘ï¼Œä¾‹å¦‚ä¸Šé¢çš„ <code>i1</code> åç§»æ˜¯ 32ã€‚</p>
<h2 id="4-3-ç»“æ„ä½“å†…æœ‰æ•°ç»„"><a href="#4-3-ç»“æ„ä½“å†…æœ‰æ•°ç»„" class="headerlink" title="4.3 ç»“æ„ä½“å†…æœ‰æ•°ç»„"></a>4.3 ç»“æ„ä½“å†…æœ‰æ•°ç»„</h2><p>æ•°ç»„å°±å¾ˆç®€å•äº†ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªå•ç‹¬æ‘†æ”¾çš„ï¼Œåªéœ€è¦çœ‹æˆæ˜¯å¤šä¸ªå•ç‹¬çš„å˜é‡å°±å¥½äº†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">st1</span> &#123;</span></span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">21</span>];</span><br><span class="line">        <span class="keyword">double</span> price;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;sizeof(st1) is &quot;</span> &lt;&lt; <span class="keyword">sizeof</span>(st1) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: sizeof(st1) is 32</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">st2</span> &#123;</span></span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">double</span> price;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;sizeof(st2) is &quot;</span> &lt;&lt; <span class="keyword">sizeof</span>(st2) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: sizeof(st2) is 32</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªä¾‹å­ä¹‹æ‰€ä»¥æ˜¯ 32 ï¼Œæ˜¯å› ä¸ºéœ€è¦æ˜¯ <code>min(pack(8), sizeof(double)) == 8</code> çš„å€æ•°ã€‚</p>
<p>å¦‚æœæ”¹æˆäº† <code>pack(4)</code> é‚£ä¹ˆç»“æœå°±æˆäº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sizeof(st1) is 32</span><br><span class="line">sizeof(st2) is 28</span><br></pre></td></tr></table></figure>
<hr>
<p>ğŸ¤—ğŸ¤—ğŸ¤—ï¼Œå¼€å¿ƒï¼Œè¿™ä¸€éƒ¨åˆ†å­¦èµ·æ¥å°±ç›¸æ¯”è¾ƒäºç±»é‚£ä¸€éƒ¨åˆ†å¼€å¿ƒå¤šäº†~ğŸ˜‹</p>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>C++ä¸­push_backå’Œemplace_backçš„åŒºåˆ«</title>
    <url>/2020/09/02/CPP%E4%B8%ADpush-back%E5%92%8Cemplace-back%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<p>åœ¨ <code>C++11</code> ä¹‹åï¼Œ<code>vector</code> å®¹å™¨ä¸­æ·»åŠ äº†æ–°çš„æ–¹æ³•ï¼š<code>emplace_back()</code> ï¼Œå’Œ <code>push_back()</code> ä¸€æ ·çš„æ˜¯éƒ½æ˜¯åœ¨å®¹å™¨æœ«å°¾æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ è¿›å»ï¼Œä¸åŒçš„æ˜¯ <code>emplace_back()</code> åœ¨æ•ˆç‡ä¸Šç›¸æ¯”è¾ƒäº <code>push_back()</code> æœ‰äº†ä¸€å®šçš„æå‡ã€‚</p>
<a id="more"></a>
<h1 id="1-push-back-æ–¹æ³•"><a href="#1-push-back-æ–¹æ³•" class="headerlink" title="1. push_back() æ–¹æ³•"></a>1. <code>push_back()</code> æ–¹æ³•</h1><p>é¦–å…ˆåˆ†æè¾ƒä¸ºç®€å•ç›´è§‚çš„ <code>push_back()</code> æ–¹æ³•ã€‚å¯¹äº <code>push_back()</code> è€Œè¨€ï¼Œæœ€å¼€å§‹åªæœ‰ <code>void push_back( const T&amp; value );</code> è¿™ä¸ªå‡½æ•°å£°æ˜ï¼Œåæ¥ä» <code>C++11</code> ï¼Œæ–°åŠ äº†<code>void push_back( T&amp;&amp; value )</code> å‡½æ•°ï¼Œä»¥ä¸‹ä¸º <code>C++</code> ä¸­çš„æºç å®ç°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ä»¥ä¸‹ç¨‹åºæ¥è‡ªSTLæºç  bits/stl_vector.h</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @brief  Add data to the end of the %vector.</span></span><br><span class="line"><span class="comment"> *  @param  __x  Data to be added.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  This is a typical stack operation.  The function creates an</span></span><br><span class="line"><span class="comment"> *  element at the end of the %vector and assigns the given data</span></span><br><span class="line"><span class="comment"> *  to it.  Due to the nature of a %vector this operation can be</span></span><br><span class="line"><span class="comment"> *  done in constant time if the %vector has preallocated space</span></span><br><span class="line"><span class="comment"> *  available.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(<span class="keyword">const</span> value_type &amp;__x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;_M_impl._M_finish != <span class="keyword">this</span>-&gt;_M_impl._M_end_of_storage) &#123;</span><br><span class="line">        <span class="comment">// é¦–å…ˆåˆ¤æ–­å®¹å™¨æ»¡æ²¡æ»¡ï¼Œå¦‚æœæ²¡æ»¡é‚£ä¹ˆå°±æ„é€ æ–°çš„å…ƒç´ ï¼Œç„¶åæ’å…¥æ–°çš„å…ƒç´ </span></span><br><span class="line">        _Alloc_traits::construct(<span class="keyword">this</span>-&gt;_M_impl, <span class="keyword">this</span>-&gt;_M_impl._M_finish,</span><br><span class="line">                                 __x);</span><br><span class="line">        ++<span class="keyword">this</span>-&gt;_M_impl._M_finish; <span class="comment">// æ›´æ–°å½“å‰å®¹å™¨å†…å…ƒç´ æ•°é‡</span></span><br><span class="line">    &#125; <span class="keyword">else</span></span><br><span class="line">        <span class="comment">// å¦‚æœæ»¡äº†ï¼Œé‚£ä¹ˆå°±é‡æ–°ç”³è¯·ç©ºé—´ï¼Œç„¶åæ‹·è´æ•°æ®ï¼Œæ¥ç€æ’å…¥æ–°æ•°æ® __x</span></span><br><span class="line">        _M_realloc_insert(<span class="built_in">end</span>(), __x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœ C++ ç‰ˆæœ¬ä¸º C++11 åŠä»¥ä¸Šï¼ˆä¹Ÿå°±æ˜¯ä» C++11 å¼€å§‹æ–°åŠ äº†è¿™ä¸ªæ–¹æ³•ï¼‰ï¼Œä½¿ç”¨ emplace_back() ä»£æ›¿</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(value_type &amp;&amp;__x)</span> </span>&#123;</span><br><span class="line">    emplace_back(<span class="built_in">std</span>::<span class="built_in">move</span>(__x));</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>åœ¨ <code>C++20</code> ä¹‹åï¼Œå¯¹è¿™ä¸¤ä¸ªé‡è½½æ–¹æ³•è¿›è¡Œäº†ä¿®æ”¹ï¼Œå˜æˆäº† <code>constexpr void push_back( const T&amp; value );</code> ä»¥åŠ <code>constexpr void push_back( T&amp;&amp; value );</code> ã€‚è¯¦æƒ…å‚è€ƒ <code>http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p1004r2.pdf</code> <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p1004r2.pdf">ç‰ˆæœ¬ä¿®æ”¹è®¡åˆ’</a>ã€‚</p>
<h1 id="2-emplace-back-æ–¹æ³•"><a href="#2-emplace-back-æ–¹æ³•" class="headerlink" title="2. emplace_back() æ–¹æ³•"></a>2. <code>emplace_back()</code> æ–¹æ³•</h1><p><code>emplace_back()</code> æ˜¯ä» <code>C++11</code> èµ·æ–°å¢åˆ° <code>vector</code> ä¸­çš„æ–¹æ³•ï¼Œæœ€åˆçš„å‡½æ•°å£°æ˜ä¸ºï¼š </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt; class... Args &gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">emplace_back</span><span class="params">( Args&amp;&amp;... args )</span></span>;</span><br></pre></td></tr></table></figure>
<p>ä¹‹ååœ¨ <code>C++14</code> ä¹‹åï¼Œå°†æ— è¿”å›å€¼ <code>void</code> æ”¹ä¸ºäº†è¿”å›å¯¹æ’å…¥å…ƒç´ çš„å¼•ç”¨ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt; class... Args &gt;</span><br><span class="line"><span class="function">reference <span class="title">emplace_back</span><span class="params">( Args&amp;&amp;... args )</span></span>;</span><br></pre></td></tr></table></figure>
<p>åœ¨ <code>STL</code> æºç ä¸­ï¼Œå¯ä»¥çœ‹åˆ° <code>emplace_back()</code> çš„å®ç°æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ä»¥ä¸‹ç¨‹åºæ¥è‡ªSTLæºç  bits/vector.tcc</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Tp, <span class="keyword">typename</span> _Alloc&gt;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... _Args&gt;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> __cplusplus &gt; 201402L</span></span><br><span class="line"><span class="keyword">typename</span> <span class="built_in">vector</span>&lt;_Tp, _Alloc&gt;::reference</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="keyword">void</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="built_in">vector</span>&lt;_Tp, _Alloc&gt;::emplace_back(_Args &amp;&amp;... __args) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;_M_impl._M_finish != <span class="keyword">this</span>-&gt;_M_impl._M_end_of_storage) &#123;</span><br><span class="line">        <span class="comment">// åŒæ ·åˆ¤æ–­å®¹å™¨æ˜¯å¦æ»¡äº†ï¼Œæ²¡æ»¡çš„è¯ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°ï¼Œå¯¹å…ƒç´ è¿›è¡Œæ„é€ ï¼Œå¹¶æ‰§è¡Œç±»å‹è½¬æ¢</span></span><br><span class="line">        _Alloc_traits::construct(<span class="keyword">this</span>-&gt;_M_impl, <span class="keyword">this</span>-&gt;_M_impl._M_finish,</span><br><span class="line">                                 <span class="built_in">std</span>::forward&lt;_Args&gt;(__args)...);</span><br><span class="line">        ++<span class="keyword">this</span>-&gt;_M_impl._M_finish; <span class="comment">// æ›´æ–°å½“å‰å®¹å™¨å¤§å°</span></span><br><span class="line">    &#125; <span class="keyword">else</span></span><br><span class="line">        <span class="comment">// æ»¡äº†çš„è¯é‡æ–°ç”³è¯·å†…å­˜ç©ºé—´ï¼Œå°†æ–°çš„å…ƒç´ ç»§ç»­æ„é€ è¿›æ¥ï¼Œå¹¶ä¸”è¿›è¡Œç±»å‹è½¬æ¢</span></span><br><span class="line">        _M_realloc_insert(<span class="built_in">end</span>(), <span class="built_in">std</span>::forward&lt;_Args&gt;(__args)...);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> __cplusplus &gt; 201402L</span></span><br><span class="line">    <span class="keyword">return</span> back(); <span class="comment">// åœ¨ C++14ç‰ˆæœ¬ä¹‹åï¼Œæ·»åŠ è¿”å›å€¼ï¼Œè¿”å›æœ€åä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>å°† <code>emplace_back()</code> å’Œ <code>push_back()</code> ä¸­åŒºåˆ«æœ€å¤§çš„ç¨‹åºæ‹å‡ºæ¥çœ‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">_Alloc_traits::construct(<span class="keyword">this</span>-&gt;_M_impl, <span class="keyword">this</span>-&gt;_M_impl._M_finish,</span><br><span class="line">                                 <span class="built_in">std</span>::forward&lt;_Args&gt;(__args)...); <span class="comment">// emplace_back()</span></span><br><span class="line">_Alloc_traits::construct(<span class="keyword">this</span>-&gt;_M_impl, <span class="keyword">this</span>-&gt;_M_impl._M_finish,</span><br><span class="line">                                 __x);                            <span class="comment">// push_back()</span></span><br></pre></td></tr></table></figure>
<p>å¯¹äº <code>std::forward()</code> å‡½æ•°è€Œè¨€ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç±»å‹è½¬æ¢å‡½æ•°ï¼Œå®ƒçš„å£°æ˜å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ä»¥ä¸‹ç¨‹åºæ¥è‡ªSTLæºç  bits/move.h</span></span><br><span class="line"><span class="comment"> *  @brief  Forward an lvalue.</span></span><br><span class="line"><span class="comment"> *  @return The parameter cast to the specified type.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  This function is used to implement &quot;perfect forwarding&quot;.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Tp&gt;</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> _Tp &amp;&amp;<span class="title">forward</span><span class="params">(<span class="keyword">typename</span> <span class="built_in">std</span>::remove_reference&lt;_Tp&gt;::type &amp;<span class="keyword">__t</span>)</span> <span class="keyword">noexcept</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">static_cast</span>&lt;_Tp &amp;&amp;&gt;(<span class="keyword">__t</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>åœ¨å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸­ï¼Œå°†å‚æ•° <code>__t</code> ä¼ é€’ç»™å¯¹åº”ç±» <code>_Tp</code> çš„æ„é€ å‡½æ•°ï¼Œç„¶åè°ƒç”¨äº†è¯¥ç±»çš„æ„é€ å‡½æ•°ä»è€Œå®Œæˆå¯¹è±¡åˆ›å»ºè¿‡ç¨‹ã€‚</strong></p>
<p>å› æ­¤ï¼Œåœ¨ <code>emplace_back()</code> å‡½æ•°ä¸­ï¼Œæ˜¯æ”¯æŒç›´æ¥å°†æ„é€ å‡½æ•°æ‰€éœ€çš„å‚æ•°ä¼ é€’è¿‡å»ï¼Œç„¶åæ„å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡å‡ºæ¥ï¼Œç„¶åå¡«å……åˆ°å®¹å™¨å°¾éƒ¨çš„ã€‚</p>
<h1 id="3-ç›´è§‚åŒºåˆ«"><a href="#3-ç›´è§‚åŒºåˆ«" class="headerlink" title="3. ç›´è§‚åŒºåˆ«"></a>3. ç›´è§‚åŒºåˆ«</h1><p>å£°æ˜ä¸€ä¸ª <code>Person</code> ç±»ï¼Œé‡Œé¢åªæœ‰ä¸€ä¸ªå­—æ®µ <code>_age</code> ï¼Œåœ¨å®¹å™¨ä¸­å­˜å‚¨è¯¥ç±»çš„å¯¹è±¡ï¼Œæ–¹ä¾¿äºæŸ¥çœ‹æ•´ä¸ªå‡½æ•°è°ƒç”¨è¿‡ç¨‹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> _age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Person(<span class="keyword">int</span> age) : _age(age) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Construct a person.&quot;</span> &lt;&lt; _age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person(<span class="keyword">const</span> Person &amp;p) : _age(p._age) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Copy-Construct&quot;</span> &lt;&lt; _age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person(<span class="keyword">const</span> Person &amp;&amp;p) <span class="keyword">noexcept</span>: _age(p._age) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Move-Construct&quot;</span> &lt;&lt; _age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆä½¿ç”¨ <code>push_back()</code> æ–¹æ³•æ·»åŠ åˆ›å»ºå¥½çš„å…ƒç´ ï¼Œå¯ä»¥çœ‹å‡ºä½¿ç”¨åˆ°äº†<strong>æ‹·è´æ„é€ å‡½æ•°</strong>ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;Person&gt; person;</span><br><span class="line">    <span class="keyword">auto</span> p = Person(<span class="number">1</span>); <span class="comment">// &gt;: Construct a person.1</span></span><br><span class="line">    person.push_back(p);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * &gt;: Copy-Construct1 å› ä¸ºå®¹å™¨æ‰©å®¹ï¼Œéœ€è¦æŠŠå‰é¢çš„å…ƒç´ é‡æ–°æ·»åŠ è¿›æ¥ï¼Œå› æ­¤éœ€è¦æ‹·è´</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå†ä½¿ç”¨ <code>emplace_back()</code> å‡½æ•°æ·»åŠ å…ƒç´ è¿›æ¥ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;Person&gt; person;</span><br><span class="line">    <span class="keyword">auto</span> p = Person(<span class="number">1</span>); <span class="comment">// &gt;: Construct a person.1</span></span><br><span class="line">    person.emplace_back(<span class="built_in">move</span>(p)); <span class="comment">// &gt;: Move-Construct1</span></span><br><span class="line">    person.emplace_back(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * &gt;: Construct a person.2  // æ„å»ºä¸€ä¸ªæ–°çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">     * &gt;: Move-Construct1       // æ‹·è´ä¹‹å‰çš„å…ƒç´ è¿‡æ¥ï¼Œè¿™ä¸ªæ—¶å€™ç”¨çš„æ˜¯ Person(const Person &amp;&amp;p)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ç›´æ¥ä½¿ç”¨<strong>æ„é€ å‚æ•°åˆ—è¡¨</strong>æ¥æ·»åŠ å…ƒç´ çš„æ–¹æ³•ï¼Œå®ƒä¼šä½¿ç”¨åˆ°äº†ç§»åŠ¨æ„é€ å‡½æ•° <code>move</code> ã€‚è¿™ä¹Ÿæ˜¯ <code>emplace_back()</code> æ–¹æ³•çš„ä¸€å¤§ç‰¹è‰²ã€‚</p>
<h1 id="4-æ€§èƒ½åˆ†æ"><a href="#4-æ€§èƒ½åˆ†æ" class="headerlink" title="4. æ€§èƒ½åˆ†æ"></a>4. æ€§èƒ½åˆ†æ</h1><p><code>emplace_back()</code> å‡½æ•°åœ¨åŸç†ä¸Šæ¯” <code>push_back()</code> æœ‰äº†ä¸€å®šçš„æ”¹è¿›ï¼ŒåŒ…æ‹¬åœ¨å†…å­˜ä¼˜åŒ–æ–¹é¢å’Œè¿è¡Œæ•ˆç‡æ–¹é¢ã€‚å†…å­˜ä¼˜åŒ–ä¸»è¦ä½“ç°åœ¨ä½¿ç”¨äº†<strong>å°±åœ°æ„é€ ï¼ˆç›´æ¥åœ¨å®¹å™¨å†…æ„é€ å¯¹è±¡ï¼Œä¸ç”¨æ‹·è´ä¸€ä¸ªå¤åˆ¶å“å†ä½¿ç”¨ï¼‰+å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>çš„æ–¹æ³•æ¥å®ç°ï¼Œåœ¨è¿è¡Œæ•ˆç‡æ–¹é¢ï¼Œç”±äºçœå»äº†æ‹·è´æ„é€ è¿‡ç¨‹ï¼Œå› æ­¤ä¹Ÿæœ‰ä¸€å®šçš„æå‡ã€‚</p>
<p>ä»¥ä¸‹ç¨‹åºæºç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/9/3.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/9/3 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> _age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Person(<span class="keyword">int</span> age) : _age(age) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Construct a person.&quot;</span> &lt;&lt; _age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person(<span class="keyword">const</span> Person &amp;p) : _age(p._age) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Copy-Construct&quot;</span> &lt;&lt; _age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person(<span class="keyword">const</span> Person &amp;&amp;p) <span class="keyword">noexcept</span>: _age(p._age) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Move-Construct&quot;</span> &lt;&lt; _age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TEST_EMPLACE_BACK</span></span><br><span class="line"><span class="comment">//#define TEST_PUSH_BACK</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;Person&gt; person;</span><br><span class="line">    <span class="keyword">auto</span> p = Person(<span class="number">1</span>); <span class="comment">// &gt;: Construct a person.1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> TEST_EMPLACE_BACK</span></span><br><span class="line">    person.emplace_back(<span class="built_in">move</span>(p)); <span class="comment">// &gt;: Move-Construct1</span></span><br><span class="line">    person.emplace_back(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * &gt;: Construct a person.2  // æ„å»ºä¸€ä¸ªæ–°çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">     * &gt;: Move-Construct1       // æ‹·è´ä¹‹å‰çš„å…ƒç´ è¿‡æ¥ï¼Œè¿™ä¸ªæ—¶å€™ç”¨çš„æ˜¯ Person(const Person &amp;&amp;p)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> TEST_PUSH_BACK</span></span><br><span class="line">    person.push_back(p);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * &gt;: Copy-Construct1 å› ä¸ºå®¹å™¨æ‰©å®¹ï¼Œéœ€è¦æŠŠå‰é¢çš„å…ƒç´ é‡æ–°æ·»åŠ è¿›æ¥ï¼Œå› æ­¤éœ€è¦æ‹·è´</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>STL</tag>
        <tag>æºç åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title>C++çš„upper_boundå’Œlower_boundçš„åŒºåˆ«</title>
    <url>/2020/09/20/CPP%E7%9A%84upper-bound%E5%92%8Clower-bound%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<p>åœ¨STLæä¾›çš„ <code>algorithm</code> å¤´æ–‡ä»¶ä¸­ï¼Œæä¾›äº†ä¸¤ä¸ªå‡½æ•°ï¼š<code>upper_bound</code> å’Œ <code>lower_bound</code> ï¼Œè¿™ä¿©å‡½æ•°åŠŸèƒ½ â€ç±»ä¼¼â€œï¼Œä½†å¹¶ä¸å®Œå…¨ç›¸åŒï¼Œå…·ä½“ä¸åŒå¦‚ä¸‹æ–‡æ‰€è¿°ã€‚</p>
<a id="more"></a>
<h1 id="1-upper-bound-å‡½æ•°"><a href="#1-upper-bound-å‡½æ•°" class="headerlink" title="1. upper_bound å‡½æ•°"></a>1. upper_bound å‡½æ•°</h1><p>åœ¨ <code>STL</code> æºç ä¸­ï¼Œå…³äº <code>upper_bound(_ForwardIterator __first, _ForwardIterator __last, const _Tp &amp;__val)</code> å‡½æ•°çš„è¯´æ˜æ˜¯è¿™æ ·çš„ï¼š</p>
<blockquote>
<p>  æ‰¾åˆ°æœ€åä¸€ä¸ªå¯ä»¥æ’å…¥ <code>val</code> è€Œä¸æ”¹å˜åŸæ¥æœ‰åºæ•°ç»„çš„æ’åºä½ç½®ï¼ˆFinds the last position in which <code>@p __val</code> could be inserted without changing the orderingï¼‰ã€‚</p>
</blockquote>
<p>æ¥ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         *upper_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 4</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         upper_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) - nums.<span class="built_in">begin</span>() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨å‡½æ•° <code>*upper_bound(nums.begin(), nums.end(), 3)</code> çš„è¿”å›å€¼ä¸­ï¼ŒæŒ‡å‘äº† <code>4</code> ä¹Ÿå°±æ˜¯å¤§äº <code>3</code> çš„æ•°ï¼Œä» <code>upper_bound(nums.begin(), nums.end(), 3) - nums.begin()</code> ä¸­å¯ä»¥çœ‹å‡ºè¿”å›æ¥äº† <code>3</code> ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ª <code>4</code> çš„ä¸‹æ ‡ï¼Œå› æ­¤ <code>upper_bound()</code> å‡½æ•°å¯ä»¥ç†è§£ä¸ºï¼š<strong>å¤§äºç›®æ ‡å…ƒç´ çš„ç¬¬ä¸€ä¸ªæ•°/ä½ç½®</strong>ã€‚</p>
<p>ç¿»å‡ºæ¥æºç éªŒè¯ä¸€ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ä»¥ä¸‹ç¨‹åºæ¥è‡ªï¼šbits/stl_algobase.h</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @brief æ‰¾åˆ°æœ€åä¸€ä¸ªå¯ä»¥æ’å…¥ __val çš„ä½ç½®ï¼Œè€Œä¸”ä¸æ”¹å˜åŸæ¥çš„æ’åº</span></span><br><span class="line"><span class="comment"> *  @ingroup binary_search_algorithmsï¼ŒäºŒåˆ†æŸ¥æ‰¾ç®—æ³•</span></span><br><span class="line"><span class="comment"> *  @param  __first   An iterator. ä¸€ä¸ªè¿­ä»£å™¨</span></span><br><span class="line"><span class="comment"> *  @param  __last    Another iterator. å¦ä¸€ä¸ªè¿­ä»£å™¨</span></span><br><span class="line"><span class="comment"> *  @param  __val     The search term. å¯»æ‰¾çš„é¡¹</span></span><br><span class="line"><span class="comment"> *  @return  An iterator pointing to the first element greater than @p __val,</span></span><br><span class="line"><span class="comment"> *           or end() if no elements are greater than @p __val.</span></span><br><span class="line"><span class="comment"> *           æ‹¿åˆ°ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªå¤§äº __val å…ƒç´ çš„åœ°æ–¹ï¼Œ</span></span><br><span class="line"><span class="comment"> *           å¦‚æœæ²¡æ‰¾åˆ°å¤§äº __val çš„å…ƒç´ ï¼Œé‚£ä¹ˆå°±è¿”å› end()</span></span><br><span class="line"><span class="comment"> *  @ingroup binary_search_algorithms</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _ForwardIterator, <span class="keyword">typename</span> _Tp&gt;</span><br><span class="line"><span class="keyword">inline</span> _ForwardIterator</span><br><span class="line">upper_bound(_ForwardIterator __first, _ForwardIterator __last,</span><br><span class="line">            <span class="keyword">const</span> _Tp &amp;__val) &#123;</span><br><span class="line">    <span class="comment">// concept requirements</span></span><br><span class="line">    __glibcxx_function_requires(_ForwardIteratorConcept &lt; _ForwardIterator &gt;)</span><br><span class="line">    __glibcxx_function_requires(_LessThanOpConcept &lt;</span><br><span class="line">                                _Tp, <span class="keyword">typename</span> iterator_traits&lt;_ForwardIterator&gt;::value_type &gt;)</span><br><span class="line">    __glibcxx_requires_partitioned_upper(__first, __last, __val);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">std</span>::__upper_bound(__first, __last, __val,</span><br><span class="line">                              __gnu_cxx::__ops::__val_less_iter());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢æåˆ°çš„ <code>__upper_bound()</code> å‡½æ•°ï¼Œæ˜¯å®é™…çš„ç”¨æ¥æŸ¥æ‰¾çš„ç®—æ³•å®ç°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ä»¥ä¸‹ç¨‹åºæ¥è‡ªï¼šbits/stl_algobase.h</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _ForwardIterator, <span class="keyword">typename</span> _Tp, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line">_ForwardIterator</span><br><span class="line">__upper_bound(_ForwardIterator __first, _ForwardIterator __last,</span><br><span class="line">              <span class="keyword">const</span> _Tp &amp;__val, _Compare __comp) &#123;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_ForwardIterator&gt;::difference_type</span><br><span class="line">            _DistanceType;</span><br><span class="line"></span><br><span class="line">    _DistanceType __len = <span class="built_in">std</span>::distance(__first, __last);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸‹é¢ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•æ¥å®ç°</span></span><br><span class="line"><span class="comment">     * __len å³æŒ‡é’ˆ</span></span><br><span class="line"><span class="comment">     * __first å·¦æŒ‡é’ˆ</span></span><br><span class="line"><span class="comment">     * __middle ä¸­é—´å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">while</span> (__len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        </span><br><span class="line">        _DistanceType __half = __len &gt;&gt; <span class="number">1</span>; <span class="comment">// __len / 2 æ“ä½œï¼Œä½ç§»æ“ä½œæ›´å¿«</span></span><br><span class="line">        _ForwardIterator __middle = __first;</span><br><span class="line">        <span class="built_in">std</span>::advance(__middle, __half);</span><br><span class="line">        <span class="keyword">if</span> (__comp(__val, __middle))</span><br><span class="line">            __len = __half;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            __first = __middle;</span><br><span class="line">            ++__first;</span><br><span class="line">            __len = __len - __half - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> __first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œå¯ä»¥ç†è§£ <code>upper_bound(_ForwardIterator __first, _ForwardIterator __last, const _Tp &amp;__val)</code> å‡½æ•°ä¸ºæŸ¥æ‰¾ <strong>å¤§äº <code>__val</code> çš„ç¬¬ä¸€ä¸ªå…ƒç´ åŠå…¶ä½ç½®ï¼Œè¿”å›æ¥ä¸€ä¸ªæŒ‡å‘è¿™ä¸ªä½ç½®çš„è¿­ä»£å™¨</strong>ã€‚å…¶åº•å±‚å®ç°ä½¿ç”¨äº† <strong>äºŒåˆ†æŸ¥æ‰¾</strong>ã€‚</p>
<p>å…¶å®ï¼Œåœ¨åé¢çš„é˜…è¯»ä¸­ï¼Œå‘ç°å¯¹äº <code>upper_bound</code> è¿˜æœ‰å¦ä¸€ä¸ªé‡è½½å®ç°ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  @brief Finds the last position in which @p __val could be inserted</span></span><br><span class="line"><span class="comment"> *         without changing the ordering.</span></span><br><span class="line"><span class="comment"> *  @ingroup binary_search_algorithms</span></span><br><span class="line"><span class="comment"> *  @param  __first   An iterator.</span></span><br><span class="line"><span class="comment"> *  @param  __last    Another iterator.</span></span><br><span class="line"><span class="comment"> *  @param  __val     The search term.</span></span><br><span class="line"><span class="comment"> *  @param  __comp    A functor to use for comparisons.</span></span><br><span class="line"><span class="comment"> *  @return  An iterator pointing to the first element greater than @p __val,</span></span><br><span class="line"><span class="comment"> *           or end() if no elements are greater than @p __val.</span></span><br><span class="line"><span class="comment"> *  @ingroup binary_search_algorithms</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  The comparison function should have the same effects on ordering as</span></span><br><span class="line"><span class="comment"> *  the function used for the initial sort.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _ForwardIterator, <span class="keyword">typename</span> _Tp, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line"><span class="keyword">inline</span> _ForwardIterator</span><br><span class="line">upper_bound(_ForwardIterator __first, _ForwardIterator __last,</span><br><span class="line">            <span class="keyword">const</span> _Tp &amp;__val, _Compare __comp) &#123;</span><br><span class="line">    <span class="comment">// concept requirements</span></span><br><span class="line">    __glibcxx_function_requires(_ForwardIteratorConcept &lt; _ForwardIterator &gt;)</span><br><span class="line">    __glibcxx_function_requires(_BinaryPredicateConcept &lt; _Compare,</span><br><span class="line">                                _Tp, <span class="keyword">typename</span> iterator_traits&lt;_ForwardIterator&gt;::value_type &gt;)</span><br><span class="line">    __glibcxx_requires_partitioned_upper_pred(__first, __last,</span><br><span class="line">                                              __val, __comp);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">std</span>::__upper_bound(__first, __last, __val,</span><br><span class="line">                              __gnu_cxx::__ops::__val_comp_iter(__comp));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªå®ç°ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ <code>lambda</code> è¡¨è¾¾å¼æ¥æ›¿ä»£é»˜è®¤çš„æ¯”è¾ƒå‡½æ•°ï¼Œä¾‹å¦‚ä¸‹é¢çš„æ —å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *upper_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>, [&amp;](<span class="keyword">const</span> <span class="keyword">int</span> &amp;val, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b) &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * å‚æ•° val å°±æ˜¯ 3</span></span><br><span class="line"><span class="comment">         * å‚æ•° b æ¥è‡ª nums ä¸­çš„æ•°</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">return</span> val &lt; b;</span><br><span class="line">    &#125;) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ƒå®ç°çš„åŠŸèƒ½å’Œé»˜è®¤çš„å‡½æ•°æ˜¯ä¸€æ ·çš„ã€‚</p>
<hr>
<h1 id="2-lower-bound-å‡½æ•°"><a href="#2-lower-bound-å‡½æ•°" class="headerlink" title="2. lower_bound å‡½æ•°"></a>2. lower_bound å‡½æ•°</h1><p>å¯¹äº <code>lower_bound(_ForwardIterator __first, _ForwardIterator __last, const _Tp &amp;__val)</code> å‡½æ•°ï¼Œ<code>STL</code> æºç ä¸­æ˜¯è¿™æ ·è¯´çš„ï¼š</p>
<blockquote>
<p>  æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¯ä»¥æ’å…¥ <code>__val</code> çš„ä½ç½®ï¼Œå¹¶ä¸”ä¸æ”¹å˜åŸæœ‰æ’åºï¼ˆFinds the first position in which <code>@a val</code> could be inserted without changing the ordering.ï¼‰ã€‚</p>
</blockquote>
<p>å­—é¢ä¸Šæ„æ€å’Œ <code>upper_bound</code> å‡½æ•°å¾ˆåƒï¼Œéƒ½æ˜¯ä¸º <code>val</code> æ‰¾åˆ°ä¸€ä¸ªå¯æ’å…¥çš„ä½ç½®ï¼Œå¹¶ä¸æ”¹å˜åŸæ¥åºåˆ—çš„æœ‰åºæ€§ã€‚ä½†å®ƒå’Œ <code>upper_bound()</code> å‡½æ•°çš„æœ€å¤§ä¸åŒåœ¨äºæ‰¾åˆ°çš„æ˜¯ <strong>ç¬¬ä¸€ä¸ª</strong> å¯æ’å…¥çš„ä½ç½®ï¼Œè€Œ <code>upper_bound</code> æ‰¾åˆ°çš„æ˜¯ <strong>æœ€åä¸€ä¸ª</strong> å¯æ’å…¥çš„ä½ç½®ã€‚å¯¹äºå®ƒçš„ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         *lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) - nums.<span class="built_in">begin</span>() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºè¾“å‡ºç»“æœï¼Œä¸éš¾çŒœæµ‹å¯¹äº <code>lower_bound()</code> å‡½æ•°ï¼Œæ‰¾åˆ°çš„æ˜¯ <strong>å¤§äºç­‰äº</strong> ç›®æ ‡å…ƒç´ çš„æ•°å€¼å’Œä¸‹æ ‡ã€‚æ¥ä¸‹æ¥ä» <code>STL</code> ä¸­ <code>lower_bound()</code> çš„æºç è¿›è¡Œåˆ†æï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   *  @brief Finds the first position in which @a val could be inserted</span></span><br><span class="line"><span class="comment">   *         without changing the ordering.</span></span><br><span class="line"><span class="comment">   *  @param  __first   An iterator.</span></span><br><span class="line"><span class="comment">   *  @param  __last    Another iterator.</span></span><br><span class="line"><span class="comment">   *  @param  __val     The search term.</span></span><br><span class="line"><span class="comment">   *  @return         An iterator pointing to the first element not less</span></span><br><span class="line"><span class="comment">   *                  thanï¼ˆä¸å°äºï¼ï¼ï¼ä¹Ÿå°±æ˜¯å¤§äºç­‰äºï¼‰ @a val, or end() if every element is less than</span></span><br><span class="line"><span class="comment">   *                  @a val.</span></span><br><span class="line"><span class="comment">   *  @ingroup binary_search_algorithms</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _ForwardIterator, <span class="keyword">typename</span> _Tp&gt;</span><br><span class="line"><span class="keyword">inline</span> _ForwardIterator</span><br><span class="line">lower_bound(_ForwardIterator __first, _ForwardIterator __last,</span><br><span class="line">            <span class="keyword">const</span> _Tp &amp;__val) &#123;</span><br><span class="line">    <span class="comment">// concept requirements</span></span><br><span class="line">    __glibcxx_function_requires(_ForwardIteratorConcept &lt; _ForwardIterator &gt;)</span><br><span class="line">    __glibcxx_function_requires(_LessThanOpConcept &lt;</span><br><span class="line">                                <span class="keyword">typename</span> iterator_traits&lt;_ForwardIterator&gt;::value_type, _Tp &gt;)</span><br><span class="line">    __glibcxx_requires_partitioned_lower(__first, __last, __val);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">std</span>::__lower_bound(__first, __last, __val,</span><br><span class="line">                              __gnu_cxx::__ops::__iter_less_val());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ƒä¸å…¶ä¸­ç”¨åˆ°çš„ <code>__lower_bound()</code> å‡½æ•°ä½œç”¨å’Œä¹‹å‰çš„ <code>__upper_bound</code> å‡½æ•°åŠŸèƒ½ç±»ä¼¼ï¼Œéƒ½æ˜¯ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•å»æ‰¾ç›®æ ‡ä½ç½®ã€‚å…·ä½“å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _ForwardIterator, <span class="keyword">typename</span> _Tp, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line">_ForwardIterator</span><br><span class="line">__lower_bound(_ForwardIterator __first, _ForwardIterator __last,</span><br><span class="line">              <span class="keyword">const</span> _Tp &amp;__val, _Compare __comp) &#123;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_ForwardIterator&gt;::difference_type</span><br><span class="line">            _DistanceType;</span><br><span class="line"></span><br><span class="line">    _DistanceType __len = <span class="built_in">std</span>::distance(__first, __last);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (__len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        _DistanceType __half = __len &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        _ForwardIterator __middle = __first;</span><br><span class="line">        <span class="built_in">std</span>::advance(__middle, __half);</span><br><span class="line">        <span class="keyword">if</span> (__comp(__middle, __val)) &#123; <span class="comment">// ä¹Ÿæ­£æ˜¯è¿™é‡Œçš„ä¸åŒå¯¼è‡´äº†ä¸¤ä¸ªå‡½æ•°åŠŸèƒ½çš„ä¸åŒ~</span></span><br><span class="line">            __first = __middle;</span><br><span class="line">            ++__first;</span><br><span class="line">            __len = __len - __half - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">            __len = __half;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> __first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥åˆ†æå¾—å‡ºï¼Œ<code>lower_bound</code> å‡½æ•°ç¡®å®æ˜¯æ‰¾åˆ°å¤§äºç­‰äº <strong>ç›®æ ‡å…ƒç´ </strong> çš„æ•°å€¼å’Œä¸‹æ ‡ï¼Œä¸å…ˆå‰çš„çŒœæµ‹ç›¸ç¬¦åˆã€‚</p>
<p>å½“ç„¶ï¼å®ƒä¹Ÿæ˜¯å¯ä»¥è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•° <code>__comp</code> çš„ï¼Œä¾‹å­å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         *lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>, [](<span class="keyword">const</span> <span class="keyword">int</span> &amp;val, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b) &#123;</span><br><span class="line">        <span class="keyword">return</span> val &lt; b;</span><br><span class="line">    &#125;) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥é€šè¿‡ä¿®æ”¹æ¯”è¾ƒå‡½æ•°è®© <code>lower_bound()</code> å‡½æ•°åŠŸèƒ½å’Œ <code>upper_bound()</code> å‡½æ•°ä¸€æ ·ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         *upper_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 4</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         upper_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) - nums.<span class="built_in">begin</span>() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>, [](<span class="keyword">const</span> <span class="keyword">int</span> &amp;val, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b) &#123;</span><br><span class="line">        <span class="keyword">return</span> val &lt;= b;</span><br><span class="line">    &#125;) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 4</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>, [](<span class="keyword">const</span> <span class="keyword">int</span> &amp;val, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b) &#123;</span><br><span class="line">        <span class="keyword">return</span> val &lt;= b;</span><br><span class="line">    &#125;) - nums.<span class="built_in">begin</span>() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡åº”è¯¥ä¸ä¼šè¿™ä¹ˆæ•´å§ï¼Œæ²¡ç”¨å‘€ : (</p>
<h1 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h1><p><code>upper_bound()</code> å’Œ <code>lower_bound()</code> å‡½æ•°å®ç°çš„éƒ½æ˜¯åœ¨æœ‰åºåºåˆ—ä¸­æŸ¥æ‰¾ä¸€ä¸ªå¯æ’å…¥çš„ä½ç½®ï¼Œæ’å…¥ååŸåºåˆ—æœ‰åºæ€§ä¸å˜ï¼Œä½†æ˜¯ï¼š</p>
<ul>
<li><p><code>upper_bound()</code> æ‰¾åˆ°çš„æ˜¯å¤§äºç›®æ ‡æ•°çš„ä½ç½®</p>
</li>
<li><p><code>lower_bound()</code> æ‰¾åˆ°çš„æ˜¯å¤§äºç­‰äºç›®æ ‡æ•°çš„ä½ç½®</p>
</li>
</ul>
<p>å—¯ï¼Œæ•´å®Œäº†ï¼~</p>
<h2 id="ç¨‹åºæºç ï¼š"><a href="#ç¨‹åºæºç ï¼š" class="headerlink" title="ç¨‹åºæºç ï¼š"></a>ç¨‹åºæºç ï¼š</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/9/20.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/9/20 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;iostream&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;vector&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;algorithm&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         *upper_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 4</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         upper_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) - nums.<span class="built_in">begin</span>() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *upper_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>, [&amp;](<span class="keyword">const</span> <span class="keyword">int</span> &amp;val, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b) &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * å‚æ•° val å°±æ˜¯ 3</span></span><br><span class="line"><span class="comment">         * å‚æ•° b æ¥è‡ª nums ä¸­çš„æ•°</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">return</span> val &lt; b;</span><br><span class="line">    &#125;) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         *lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">         lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>) - nums.<span class="built_in">begin</span>() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 2</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>, [](<span class="keyword">const</span> <span class="keyword">int</span> &amp;val, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b) &#123;</span><br><span class="line">        <span class="keyword">return</span> val &lt; b;</span><br><span class="line">    &#125;) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>, [](<span class="keyword">const</span> <span class="keyword">int</span> &amp;val, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b) &#123;</span><br><span class="line">        <span class="keyword">return</span> val &lt;= b;</span><br><span class="line">    &#125;) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 4</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; lower_bound(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">3</span>, [](<span class="keyword">const</span> <span class="keyword">int</span> &amp;val, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b) &#123;</span><br><span class="line">        <span class="keyword">return</span> val &lt;= b;</span><br><span class="line">    &#125;) - nums.<span class="built_in">begin</span>() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>STL</tag>
        <tag>æºç åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title>C++çš„å¯å˜å‚æ•°æ¨¡æ¿</title>
    <url>/2020/09/08/CPP%E7%9A%84%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<p>C++å¯å˜å‚æ•°æ¨¡æ¿ï¼Œæ˜¯æŒ‡èƒ½å¤Ÿä½¿ç”¨ä»»æ„æ•°é‡å‚æ•°çš„å‡½æ•°æˆ–ç±»æ¨¡æ¿ï¼Œèƒ½å¤Ÿå¾ˆæœ‰æ•ˆçš„æå‡çµæ´»æ€§ã€‚</p>
<a id="more"></a>
<h1 id="1-è¯­æ³•"><a href="#1-è¯­æ³•" class="headerlink" title="1. è¯­æ³•"></a>1. è¯­æ³•</h1><h2 id="1-1-å¯å˜ç±»æ¨¡æ¿"><a href="#1-1-å¯å˜ç±»æ¨¡æ¿" class="headerlink" title="1.1 å¯å˜ç±»æ¨¡æ¿"></a>1.1 å¯å˜ç±»æ¨¡æ¿</h2><p>å¯¹äºå¯å˜ç±»æ¨¡æ¿ï¼ŒåŸºæœ¬ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Arguments&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">classname</span>;</span></span><br></pre></td></tr></table></figure>
<p>ç”±ä¸Šå¼å¯çŸ¥ï¼Œå…¶ç‰¹æ®Šæ€§åœ¨äº <code>...</code> çš„ä½¿ç”¨ï¼Œå¯å˜å‚æ•°æ¨¡æ¿ï¼Œé€šè¿‡ä½¿ç”¨ <code>...</code> æ¥å¸®åŠ©å®šä¹‰ï¼Œå…¶ä¸­ï¼Œ<code>...</code> å·¦ä¾§ä¸ºå‚æ•°åŒ…ï¼ˆ<code>parameter pack</code> ï¼‰ï¼Œå³ä¾§å°†å‚æ•°åŒ…å±•å¼€æˆå¤šä¸ªå•ç‹¬çš„å‚æ•°ã€‚</p>
<p>å¯¹äºä¸¤è¾¹çš„ç©ºç™½å¯ä»¥ä»»æ„åˆ†å¸ƒï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> ...Arguments&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">classname</span>;</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> ... Arguments&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">classname</span>;</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ç±» <code>classname</code> å¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°æ¥è¿›è¡Œå®ä¾‹åŒ–ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="function">classname&lt;&gt; <span class="title">c1</span><span class="params">()</span></span>;</span><br><span class="line">classname&lt;float, int&gt; c2();</span><br><span class="line">classname&lt;float, std::string, std::vector&lt;int&gt;&gt; c3();</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œè¿˜å¯ä»¥æŒ‡å®šå¿…é¡»å¡«å……å›ºå®šæ•°é‡çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> first, <span class="keyword">typename</span>... Arguments&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">classname2</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// classname2&lt;&gt; c4(); è¿™æ˜¯é”™è¯¯çš„ç”¨æ³•ï¼å‚æ•°å¿…é¡»å¤§äºç­‰äº 1</span></span><br><span class="line"><span class="function">classname2&lt;<span class="keyword">float</span>&gt; <span class="title">c4</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<h2 id="1-2-å¯å˜å‚æ•°çš„å‡½æ•°æ¨¡æ¿"><a href="#1-2-å¯å˜å‚æ•°çš„å‡½æ•°æ¨¡æ¿" class="headerlink" title="1.2 å¯å˜å‚æ•°çš„å‡½æ•°æ¨¡æ¿"></a>1.2 å¯å˜å‚æ•°çš„å‡½æ•°æ¨¡æ¿</h2><p>å¯å˜å‚æ•°çš„å‡½æ•°æ¨¡æ¿åŸºæœ¬ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Params&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">functionname</span><span class="params">(Params... params)</span></span>;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å¼•ç”¨ç±»å‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Params&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">functionname</span><span class="params">(Params *... params)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Params&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">functionname</span><span class="params">(Params &amp;... params)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Params&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">functionname</span><span class="params">(Params &amp;&amp;... params)</span></span>;</span><br></pre></td></tr></table></figure>
<p>è¿˜å¯ä»¥ä½¿ç”¨ä¸å˜ç±»å‹ <code>const</code> æ¥ä¿®é¥°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Params&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">functionname</span><span class="params">(<span class="keyword">const</span> Params &amp;... params)</span></span>;</span><br></pre></td></tr></table></figure>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å’Œå¯å˜å‚æ•°çš„ç±»æ¨¡æ¿ç”¨æ³•ä¸€æ ·ï¼ŒæŒ‡å®šå›ºå®šæ•°é‡çš„å‚æ•°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> First, <span class="keyword">typename</span>... Params&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">functionname</span><span class="params">(<span class="keyword">const</span> First &amp;first, <span class="keyword">const</span> Params... params)</span></span>;</span><br></pre></td></tr></table></figure>
<h1 id="2-æµ‹é‡å¯å˜å‚æ•°æ•°é‡"><a href="#2-æµ‹é‡å¯å˜å‚æ•°æ•°é‡" class="headerlink" title="2. æµ‹é‡å¯å˜å‚æ•°æ•°é‡"></a>2. æµ‹é‡å¯å˜å‚æ•°æ•°é‡</h1><p>ä½¿ç”¨ <code>sizeof</code> æ¥å®Œæˆï¼Œå½“ç„¶ï¼Œè¯¥æ–¹æ³•å’Œä¹‹å‰æµ‹é‡å­—èŠ‚å¤§å°çš„ <code>sizeof</code> ä¸æ˜¯åŒä¸€ä¸ªç”¨æ³•ï¼Œè¿™é‡Œçš„ <code>sizeof</code> æ˜¯ç”¨æ¥æµ‹é‡æä¾›äº†å¤šå°‘ä¸ªå‚æ•°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Params&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tfunc</span><span class="params">(Params... params)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span>...(params) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    tfunc();        <span class="comment">// &gt;: 0</span></span><br><span class="line">    tfunc(<span class="number">1</span>);       <span class="comment">// &gt;: 1</span></span><br><span class="line">    tfunc(<span class="number">1</span>, <span class="number">2</span>);    <span class="comment">// &gt;: 2</span></span><br><span class="line">    tfunc(<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;Hello~YouLi~&quot;</span>);    <span class="comment">// &gt;: 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-ç¤ºä¾‹ç¨‹åº"><a href="#3-ç¤ºä¾‹ç¨‹åº" class="headerlink" title="3. ç¤ºä¾‹ç¨‹åº"></a>3. ç¤ºä¾‹ç¨‹åº</h1><p>ä¸‹é¢ç¨‹åºæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <strong>å¯å˜å‚æ•°æ¨¡æ¿</strong> æ¥å¯¹å‡½æ•°è¿›è¡Œé‡å†™å®šä¹‰å¹¶ä½¿ç”¨ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/9/8.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/9/8 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> T &amp;t)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; t &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> First, <span class="keyword">typename</span>... Rest&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> First &amp;first, <span class="keyword">const</span> Rest &amp;...rest)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; first &lt;&lt; <span class="string">&quot;, &quot;</span>;</span><br><span class="line">    <span class="built_in">print</span>(rest...); <span class="comment">// å°†ä¼šæ ¹æ®è¯­æ³•æ¥é€’å½’è°ƒç”¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">print</span>();    <span class="comment">// &gt;:</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>); <span class="comment">// &gt;: 1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="number">10</span>, <span class="number">20</span>); <span class="comment">// &gt;: 10, 20</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="string">&quot;Alice&quot;</span>, <span class="number">3.14</span>, <span class="string">&quot;Bob&quot;</span>); <span class="comment">// &gt;: 10, 20, Alice, 3.14, Bob</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4. æ€»ç»“"></a>4. æ€»ç»“</h1><p>å¯¹äºå¯å˜å‚æ•°æ¨¡æ¿è€Œè¨€ï¼Œéƒ½æ˜¯ä½¿ç”¨æŸç§å½¢å¼çš„é€’å½’ï¼Œä½†æ˜¯å®ƒä¸ä¼ ç»Ÿé€’å½’æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¼ ç»Ÿçš„é€’å½’ä½¿ç”¨çš„æ˜¯ä¸€æ ·çš„å‡½æ•°å£°æ˜ï¼Œä½†æ˜¯å¯å˜å‚æ•°æ¨¡æ¿ä½¿ç”¨çš„æ˜¯ä¸åŒå‚æ•°æ•°é‡çš„å‡½æ•°<strong>ï¼ˆæ¯æ¬¡éƒ½ä¼šé€’å‡ï¼‰</strong>å£°æ˜ï¼Œä»è€Œæ¯æ¬¡éƒ½åŒºåˆ†å‡ºå½“å‰æ¬¡ä½¿ç”¨çš„å‡½æ•°ç­¾åã€‚å’Œä¸€èˆ¬çš„é€’å½’ä¸€æ ·ï¼Œéƒ½éœ€è¦ä¸€ä¸ªç»ˆæ­¢é€’å½’çš„ <strong>base-line</strong> æ¡ä»¶ï¼Œä½†æ˜¯è¿™é‡Œçš„å«ä¹‰ä¸åŒã€‚</p>
<blockquote>
<p>å‚è€ƒè‡ª Ellipsis and Variadic Templatesï¼š <a href="https://docs.microsoft.com/zh-cn/cpp/cpp/ellipses-and-variadic-templates?view=vs-2019">https://docs.microsoft.com/zh-cn/cpp/cpp/ellipses-and-variadic-templates?view=vs-2019</a></p>
</blockquote>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title>Cå’ŒC++ä½¿ç”¨å¯¹æ–¹ç¼–è¯‘çš„åŠ¨æ€é“¾æ¥åº“</title>
    <url>/2020/10/04/C%E5%92%8CCPP%E4%BD%BF%E7%94%A8%E5%AF%B9%E6%96%B9%E7%BC%96%E8%AF%91%E7%9A%84%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93/</url>
    <content><![CDATA[<p>Cä½¿ç”¨C++ç¼–è¯‘å‡ºæ¥çš„åŠ¨æ€é“¾æ¥åº“ï¼ŒC++ä½¿ç”¨Cç¼–è¯‘å‡ºæ¥çš„åŠ¨æ€é“¾æ¥åº“ï¼ŒCä½¿ç”¨Cç¼–è¯‘å‡ºæ¥çš„åŠ¨æ€é“¾æ¥åº“ï¼ŒC++ä½¿ç”¨C++ç¼–è¯‘å‡ºæ¥çš„åŠ¨æ€é“¾æ¥åº“â€¦â€¦</p>
<a id="more"></a>
<p>æœ€è¿‘å’Œå¸ˆå…„ä»¬æ­ä¼´åšåŠ å¯†ç³»ç»Ÿï¼Œè‡ªå·±è´Ÿè´£åŠ å¯†ç®—æ³•éƒ¨åˆ†ï¼Œå¸ˆå…„ä»¬è´Ÿè´£æ›´åŠ åº•å±‚çš„ç¡¬ä»¶æ¥å£éƒ¨åˆ†ã€‚ä½†æ˜¯å› ä¸ºä¸ªäººåŸå› æˆ‘ä¸å¤§å–œæ¬¢ <code>C</code> è¯­è¨€ï¼Œå½“ç„¶æ˜¯ç›¸æ¯”è¾ƒäº <code>C++</code> è€Œè¨€ï¼Œæ‰€ä»¥è‡ªå·±å°±ç”¨äº† <code>C++</code> å»å®ç°åŠ å¯†ç®—æ³•ã€‚è¿™ä¹ˆä¸€æ¥ï¼Œå°±æ¶‰åŠåˆ°å’Œå¸ˆå…„å†™çš„ç¨‹åºä¹‹é—´æ¥å£é—®é¢˜ï¼Œäºæ˜¯ä¹å°±ç ”ç©¶äº†ä¸‹æ€æ ·å¯¼å‡ºåŠ¨æ€é“¾æ¥åº“ä»¥ä¾›ä»–äººä½¿ç”¨ã€‚</p>
<p>å¯¹äº <code>C</code> å’Œ <code>C++</code> ä¹‹é—´çš„å…³ç³»ï¼Œå¯ä¸æ˜¯ <code>Java</code> å’Œ <code>JavaScript</code> ä¹‹é—´çš„å…³ç³»ï¼Œæ‰€ä»¥æ“ä½œèµ·æ¥ç›¸å¯¹è€Œè¨€è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›å‘éœ€è¦æ³¨æ„ï¼Œè¦ä¸ç„¶ä¹Ÿä¸è‡³äºåœ¨<strong>2020</strong>å¹´çš„å›½åº†èŠ‚æŠ˜è…¾è¿™æŠ˜è…¾äº†ä¸¤å¤©ğŸ˜Ÿï¼Œéš¾åº¦ç³»æ•°è¡¨å¦‚ä¸‹è¡¨ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>åº“\å¯æ‰§è¡Œç¨‹åº</th>
<th>C++</th>
<th>C</th>
</tr>
</thead>
<tbody>
<tr>
<td>C++</td>
<td>ç®€å•</td>
<td>ä¸ç®€å•</td>
</tr>
<tr>
<td>C</td>
<td>ç›¸å¯¹ç®€å•</td>
<td>ç®€å•</td>
</tr>
</tbody>
</table>
</div>
<p>å› ä¸º <code>C/C++</code> å¯¹ç³»ç»Ÿç¯å¢ƒæ¯”è¾ƒæ•æ„Ÿï¼Œè¿™é‡Œåˆ—å‡ºå†™è¿™ç¯‡æ–‡ç« æ—¶çš„ç³»ç»Ÿæƒ…å†µï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>IDE</td>
<td>CLion 2020.2.3</td>
</tr>
<tr>
<td>System</td>
<td>Windows 64</td>
</tr>
<tr>
<td>Environment</td>
<td>MinGW w64 6.0</td>
</tr>
<tr>
<td>Tool Chains</td>
<td>CMake 3.17.3</td>
</tr>
</tbody>
</table>
</div>
<p>å™¢ï¼Œå¯¹äº†ï¼Œè¿˜æœ‰é‡è¦çš„ <code>C</code> å’Œ <code>C++</code> ç‰ˆæœ¬ï¼š</p>
<ul>
<li><code>C</code> ï¼šC99</li>
<li><code>C++</code> ï¼šC++17</li>
</ul>
<h1 id="1-Cå¯¼å‡ºåŠ¨æ€é“¾æ¥åº“ç»™C-ç”¨"><a href="#1-Cå¯¼å‡ºåŠ¨æ€é“¾æ¥åº“ç»™C-ç”¨" class="headerlink" title="1. Cå¯¼å‡ºåŠ¨æ€é“¾æ¥åº“ç»™C++ç”¨"></a>1. Cå¯¼å‡ºåŠ¨æ€é“¾æ¥åº“ç»™C++ç”¨</h1><blockquote>
<p>   ä»€ä¹ˆï¼Ÿä¸Šæ¥ä¸ºä»€ä¹ˆè¦è¯´è¿™ä¸ªï¼Ÿé‚£è‚¯å®šæ˜¯å› ä¸ºç®€å•å•Šï¼é‚£ä¸ºä»€ä¹ˆä¸è¯´å¦å¤–ä¸¤ä¸ªæ›´ç®€å•çš„ï¼Ÿé‚£è‚¯å®šæ˜¯å› ä¸ºæ²¡åšå•ŠğŸ˜‰</p>
</blockquote>
<p>å…ˆæ¥è€ƒè™‘è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼šå°å¼ å°æ˜æ˜¯æœ‹å‹ï¼Œå°å¼ å–œæ¬¢ <code>C++</code> ï¼Œå°æ˜ä¸å¾—ä¸ç”¨ <code>C</code> ï¼Œè€Œå°æ˜éœ€è¦ç»™å°å¼ æä¾›ä¸€äº›åº“ï¼Œå°å¼ ä½¿ç”¨å°æ˜æä¾›çš„åº“è¿›è¡Œä¸Šå±‚å¼€å‘ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯ï¼š</p>
<ul>
<li>å°æ˜ä½¿ç”¨ <code>C</code> è¯­è¨€å†™äº†ä¸ªé©±åŠ¨ï¼Œå¯¼å‡º <code>DLL</code> åŠ¨æ€é“¾æ¥åº“</li>
<li>å°å¼ æ‹¿åˆ°å°æ˜å¯¼å‡ºçš„ <code>DLL</code> åŠ¨æ€é“¾æ¥åº“ï¼Œå¼•å…¥åˆ°é¡¹ç›®ä¸­ï¼Œä½¿ç”¨åœ¨ <code>DLL</code> ä¸­ç¼–è¯‘å¥½çš„å‡½æ•°ï¼ˆæˆ–æ•°æ®ç»“æ„ï¼‰</li>
</ul>
<p>é‚£ä¹ˆä»–ä¿©å¯ä»¥è¿™æ ·åšï¼š</p>
<h2 id="1-1-å°æ˜çš„å·¥ä½œç›®å½•"><a href="#1-1-å°æ˜çš„å·¥ä½œç›®å½•" class="headerlink" title="1.1 å°æ˜çš„å·¥ä½œç›®å½•"></a>1.1 å°æ˜çš„å·¥ä½œç›®å½•</h2><p>å°æ˜çš„å·¥ä½œç›®å½•é•¿è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">D:.</span><br><span class="line">â”‚  CMakeLists.txt</span><br><span class="line">â”‚  library.c</span><br><span class="line">â”‚  library.h</span><br><span class="line">â””â”€cmake-build-debug</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­çš„ <code>cmake-build-debug</code> æ˜¯ç”¨æ¥å­˜æ”¾ <code>CMake</code> æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ–‡ä»¶ï¼Œå¯ä»¥æš‚æ—¶å¿½ç•¥ä¸è®¡ï¼Œä¸»è¦å…³æ³¨è¿™å‡ ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼š</p>
<ol>
<li><code>CMakeLists.txt</code> è§„å®šäº†æ€æ ·å»ç¼–è¯‘è¿™ä¸ªåº“ï¼Œæ€æ ·å¯¼å‡ºã€‚è¿™é‡Œä¸»è¦è¯´æ˜äº†é¡¹ç›®åç§°ï¼Œä½¿ç”¨çš„è¯­è¨€ï¼Œ<code>C</code> è¯­è¨€çš„æ ‡å‡†ç”¨å“ªä¸€ç‰ˆï¼Œä»¥åŠåº“çš„ä¾èµ–æ–‡ä»¶å’Œå¯¼å‡ºæ–¹å¼ï¼ˆ<code>SHARED</code> )</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.17</span>)</span><br><span class="line"><span class="keyword">project</span>(C_Lib C)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_C_STANDARD <span class="number">99</span>)</span><br><span class="line"><span class="keyword">add_library</span>(C_Lib SHARED library.c library.h)</span><br></pre></td></tr></table></figure>
<ol>
<li><code>library.h</code> å‡½æ•°çš„å£°æ˜ï¼Œç®€ç®€å•å•ï¼Œæ™®æ™®é€šé€š</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> C_LIB_LIBRARY_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> C_LIB_LIBRARY_H</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//C_LIB_LIBRARY_H</span></span></span><br></pre></td></tr></table></figure>
<ol>
<li><code>library.c</code> å‡½æ•°çš„å®ç°ï¼Œæ›´åŠ æœ´ç´ </li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;library.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello, World!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®Œæˆè¿™äº›ä¹‹åï¼Œç‚¹å‡»ç¼–è¯‘é¡¹ç›®æˆ– <code>Ctrl+F9</code> å¿«æ·é”®ç¼–è¯‘æˆ–è€…è¾“å…¥å‘½ä»¤ç¼–è¯‘ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cmake.exe --build .\cmake-build-debug --target C_Lib -- -j 6</span><br></pre></td></tr></table></figure>
<p>å®Œæˆåå¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å…¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[100%] Built target C_Lib</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆå¯ä»¥åœ¨ <code>cmake-build-debug</code> ç›®å½•ä¸‹æ‰¾åˆ° <code>libC_Lib.dll</code> æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ç”¨æ¥ç»™å°å¼ ç”¨çš„ã€‚</p>
<p>å¥½äº†ï¼Œå°æ˜å¯ä»¥å»åƒè‹¹æœäº†ğŸã€‚ </p>
<h2 id="1-2-å°å¼ çš„å·¥ä½œç›®å½•"><a href="#1-2-å°å¼ çš„å·¥ä½œç›®å½•" class="headerlink" title="1.2 å°å¼ çš„å·¥ä½œç›®å½•"></a>1.2 å°å¼ çš„å·¥ä½œç›®å½•</h2><p>å°å¼ çš„å·¥ä½œç›®å½•é•¿è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">D:\SOURCE\C++\TEMP\CXX_EXE</span><br><span class="line">â”‚  CMakeLists.txt</span><br><span class="line">â”‚  libC_Lib.dll</span><br><span class="line">â”‚  main.cpp</span><br><span class="line">â””â”€cmake-build-debug	</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä¸»è¦å¤šäº†ä¸€ä¸ª <code>libC_Lib.dll</code> æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯æ¥è‡ªå°æ˜çš„ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•ä½¿ç”¨é‡Œé¢å®šä¹‰çš„ <code>hello()</code> æ–¹æ³•ï¼Ÿ</p>
<ul>
<li>é¦–å…ˆï¼Œéœ€è¦å¯¼å…¥åˆ°å½“å‰é¡¹ç›®ä¸­ï¼Œè¿™é‡Œä½¿ç”¨ <code>CMakeLists.txt</code> æ¥å®Œæˆï¼š</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.17</span>)</span><br><span class="line"><span class="keyword">project</span>(CXX_Exe)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)</span><br><span class="line"><span class="keyword">link_directories</span>(.) <span class="comment"># ä»å½“å‰ç›®å½•ä¸­å¯»æ‰¾é“¾æ¥æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">add_executable</span>(CXX_Exe main.cpp library.h)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(CXX_Exe libC_Lib.dll) <span class="comment"># å°† libC_Lib.dll é“¾æ¥åˆ° CXX_Exe ç›®æ ‡æ–‡ä»¶ä¸­</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ä½¿ç”¨å¤´æ–‡ä»¶ <code>library.h</code> ä¸­å¼•å…¥å‡½æ•°å£°æ˜</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> C_LIB_LIBRARY_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> C_LIB_LIBRARY_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span> &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//C_LIB_LIBRARY_H</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨ <code>C++</code> æºæ–‡ä»¶ <code>main.cpp</code> ä¸­ä½¿ç”¨ <code>hello()</code> å‡½æ•°</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;library.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    hello(); <span class="comment">// &gt;: Hello, World!</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¸è¿‡ï¼é‡ç‚¹ä¹‹ä¸€æ¥äº†ï¼</strong>ä¸ºä»€ä¹ˆåœ¨å¤´æ–‡ä»¶ <code>library.h</code> ä¸­å†™ä¸€ä¸ª <code>extern &quot;C&quot;</code> å‘¢ï¼Ÿæ˜¯å› ä¸º <code>C</code> çš„ç¼–è¯‘é“¾æ¥è¿‡ç¨‹ï¼Œ<strong>ä¸­é—´ä»£ç ä¸ä¼šä¿®æ”¹å‡½æ•°åç§°</strong>ï¼Œè€Œ <code>C++</code> åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­<strong>å°†ä¼šä¿®æ”¹</strong>ï¼å› æ­¤ï¼Œä¸ºäº†è®© <code>C++</code> è¯†åˆ«å‡ºæ¥ <code>C</code> å‡½æ•°ï¼Œéœ€è¦ä½¿ç”¨ <code>extern &quot;C&quot;</code> æ¥æŒ‡æ˜ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ <code>C</code> è¿‡æ¥çš„ã€‚</p>
<p>å¦åˆ™ä¼šå¼‚å¸¸é€€å‡ºï¼š<code>undefined reference to &#39;hello()&#39; collect2.exe: error: ld returned 1 exit status</code>ã€‚</p>
<p><strong>é‡ç‚¹ä¹‹äºŒï¼Œ</strong> åœ¨ <code>CLion</code> ä¸­ï¼Œä»…ä»…åœ¨ <code>CMakeLists.txt</code> ä¸­å£°æ˜æ€æ ·é“¾æ¥ï¼Œæ€æ ·æ‰¾åŠ¨æ€é“¾æ¥åº“æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦åœ¨ <code>Run Configurations</code> è®¾ç½®ä¸­å»æ·»åŠ ç¯å¢ƒå˜é‡ <code>PATH=&#123;DLLæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•&#125;</code> æ‰å¯ä»¥ï¼Œè¦ä¸ç„¶å°±ç›´æ¥æ”¾åˆ° <code>CLion</code> å·²çŸ¥çš„ç¯å¢ƒç›®å½•ä¸‹ã€‚</p>
<p>å¦åˆ™ä¼šå¼‚å¸¸é€€å‡ºï¼š <code>Process finished with exit code -1073741515 (0xC0000135)</code> ã€‚</p>
<p>è‡³æ­¤ï¼Œå°å¼ å°æ˜åˆä½œæ„‰å¿«ï¼Œä»»åŠ¡å®ŒæˆğŸ™‚ã€‚</p>
<h1 id="2-C-å¯¼å‡ºåŠ¨æ€é“¾æ¥åº“ç»™Cç”¨"><a href="#2-C-å¯¼å‡ºåŠ¨æ€é“¾æ¥åº“ç»™Cç”¨" class="headerlink" title="2. C++å¯¼å‡ºåŠ¨æ€é“¾æ¥åº“ç»™Cç”¨"></a>2. C++å¯¼å‡ºåŠ¨æ€é“¾æ¥åº“ç»™Cç”¨</h1><p>è¿˜æ˜¯å°å¼ å’Œå°æ˜ï¼Œè¿˜æ˜¯ <code>C</code> å’Œ <code>C++</code> ï¼Œåªä¸è¿‡è¿™æ¬¡æ¢æˆäº†å°å¼ æä¾›åŠ¨æ€é“¾æ¥åº“ç»™å°æ˜ä½¿ç”¨ã€‚</p>
<h2 id="2-1-å°å¼ çš„å·¥ä½œç›®å½•"><a href="#2-1-å°å¼ çš„å·¥ä½œç›®å½•" class="headerlink" title="2.1 å°å¼ çš„å·¥ä½œç›®å½•"></a>2.1 å°å¼ çš„å·¥ä½œç›®å½•</h2><p>å°å¼ éœ€è¦æä¾›åŠ¨æ€é“¾æ¥åº“ï¼Œä»–çš„å·¥ä½œç›®å½•é•¿è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">D:.</span><br><span class="line">â”‚  CMakeLists.txt</span><br><span class="line">â”‚  library.cpp</span><br><span class="line">â”‚  library.h</span><br><span class="line">â””â”€cmake-build-debug</span><br></pre></td></tr></table></figure>
<p>è¿˜æ˜¯è·Ÿä¹‹å‰ä¸€æ ·ï¼Œ <code>cmake-build-debug</code> é‡Œé¢æ‰¾åŠ¨æ€é“¾æ¥æ–‡ä»¶ï¼Œè€Œ <code>CMakeLists.txt</code> é‡Œé¢è§„å®šäº†æ€æ ·å»ç¼–è¯‘è¿™ä¸ªç¨‹åºã€‚</p>
<p>æŒ¨ç€ç‰Œçš„æ¥åº·åº·æ¯ä¸ªæ–‡ä»¶å†™äº†å•¥ï¼š</p>
<ul>
<li><code>CMakeLists.txt</code> </li>
</ul>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.17</span>)</span><br><span class="line"><span class="keyword">project</span>(CXX_Lib)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>) <span class="comment"># è®¾ç½® C++ æ ‡å‡†ä¸º 17</span></span><br><span class="line"><span class="keyword">add_library</span>(CXX_Lib SHARED library.cpp library.h) <span class="comment"># è§„å®šäº†ä¾èµ–å“ªäº›æ–‡ä»¶å»äº§ç”ŸåŠ¨æ€é“¾æ¥æ–‡ä»¶ï¼Œä»¥åŠåŠ¨æ€é“¾æ¥æ–‡ä»¶ç±»å‹</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>library.h</code></li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CXX_LIB_LIBRARY_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CXX_LIB_LIBRARY_H</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span></span><br><span class="line"><span class="comment">// å£°æ˜ä¸‹é¢è¿™ä¸ªå‡½æ•°ï¼Œæ˜¯è¦æŒ‰ç…§ C è¯­è¨€çš„æ ‡å‡†å»å¯¼å‡ºçš„ï¼Œä¸è¦æ”¹åå•¦~</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//CXX_LIB_LIBRARY_H</span></span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ä¸åŒåœ¨äºï¼Œç›´æ¥åœ¨åŠ¨æ€é“¾æ¥åº“çš„å¤´æ–‡ä»¶ä¸­å£°æ˜äº† <code>extern &quot;C&quot;</code> è€Œä¸æ˜¯åœ¨ç”¨åˆ°åŠ¨æ€é“¾æ¥æ–‡ä»¶çš„åœ°æ–¹ã€‚</p>
<ul>
<li><code>library.cpp</code> </li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;library.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Hello, World!&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»å†å’Œå°æ˜ä¸€æ ·çš„ç¼–è¯‘è¿‡ç¨‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cmake.exe --build .\cmake-build-debug --target CXX_Lib -- -j 6</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨ <code>cmake-build-debug</code> ç›®å½•ä¸‹æ‰¾åˆ° <code>libCXX_Lib.dll</code> æ–‡ä»¶ï¼Œç„¶åä¸¢ç»™å°æ˜ï¼Œç„¶åå°å¼ å»å–ç‰›å¥¶ğŸ¥›äº†ã€‚</p>
<h2 id="2-2-å°æ˜çš„å·¥ä½œç›®å½•"><a href="#2-2-å°æ˜çš„å·¥ä½œç›®å½•" class="headerlink" title="2.2 å°æ˜çš„å·¥ä½œç›®å½•"></a>2.2 å°æ˜çš„å·¥ä½œç›®å½•</h2><p>å°æ˜æ‹¿åˆ°å°å¼ çš„åŠ¨æ€é“¾æ¥æ–‡ä»¶åï¼Œç›´æ¥æ”¾åˆ°å·¥ä½œç›®å½•ä¸‹ï¼Œç„¶åä»–çš„å·¥ä½œç›®å½•å°±é•¿è¿™æ ·äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">D:.</span><br><span class="line">|   CMakeLists.txt</span><br><span class="line">|   libCXX_Lib.dll</span><br><span class="line">|   library.h</span><br><span class="line">|   main.c</span><br><span class="line">\---cmake-build-debug</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­çš„ <code>libCXX_Lib.dll</code> å°±æ˜¯å°å¼ é‚£å–è¿‡æ¥çš„ã€‚</p>
<ul>
<li>ä¸€æ ·çš„æµç¨‹ï¼Œé¦–å…ˆä½¿ç”¨ <code>CMakeLists.txt</code> å¯¼å…¥åˆ°é¡¹ç›®ä¸­</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.17</span>)</span><br><span class="line"><span class="keyword">project</span>(C_Exe C)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_C_STANDARD <span class="number">99</span>)</span><br><span class="line"><span class="keyword">link_directories</span>(.) <span class="comment"># ä»å“ªé‡Œæ‰¾é“¾æ¥æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">add_executable</span>(C_Exe main.c library.h)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(C_Exe libCXX_Lib.dll) <span class="comment"># ä½¿ç”¨è¿™ä¸ªåŠ¨æ€é“¾æ¥åº“</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç„¶åå£°æ˜å¤´æ–‡ä»¶ <code>library.h</code> </li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CXX_LIB_LIBRARY_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CXX_LIB_LIBRARY_H</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//CXX_LIB_LIBRARY_H</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>æœ€åä½¿ç”¨ <code>main.c</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;library.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    hello(); <span class="comment">// &gt;: Hello, World!</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶å°æ˜è¿™é‡Œæ²¡æœ‰äº† <code>extern &quot;C&quot;</code> çš„æ³¨æ„äº‹é¡¹ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦åœ¨ <code>CLion</code> çš„ <code>Run Configurations</code> é‡Œé¢é…ç½® <code>PATH=&#123;DLLæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•&#125;</code> æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™è¿˜æ˜¯æŠ¥ <code>Process finished with exit code -1073741515 (0xC0000135)</code>ã€‚</p>
<p>å¥½äº†ï¼Œå°æ˜ç»ˆäºå¯ä»¥å»ä¼‘æ¯äº†ï¼Œæˆ‘ä¹Ÿå»ä¼‘æ¯ä¸€ä¸‹ğŸ—ğŸ–ğŸ¥©~~~</p>
<hr>
<p>å†™å®Œåçªç„¶æƒ³èµ·æ¥ï¼Œæˆ‘å’Œå¸ˆå…„ä¸ºå•¥ä¸ç»Ÿä¸€ä¸€ä¸‹è¯­è¨€å‘¢ï¼ŸğŸ¤”çœæ—¶çœåŠ›è¿˜çœå¾—è¿™ä¸¤å¤©æŠ˜è…¾æ¥æŠ˜è…¾å»ã€‚</p>
<p>ä¸è¿‡æƒ³æƒ³ï¼Œæœ‰äº†è¿™ä¸ªç»éªŒï¼Œä»¥åå¯ä»¥ä¸“é—¨ç»™ <code>Java</code> ã€<code>Python</code> ç­‰ç¨‹åºå†™åŠ¨æ€é“¾æ¥åº“ï¼Œä¹Ÿæœªå°ä¸æ˜¯ä»¶å¥½äº‹ã€‚</p>
<p>çœŸæ˜¯è®©äººæç„¶å¤§æ˜ç™½ï¼ğŸ˜®</p>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>CMake</tag>
        <tag>DLL</tag>
      </tags>
  </entry>
  <entry>
    <title>C++çš„å¤šçº¿ç¨‹ï¼ˆâ…¡ï¼‰</title>
    <url>/2020/09/28/CPP%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B2/</url>
    <content><![CDATA[<p><a href="https://mp.weixin.qq.com/s/vdx6USLcafB9yriwNpNwBQ">ä¸Šæ¬¡</a>äº†è§£äº†C++å¦‚ä½•åˆ›å»ºã€è¿è¡Œä»¥åŠå¦‚ä½•å¯¹çº¿ç¨‹è¿›è¡Œ <code>join</code> å’Œ <code>detach</code> æ“ä½œã€‚è¿™æ¬¡å°±æ¥äº†è§£çº¿ç¨‹çš„<strong>å‚æ•°ä¼ é€’</strong>ä»¥åŠ<strong>æƒé™è½¬ç§»</strong>æ“ä½œã€‚</p>
<a id="more"></a>
<h1 id="1-å‚æ•°ä¼ é€’"><a href="#1-å‚æ•°ä¼ é€’" class="headerlink" title="1. å‚æ•°ä¼ é€’"></a>1. å‚æ•°ä¼ é€’</h1><p>å¼€é—¨è§å±±åœ°è¯´ï¼Œåœ¨ <code>&lt;thread&gt;</code> ä¸­ï¼Œå¯¹çº¿ç¨‹ä¸­æ‰§è¡Œçš„å‡½æ•°è¿›è¡Œå‚æ•°ä¼ é€’æ˜¯å¾ˆç®€å•ä½†éœ€è¦æ³¨æ„ç»†èŠ‚çš„ã€‚ç®€å•ä¹‹å¤„åœ¨äºæ²¡æœ‰å¤šä½™çš„è¯­æ³•ï¼Œç»†èŠ‚åœ¨äºä¼ é€’å¼•ç”¨å‚æ•°ã€‚ä¸€ä¸ªç®€å•ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> name)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Hello~ &quot;</span> &lt;&lt; name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t1</span><span class="params">(hello, <span class="string">&quot;Cherry&quot;</span>)</span></span>; <span class="comment">// &gt;: Hello~ Cherry</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹ <code>t1</code> ï¼Œ<code>t1</code> æ‰§è¡Œçš„å‡½æ•°æ˜¯ <code>hello</code>ï¼Œå®ƒéœ€è¦æ¥æ”¶ä¸€ä¸ª <code>string</code> ç±»å‹çš„å‚æ•°è¿›æ¥ï¼Œç„¶åæ‰“å£°æ‹›å‘¼ <code>&gt;: Hello~XXX</code> ã€‚å¾ˆæ˜æ˜¾çš„ï¼Œå½“éœ€è¦ä¼ é€’å‚æ•°æ—¶ï¼Œç›´æ¥åœ¨ <code>thread</code> çš„æ„é€ å‡½æ•°ä¸­ä¼ é€’å°±å¯ä»¥äº†ï¼Œåœ¨åº•å±‚æºç ä¸­æ˜¯è¿™æ ·å®ç°çš„ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">thread</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// é¦–å…ˆå£°æ˜å¯å˜é•¿åº¦æ¨¡æ¿ï¼Œæœ‰ä¸€ä¸ªå¿…é¡»æä¾›çš„å‚æ•°æ˜¯ _Callable ï¼Œå…¶ä½™ä¸ºå¯é€‰å‚æ•°</span></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Callable, <span class="keyword">typename</span>... _Args&gt;</span><br><span class="line">    <span class="keyword">explicit</span></span><br><span class="line">    thread(_Callable &amp;&amp;__f, _Args &amp;&amp;... __args) &#123;</span><br><span class="line">        <span class="comment">// æŸ¥çœ‹æ˜¯å¦æ¿€æ´» gthr ä»£ç†</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> GTHR_ACTIVE_PROXY</span></span><br><span class="line">        <span class="comment">// Create a reference to pthread_create, not just the gthr weak symbol.</span></span><br><span class="line">    <span class="keyword">auto</span> __depend = <span class="keyword">reinterpret_cast</span>&lt;<span class="keyword">void</span>(*)()&gt;(&amp;pthread_create);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">        <span class="keyword">auto</span> __depend = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">        <span class="comment">// åˆ›å»ºæ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä¸”å°†å‚æ•°è¿›è¡Œä¼ é€’</span></span><br><span class="line">        _M_start_thread(_S_make_state(  <span class="comment">// åˆ›å»ºçŠ¶æ€</span></span><br><span class="line">                __make_invoker(         <span class="comment">// åˆ›å»ºæ‰§è¡Œå‡½æ•°ï¼Œå¹¶æ‰§è¡Œ</span></span><br><span class="line">                        <span class="built_in">std</span>::forward&lt;_Callable&gt;(__f),   <span class="comment">// callable ç±»å‹è½¬æ¢</span></span><br><span class="line">                        <span class="built_in">std</span>::forward&lt;_Args&gt;(__args)...) <span class="comment">// å‚æ•°ç±»å‹è½¬æ¢</span></span><br><span class="line">                        ),</span><br><span class="line">                        __depend);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// ç”¨æ¥æ‰§è¡Œçš„åŒ…è£…å™¨ (forwarded tuple elements...)</span></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Tuple&gt;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> _<span class="title">Invoker</span> &#123;</span></span><br><span class="line">        <span class="comment">// ... çœç•¥</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span>... _Tp&gt;</span><br><span class="line">    <span class="keyword">using</span> __decayed_tuple = tuple&lt;<span class="keyword">typename</span> <span class="built_in">std</span>::decay&lt;_Tp&gt;::type...&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªå¯è°ƒç”¨çš„åŒ…è£…å™¨ï¼Œé‡Œé¢æœ‰ï¼š</span></span><br><span class="line">    <span class="comment">// tuple&#123;DECAY_COPY(__callable), DECAY_COPY(__args)...&#125;.</span></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Callable, <span class="keyword">typename</span>... _Args&gt;</span><br><span class="line">    <span class="keyword">static</span> _Invoker&lt;__decayed_tuple&lt;_Callable, _Args...&gt;&gt;</span><br><span class="line">    __make_invoker(_Callable &amp;&amp;__callable, _Args &amp;&amp;... __args) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;__decayed_tuple&lt;_Callable, _Args...&gt;&#123;</span><br><span class="line">                <span class="built_in">std</span>::forward&lt;_Callable&gt;(__callable), <span class="built_in">std</span>::forward&lt;_Args&gt;(__args)...</span><br><span class="line">        &#125;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><code>thread</code> æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ª <code>callable</code> ç±»å‹çš„å‚æ•°ä½œä¸ºæ‰§è¡Œå‡½æ•°ï¼Œè¿™ä¸ªæ˜¯å¿…é€‰å‚æ•°ã€‚åé¢å¯ä»¥å¯é€‰é™„åŠ è‹¥å¹²ä¸ª <code>Args</code> ç±»å‹çš„å‚æ•°æ¥å¡«å…… <code>callable</code> å‡½æ•°ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>å‘çº¿ç¨‹ä¸­æ‰§è¡Œå‡½æ•°ä¼ é€’å¼•ç”¨ç±»å‹çš„å‚æ•°</strong>å¯ä¸æ˜¯å®¹æ˜“çš„äº‹ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> <span class="built_in">buffer</span> = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    <span class="function">thread <span class="title">t2</span><span class="params">([](<span class="built_in">string</span> buf) &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        buf.append(<span class="string">&quot;world!&quot;</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; buf &lt;&lt; <span class="built_in">endl</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="comment">// &gt;: 3 - helloworld!</span></span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;, <span class="built_in">buffer</span>)</span></span>;</span><br><span class="line">    t2.join();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; <span class="built_in">buffer</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// &gt;: 1 - hello</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯è§å˜é‡ <code>buffer</code> åœ¨çº¿ç¨‹ <code>t2</code> ä¸­å¹¶æ²¡æœ‰å¾—åˆ°ä¿®æ”¹ã€‚é‚£ä¹ˆè¯•è¯•å¼•ç”¨ä¼ é€’ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ï¼</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  thread t3([](string &amp;buf) &#123;</span></span><br><span class="line"><span class="comment">     *      buf.append(&quot;world!&quot;);</span></span><br><span class="line"><span class="comment">     *      cout &lt;&lt; this_thread::get_id() &lt;&lt; &quot; string buf: &quot; &lt;&lt; &quot; - &quot; &lt;&lt; buf &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">     *  &#125;, buffer);</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å†™åœ¨ä¸€èˆ¬çš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œå½“ç„¶æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä¸è¿‡åœ¨å¤šçº¿ç¨‹ä¸­å´æ˜¯ä¸å¯è¡Œçš„ï¼Œé‚£ä¹ˆè¯¥æ€æ ·ä¼ é€’å¼•ç”¨ç±»å‹ï¼Œç„¶ååœ¨çº¿ç¨‹ä¸­å®Œæˆè®¿é—®å‘¢ï¼Ÿè¿™é‡Œéœ€è¦ä½¿ç”¨ <code>ref()</code> å‡½æ•°å°†å‚æ•°è½¬æ¢æˆå¼•ç”¨ç±»å‹çš„å½¢å¼ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t_ref</span><span class="params">([](<span class="built_in">string</span> &amp;buf) &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        buf.append(<span class="string">&quot; world!&quot;</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; buf &lt;&lt; <span class="built_in">endl</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="comment">// &gt;: 4 - hello world!</span></span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;, ref(<span class="built_in">buffer</span>))</span></span>;</span><br><span class="line">    t_ref.join();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; <span class="built_in">buffer</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// &gt;: 1 - hello world!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥åœ¨çº¿ç¨‹å†…éƒ¨ï¼Œå¯¹å¤–éƒ¨å˜é‡è¿›è¡Œä¿®æ”¹ã€‚å½“ç„¶ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è¿™æ ·ä¸€ç§æ–¹å¼æ¥å®Œæˆç›¸åŒçš„ç›®çš„ï¼š<strong>ä¼ é€’ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°ï¼Œå¹¶æä¾›ä¸€ä¸ªå¯¹è±¡æŒ‡é’ˆä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</strong>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Task</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">do_something</span><span class="params">(<span class="built_in">string</span> &amp;name)</span> </span>&#123;</span><br><span class="line">        name = <span class="string">&quot;hello~ &quot;</span> + name;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="string">&quot; -&gt; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">Task</span> task;</span><br><span class="line">    <span class="built_in">string</span> name = <span class="string">&quot;Cherry&quot;</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="string">&quot; -&gt; &quot;</span>;</span><br><span class="line">    <span class="function">thread <span class="title">t4</span><span class="params">(&amp;<span class="built_in">Task</span>::do_something, &amp;task, <span class="built_in">std</span>::ref(name))</span></span>;</span><br><span class="line">    t4.join();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// &gt;: Cherry -&gt; hello~ Cherry -&gt; hello~ Cherry</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œï¼Œä¼ å…¥çº¿ç¨‹æ„é€ å‡½æ•°çš„æœ‰ <code>Task</code> çš„æˆå‘˜å‡½æ•° <code>do_something</code> å‡½æ•°æŒ‡é’ˆï¼Œä»¥åŠä¸€ä¸ª <code>Task</code> ç±»çš„å®ä¾‹ <code>task</code>ï¼Œåœ¨å‰©ä½™çš„å‚æ•°ä¸­ï¼ŒæŠŠç›¸åº”çš„å‚æ•°åˆ—è¡¨ä¼ äº†è¿›æ¥ï¼Œä»è€Œå®ç°åœ¨ <code>Task</code> çš„æˆå‘˜å‡½æ•°ä¸­å¯¹å¤–éƒ¨å˜é‡è¿›è¡Œä¿®æ”¹ã€‚</p>
<h1 id="2-æƒé™è½¬ç§»"><a href="#2-æƒé™è½¬ç§»" class="headerlink" title="2. æƒé™è½¬ç§»"></a>2. æƒé™è½¬ç§»</h1><p>åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ä¹‹åï¼Œå¦‚æœæƒ³è½¬ç§»æ‰€æœ‰æƒï¼Œé‚£ä¹ˆéœ€è¦ç­‰å¾…çº¿ç¨‹ç»“æŸæ‰èƒ½è¿›è¡Œã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡çº¿ç¨‹æƒé™è½¬ç§»ï¼Œä½¿ç”¨ <code>move</code> å‡½æ•°æ¥ç§»åŠ¨ä¸€ä¸ª <code>thread</code> æ‰€æœ‰æƒåˆ°å¦ä¸€ä¸ª <code>thread</code> å¯¹è±¡ä¸­å»ï¼Œæ¥å®ç°æ§åˆ¶ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">do_something</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot; ownership! + &quot;</span> &lt;&lt; ++count &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        this_thread::sleep_for(chrono::seconds(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t1</span><span class="params">(do_something)</span></span>;</span><br><span class="line">    this_thread::sleep_for(chrono::seconds(<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">    thread t2 = <span class="built_in">move</span>(t1);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;t1.joinable() ? &quot;</span> &lt;&lt; t1.joinable() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: t1.joinable() ? 0</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;t2.joinable() ? &quot;</span> &lt;&lt; t2.joinable() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: t2.joinable() ? 1</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 2 ownership! + 1</span></span><br><span class="line"><span class="comment">     * 2 ownership! + 2</span></span><br><span class="line"><span class="comment">     * t1.joinable() ? 0</span></span><br><span class="line"><span class="comment">     * t2.joinable() ? 1</span></span><br><span class="line"><span class="comment">     * 2 ownership! + 3</span></span><br><span class="line"><span class="comment">     * 2 ownership! + 4</span></span><br><span class="line"><span class="comment">     * ...</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>);<span class="comment">// åœ¨è¿™é‡Œç©ºè½¬ï¼Œä¸è®© main çº¿ç¨‹ç»“æŸæ‰ï¼Œå¦åˆ™ä¼šä¸¢å¤±è¾“å‡º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>t1</code> é¦–å…ˆè·å–äº†æ‰§è¡Œå‡½æ•° <code>do_something</code> ï¼Œç„¶åæ‰§è¡Œä¸¤ç§’é’Ÿåï¼Œé‡æ–°å°† <code>do_something</code> è½¬ç§»ç»™äº† <code>t2</code> ï¼Œæ­¤æ—¶ <code>t1</code> ä¾¿ä¸å†æœ‰ç»‘å®šæ‰§è¡Œå‡½æ•°äº†ã€‚ä» <code>joinable</code> ä¹Ÿå¯çœ‹å‡ºæ¥ <code>t1</code> å·²ç»å˜æˆä¸å¯ <code>join</code> çš„å¯¹è±¡ã€‚ä¸ä»…å¦‚æ­¤ï¼Œåœ¨æƒé™è½¬ç§»è¿‡ç¨‹ä¸­ï¼Œå¹¶æ²¡æœ‰è®©åŸæ¥æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æ–­æˆ–é‡å¯ï¼Œä»è¾“å‡º <code>1, 2, 3 ,4 ...</code> è¿ç»­æ€§ä¸­å¯ä»¥çœ‹å‡ºã€‚</p>
<p>è¢«è½¬ç§»èµ°æƒé™çš„ <code>t1</code> å°±å¥½åƒä¸€ä¸ªç©ºå£³ï¼Œå®ƒè™½ç„¶ä»ç„¶æ˜¯ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ï¼ˆè¿˜å¯ä»¥è¢« <code>move</code> ï¼‰ï¼Œä½†æ˜¯å®ƒçš„æ‰§è¡Œå‡½æ•°å·²ç»æœ¨æœ‰äº†ï¼ˆå°±ç®— <code>move</code> ï¼Œæ¥æ”¶çš„å¯¹è±¡ä¹Ÿæ¥æ”¶ä¸åˆ°ä»»ä½•ä¸œè¥¿ï¼‰ï¼Œæ‰€ä»¥å¯¹å®ƒå†è¿›è¡Œçº¿ç¨‹ä¸Šçš„æ“ä½œæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">do_something</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot; ownership! + &quot;</span> &lt;&lt; ++count &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        this_thread::sleep_for(chrono::seconds(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    thread t4 = <span class="built_in">move</span>(t1); <span class="comment">// è™½ç„¶è½¬ç§»äº†è¿‡æ¥ï¼Œä½†æ˜¯çº¿ç¨‹ t4 å¹¶æ²¡æœ‰å¯æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; t4.joinable() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ä»…å¦‚æ­¤ï¼Œå¯¹ä¸€ä¸ªæ‹¥æœ‰æ‰§è¡Œå‡½æ•°çš„ <code>thread</code> å¯¹è±¡è¿›è¡Œ <code>move</code> èµ‹å€¼æ—¶ï¼Œä¹Ÿä¼šæŠ¥é”™ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">do_something</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot; ownership! + &quot;</span> &lt;&lt; ++count &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        this_thread::sleep_for(chrono::seconds(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t1</span><span class="params">(do_something)</span></span>;</span><br><span class="line">    this_thread::sleep_for(chrono::seconds(<span class="number">2</span>));</span><br><span class="line">    thread t2 = <span class="built_in">move</span>(t1);</span><br><span class="line">    thread t3 = thread(do_something);</span><br><span class="line">    t3 = <span class="built_in">move</span>(t2); <span class="comment">// ä¼šæŠ¥é”™ï¼Œå› ä¸º t3 å·²ç»å’Œä¸€ä¸ªå‡½æ•°å…³è”ï¼Œè¿™æ—¶å€™å†ç»™ä»–ä¸€ä¸ªä¼šæŠ¥é”™</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥è¿™ä¸ªæ˜¯ä¸å¯ä»¥è¢«è¦†ç›–çš„ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼š<strong>å¯ä»¥é€šè¿‡</strong> <code>std::move()</code> <strong>è½¬ç§»ä¸€ä¸ªçº¿ç¨‹æ‰€æœ‰æƒç»™ä¸€ä¸ªæœªå…³è”çº¿ç¨‹çš„</strong> <code>thread</code> <strong>å¯¹è±¡ï¼Œä½†æ˜¯ä¸èƒ½é€šè¿‡èµ‹ä¸€ä¸ªæ–°å€¼çš„æ–¹å¼ä¸¢å¼ƒä¸€ä¸ªçº¿ç¨‹</strong>ã€‚</p>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>STL</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Git Commit Messageè§„èŒƒå‚è€ƒ</title>
    <url>/2020/10/03/Git-commit-message%E8%A7%84%E8%8C%83%E5%8F%82%E8%80%83/</url>
    <content><![CDATA[<p>ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ï¼Œæ•´å®Œè§„èŒƒå†æ‰“å·¥ã€‚</p>
<a id="more"></a>
<p>è§„èŒƒçš„ <code>Git commit</code> æ ‡å‡†èƒ½æ–¹ä¾¿å¤§å®¶çš„äº¤æµå’Œåä½œï¼Œä»¥åŠæ–¹ä¾¿å¯¹ç‰ˆæœ¬è¿›è¡Œ<strong>å›é¡¾</strong>å’Œ<strong>å‘å¸ƒ</strong>ã€‚ è¿™é‡Œä¸»è¦å‚è€ƒæ¥è‡ª <code>angular</code> çš„ <code>git commit</code> æ—¥å¿—ä½œä¸ºåŸºæœ¬è§„èŒƒã€‚</p>
<h1 id="1-æ—¥å¿—åŸºæœ¬è§„èŒƒ"><a href="#1-æ—¥å¿—åŸºæœ¬è§„èŒƒ" class="headerlink" title="1. æ—¥å¿—åŸºæœ¬è§„èŒƒ"></a>1. æ—¥å¿—åŸºæœ¬è§„èŒƒ</h1><p><code>&lt;type&gt;(&lt;scope&gt;) : &lt;subject&gt;&lt;BLANK LINE&gt;&lt;body&gt;&lt;BLANK LINE&gt;&lt;footer&gt;</code></p>
<p>è¯´æ˜å¦‚ä¸‹ï¼š</p>
<ul>
<li><p><code>type</code> ï¼šè¡¨ç¤ºæäº¤çš„ç±»å‹ï¼Œæ¯”å¦‚æ˜¯ä¿®å¤äº† <code>bug</code> è¿˜æ˜¯æ–°å¢åŠŸï¼ˆæ¼ï¼‰èƒ½ï¼ˆæ´ï¼‰ï¼Œå¯é€‰çš„åˆ—è¡¨å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>feat</code> ï¼š æ–°å¢åŠŸèƒ½</li>
<li><code>fix</code> ï¼š ä¿®å¤é—®é¢˜</li>
<li><code>docs</code> ï¼šä¿®æ”¹æ–‡æ¡£ï¼Œä¾‹å¦‚ <code>README</code>ï¼Œ<code>CHANGELOG</code>ï¼Œ<code>CONTRIBUTE</code> ç­‰</li>
<li><code>style</code> ï¼šæ ¼å¼åŒ–ç¨‹åºï¼Œä¾‹å¦‚ä¿®æ”¹ç©ºæ ¼ã€ç¼©è¿›ï¼Œä¸æ”¹å˜ç¨‹åºé€»è¾‘</li>
<li><code>refactor</code> ï¼šä»£ç é‡æ„ï¼Œä½†æ²¡æœ‰æ–°åŠŸèƒ½ï¼Œä¹Ÿæ²¡æœ‰ä¿®å¤é—®é¢˜</li>
<li><code>perf</code> ï¼šä¼˜åŒ–ï¼Œä¾‹å¦‚æå‡æ€§èƒ½ï¼Œä¼˜åŒ–ä½“éªŒ</li>
<li><code>test</code> ï¼šæµ‹è¯•ç”¨ä¾‹</li>
<li><code>chore</code> ï¼šæ”¹å˜æ„å»ºæµç¨‹ï¼Œä¾‹å¦‚å¢åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰</li>
<li><code>revert</code> ï¼šå›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</li>
</ul>
</li>
<li><p><code>scope</code> ï¼šå¯é€‰å†…å®¹ï¼Œè¡¨ç¤ºä¿®æ”¹èŒƒå›´</p>
</li>
<li><code>subject</code> ï¼šæ ‡é¢˜ï¼Œæè¿°ä¸»è¦å˜æ›´å†…å®¹ï¼Œ<strong>50</strong>å­—ç¬¦ä»¥å†…</li>
<li><code>body</code> ï¼šä¸»ä½“å†…å®¹ï¼Œæ›´è¯¦ç»†çš„è¯´æ˜ï¼Œ<strong>72</strong>å­—ç¬¦ä»¥å†…ï¼Œéœ€è¦åŒ…æ‹¬ï¼š<ul>
<li>ä¸ºä»€ä¹ˆä¿®æ”¹ï¼Ÿ</li>
<li>å¦‚ä½•è§£å†³ï¼Ÿ</li>
<li>æ˜¯å¦å­˜åœ¨å‰¯ä½œç”¨ï¼Ÿé£é™©ï¼Ÿ</li>
</ul>
</li>
<li><code>footer</code> ï¼šå¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥é“¾æ¥åˆ°ä¸€ä¸ª <code>issue</code> æˆ–è€…ç›¸å…³æ–‡æ¡£æˆ–ç¨‹åº</li>
</ul>
<h1 id="2-åˆ†æ”¯è§„èŒƒ"><a href="#2-åˆ†æ”¯è§„èŒƒ" class="headerlink" title="2. åˆ†æ”¯è§„èŒƒ"></a>2. åˆ†æ”¯è§„èŒƒ</h1><p><strong>åŸºæœ¬åŸåˆ™ï¼š</strong><code>master</code> è¦è®¾ç½®ä¸ºä¿æŠ¤åˆ†æ”¯ï¼Œä¸ç›´æ¥åœ¨ <code>master</code> ä¸Šè¿›è¡Œä»£ç ä¿®æ”¹å’Œæäº¤ã€‚</p>
<p>å¯¹äºä¸€èˆ¬çš„ <code>feature</code> æ›´æ–°å’Œ <code>bugfix</code> ï¼Œéƒ½è¦ä» <code>master</code> åˆ†æ”¯ä¸Š <code>checkout</code> ä¸‹æ¥ä¸€ä¸ªå¼€å‘åˆ†æ”¯è¿›è¡Œæ“ä½œï¼Œå®Œæˆä¹‹åå†åˆå¹¶å› <code>master</code> ä¸Šï¼Œå¹¶ä¸”æ‰“ä¸Š <code>tag</code> æ ‡ç­¾ï¼Œæœ€ååˆ é™¤å¼€å‘åˆ†æ”¯ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ†æ”¯å‘½åè§„åˆ™æœ‰ï¼š</p>
<ol>
<li>åˆ†æ”¯ç‰ˆæœ¬å‘½åè§„åˆ™ï¼š<code>åˆ†æ”¯ç±»å‹_åˆ†æ”¯å‘å¸ƒæ—¶é—´_åˆ†æ”¯åŠŸèƒ½</code></li>
<li>åˆ†æ”¯ç±»å‹åŒ…æ‹¬ï¼š<code>feature</code> ï¼Œ<code>bugfix</code> ï¼Œ<code>refactor</code> ä¸‰ç§ç±»å‹</li>
<li>æ—¶é—´ä½¿ç”¨ <code>yyyyMMdd</code> æ ¼å¼ï¼Œä¸è¶³è¡¥é›¶</li>
<li>ä¸‹åˆ’çº¿å‘½åæ³•</li>
</ol>
<p>å¯¹äºæ ‡ç­¾çš„ç®¡ç†ï¼Œè¦ä½¿ç”¨ <code>3</code> ä¸ªæ•°æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚ï¼š<code>v1.2.3</code> ï¼Œæœ‰å¦‚ä¸‹è§„èŒƒï¼š</p>
<pre><code>1. æ–°åŠŸèƒ½æ·»åŠ ä½¿ç”¨ç¬¬ `2` ä½ç‰ˆæœ¬å·ï¼Œ`bug` ä¿®å¤ä½¿ç”¨ç¬¬ `3` ä½
 2. ä¾‹å¦‚ï¼š`v1.2.3-alpha-1`ï¼Œ`v-1.2.3-beta-1` ç­‰
</code></pre><h1 id="3-å·¥ä½œæµç¨‹ç¤ºä¾‹"><a href="#3-å·¥ä½œæµç¨‹ç¤ºä¾‹" class="headerlink" title="3. å·¥ä½œæµç¨‹ç¤ºä¾‹"></a>3. å·¥ä½œæµç¨‹ç¤ºä¾‹</h1><ol>
<li><p>åˆ›å»ºä¸€ä¸ª <code>feature</code> æˆ–è€… <code>bugfix</code> åˆ†æ”¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout -b feature_20201003_helloworld</span><br><span class="line">git checkout -b bugfix_20201003_store_key</span><br></pre></td></tr></table></figure>
</li>
<li><p>æäº¤ä»£ç åˆ°æœ¬åœ° <code>Git</code> ä»“åº“ï¼Œå¹¶å¡«å†™è§„èŒƒçš„ <code>Git Commit Message</code> </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add *</span><br><span class="line">git commit -m <span class="string">&quot;feat: æ–°å¢helloworldã€‚</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†ä»£ç åŒæ­¥åˆ°è¿œç¨‹ä»“åº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push origin feature_20201003_helloworld</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰“ä¸Š <code>tag</code> å¹¶åŒæ­¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git tag v0.0.1</span><br><span class="line">git push origin v0.0.1</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>emmmmï¼Œè¿˜æ˜¯å¤šå®è·µæ¯”è¾ƒå¥½ï¼Œè®°æ˜¯è®°ä¸ä½ğŸ˜‘â€¦â€¦</p>
]]></content>
      <categories>
        <category>æ£é¼“å°ç©æ„å„¿</category>
      </categories>
      <tags>
        <tag>å¼€å‘è§„èŒƒ</tag>
        <tag>Git</tag>
        <tag>Github</tag>
        <tag>å¼€å‘å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>C++çš„å¤šçº¿ç¨‹ï¼ˆâ… ï¼‰</title>
    <url>/2020/09/26/CPP%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B1/</url>
    <content><![CDATA[<blockquote>
<p>  ä»Šå¤©æ˜¯é¢„æŠ¥åçš„æœ€åä¸€å¤©ï¼Œä½ ä¸€å®šå¯ä»¥æˆåŠŸä¸Šå²¸ï¼ŒçŸ¿å¤§ç­‰ä½ ~ğŸ˜˜åŠ æ²¹ğŸ’ª~ï¼Œç›¸ä¿¡ä½ è€Œä¸”å¾ˆåšå®šï¼</p>
</blockquote>
<p>ä» <code>C++11</code> å¼€å§‹ï¼ŒC++æ ‡å‡†å§”å‘˜ä¼šå¼€å§‹å…³æ³¨å¤šçº¿ç¨‹çš„å¤„ç†ï¼Œå¹¶æä¾›å…³äºçº¿ç¨‹æ“ä½œçš„æ ‡å‡†åº“ <code>&lt;thread&gt;</code> ã€‚è€Œåœ¨æ­¤ä¹‹å‰ï¼ŒC++ç¨‹åºå‘˜å·²ç»è‹¦<strong>å¹³å°ç›¸å…³æ€§</strong>çš„éæ ‡å‡†å¤šçº¿ç¨‹åº“ä¹…çŸ£â€¦â€¦</p>
<a id="more"></a>
<p>å¤šçº¿ç¨‹æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¾ˆå¹¿èŒƒçš„å†…å®¹ï¼ŒåŒ…æ‹¬ç®¡ç†ã€è°ƒåº¦ã€é”å’ŒåŒæ­¥ã€å†…å­˜æ¨¡å‹ç­‰å†…å®¹ï¼Œå› æ­¤æœ¬æ–‡å…ˆä»C++çº¿ç¨‹ä¸­çš„çº¿ç¨‹ç®¡ç†å¼€å§‹ï¼Œé€æ­¥ä»‹ç»çº¿ç¨‹çš„<strong>åˆ›å»º</strong>ã€<strong>å¯åŠ¨</strong>ã€<code>join</code> ã€<code>detach</code> æ“ä½œã€‚</p>
<p>å½“ç„¶ï¼Œåœ¨ä¸‹é¢å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦å¾—åˆ°ä¸€ä¸ªæ”¯æŒ <code>C++11</code> æ ‡å‡†çš„ç¼–è¯‘å™¨ã€‚</p>
<h1 id="1-C-å¤šçº¿ç¨‹åˆ›å»ºå’Œå¯åŠ¨"><a href="#1-C-å¤šçº¿ç¨‹åˆ›å»ºå’Œå¯åŠ¨" class="headerlink" title="1. C++å¤šçº¿ç¨‹åˆ›å»ºå’Œå¯åŠ¨"></a>1. C++å¤šçº¿ç¨‹åˆ›å»ºå’Œå¯åŠ¨</h1><p>é¦–å…ˆå¼•å…¥ <code>&lt;thread&gt;</code> å¤´æ–‡ä»¶ï¼Œè¯¥å¤´æ–‡ä»¶åŒ…æ‹¬äº†å¯¹C++å¤šçº¿ç¨‹ç›¸å…³çš„ç±»ã€‚å¼•å…¥å¤´æ–‡ä»¶å®Œæˆä¹‹åå¯ä»¥ä½¿ç”¨ <code>std::thread</code> æ¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚</p>
<h2 id="1-1-å¤–éƒ¨å‡½æ•°åˆ›å»ºçº¿ç¨‹"><a href="#1-1-å¤–éƒ¨å‡½æ•°åˆ›å»ºçº¿ç¨‹" class="headerlink" title="1.1 å¤–éƒ¨å‡½æ•°åˆ›å»ºçº¿ç¨‹"></a>1.1 å¤–éƒ¨å‡½æ•°åˆ›å»ºçº¿ç¨‹</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;   // å¼•å…¥å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func_task</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123; <span class="comment">// å£°æ˜è¦æ‰§è¡Œçš„ä»»åŠ¡å‡½æ•°ï¼ˆä¹Ÿå¯ä¸ºcallableç±»å‹ï¼‰</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; * &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">(func_task, i)</span></span>; <span class="comment">// åˆ›å»ºçº¿ç¨‹ tï¼ˆå¹¶ä¸ºçº¿ç¨‹æŒ‡å®šä»»åŠ¡ func_taskï¼‰</span></span><br><span class="line">        t.<span class="built_in">detach</span>();             <span class="comment">// å°†çº¿ç¨‹ t ä¸å½“å‰çº¿ç¨‹åˆ†ç¦»</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// &gt;: 015 * 9 *  * 2 *  * 7 * 3 * 6 * 4 * 8 *</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸€æ­¥éª¤ä¸­ï¼Œåˆ›å»ºäº† <code>10</code> ä¸ªçº¿ç¨‹ï¼Œå¹¶ä¸”å®ƒä»¬éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡éƒ½æ˜¯ <code>func_task</code> ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™åä¸ªçº¿ç¨‹éœ€è¦åœ¨å„è‡ªçš„çº¿ç¨‹æ‰§è¡ŒæœŸé—´å»æ‰§è¡Œ <code>func_task</code> è¿™ä¸ªå‡½æ•°ã€‚å½“è¿™åä¸ªçº¿ç¨‹åˆ›å»ºå®Œæˆä¹‹å <code>thread t(func_task, i);</code> å°±å·²ç»å¼€å§‹æ‰§è¡Œäº†ï¼Œä¸éœ€è¦ç‰¹æ®Šå£°æ˜ã€‚</p>
<p>è€Œå¯¹äº <code>t.detach()</code> ï¼Œè¡¨ç¤ºå…è®¸è¯¥çº¿ç¨‹ <code>t</code> è„±ç¦»å½“å‰çº¿ç¨‹å»è¿è¡Œï¼Œè€Œæ— éœ€ç­‰å¾…å½“å‰çº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œåé¢ä¼šè¯¦ç»†è¯´æ˜ã€‚</p>
<p>ä»è¾“å‡ºç»“æœï¼š<code>015 * 9 *  * 2 *  * 7 * 3 * 6 * 4 * 8 *</code> å¯ä»¥çœ‹å‡ºè¿™åä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œé¡ºåºä¸Šå¹¶æ²¡æœ‰å›ºå®šé€»è¾‘ï¼Œä¾‹å¦‚ç¬¬äºŒæ¬¡é‡æ–°æ‰§è¡Œå¾—åˆ°çš„ç»“æœä¸ºï¼š<code>01 * 4 * 3 * 5 * 9 * 7 * 2 * 8 * 6 *  *</code>ï¼Œé‚£æ˜¯å› ä¸ºè¿™åä¸ªçº¿ç¨‹åœ¨ä¼˜å…ˆçº§ä¸Šå¹¶æ²¡æœ‰åšåŒºåˆ†ï¼Œå®Œå…¨æ˜¯ç‹¬ç«‹è¿è¡Œå¾—åˆ°çš„ã€‚</p>
<h2 id="1-2-lambda-åˆ›å»ºçº¿ç¨‹"><a href="#1-2-lambda-åˆ›å»ºçº¿ç¨‹" class="headerlink" title="1.2 lambda åˆ›å»ºçº¿ç¨‹"></a>1.2 lambda åˆ›å»ºçº¿ç¨‹</h2><p>å½“ç„¶åœ¨åˆ›å»ºæ—¶å€™ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ª <code>lambda</code> è¡¨è¾¾å¼ï¼ˆåŒ¿åå‡½æ•°ï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;   // å¼•å…¥å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> func_lambda = [](<span class="keyword">int</span> i) &#123; <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; - &quot;</span>; &#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">(func_lambda, i)</span></span>;</span><br><span class="line">        t.<span class="built_in">detach</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// &gt;: 024 - 5 -  - 1 - 6 - 7 - 3 - 9 - 8 -  -</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">([](<span class="keyword">int</span> i) &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; - &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        &#125;, i)</span></span>;</span><br><span class="line">        t.<span class="built_in">detach</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-3-Callable-ç±»å‹åˆ›å»ºçº¿ç¨‹"><a href="#1-3-Callable-ç±»å‹åˆ›å»ºçº¿ç¨‹" class="headerlink" title="1.3 Callable ç±»å‹åˆ›å»ºçº¿ç¨‹"></a>1.3 Callable ç±»å‹åˆ›å»ºçº¿ç¨‹</h2><p>å£°æ˜ä¸€ä¸ªç±»ï¼Œç„¶åé‡è½½å®ƒçš„ <code>()</code> è¿ç®—ç¬¦ï¼Œå®ç° <code>callable</code> ç±»å‹çš„çº¿ç¨‹åˆ›å»ºã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;   // å¼•å…¥å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Task</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; () &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="built_in">Task</span> task;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">(task, i)</span></span>;</span><br><span class="line">        t.<span class="built_in">detach</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// &gt;: 024 () 3 () 1 ()  () 6 () 8 () 9 () 5 ()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¿™é‡Œéœ€è¦æŠŠ <code>()</code> è¿ç®—ç¬¦é‡è½½ä¸º <code>public</code> è®¿é—®åŸŸï¼Œå¦åˆ™ä¼šè¯†åˆ«ä¸åˆ°ã€‚ä¸è¿‡åœ¨æ­¤å¤„éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåˆ›å»ºè¿‡ç¨‹ä¸ºï¼š<code>thread t(Task(), i)</code></p>
<h1 id="2-C-çº¿ç¨‹çš„-join-æ“ä½œ"><a href="#2-C-çº¿ç¨‹çš„-join-æ“ä½œ" class="headerlink" title="2. C++çº¿ç¨‹çš„ join æ“ä½œ"></a>2. C++çº¿ç¨‹çš„ join æ“ä½œ</h1><p><code>join</code> æ˜¯ä¸€ç§ç­‰å¾…çº¿ç¨‹ç»“æŸçš„è¿ç®—ï¼Œä¾‹å¦‚ <code>main</code> çº¿ç¨‹å¯åŠ¨äº† <code>t</code> çº¿ç¨‹ï¼Œç„¶å <code>t</code> çº¿ç¨‹åœ¨å¯åŠ¨å®Œæˆè¿‡åæ‰§è¡Œäº† <code>t.join()</code> ï¼Œé‚£ä¹ˆ <code>main</code> çº¿ç¨‹éœ€è¦ç­‰å¾… <code>t</code> çº¿ç¨‹æ‰§è¡Œç»“æŸä¹‹åï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œ <code>main</code> å‡½æ•°ä¸‹é¢çš„ç¨‹åºã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t1</span><span class="params">([] &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot;: &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;)</span></span>;</span><br><span class="line">    t1.join();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">thread <span class="title">t2</span><span class="params">([] &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id &lt;&lt; <span class="string">&quot;: &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;)</span></span>;</span><br><span class="line">    t2.join();</span><br><span class="line">    <span class="comment">// &gt;: 2: 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">    <span class="comment">//    1:0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€èˆ¬ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæ˜¯å› ä¸ºåŸå§‹çº¿ç¨‹åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­æ²¡æœ‰äº†å…¶ä»–çš„äº‹å¯åšï¼Œæˆ–è€…è¯´ç‹¬ç«‹å‡ºæ¥ä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œå‡½æ•°æ”¶æ•ˆç”šå¾®ã€‚ä½¿ç”¨ <code>join</code> æ˜¯ç®€å•ç²—æš´çš„ç­‰å¾…çº¿ç¨‹ï¼Œå½“éœ€è¦å¯¹çº¿ç¨‹è¿›è¡Œæ›´çµæ´»çš„æ§åˆ¶æ—¶ï¼Œæ¯”å¦‚çœ‹æŸä¸ªçº¿ç¨‹æ˜¯å¦å­˜æ´»ï¼Œæˆ–è€…è®¾ç½®<strong>ç­‰å¾…è¶…æ—¶</strong>ï¼Œå¯ä»¥ä½¿ç”¨<strong>æ¡ä»¶å˜é‡</strong>æˆ–è€…<strong>æœŸå¾…ï¼ˆfuturesï¼Œä¹Ÿç§°æœŸè´§æ¨¡å‹ï¼‰</strong>å»å®ç°ã€‚</p>
<p>å™¢ï¼å¯¹ï¼Œåªèƒ½å¯¹ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€æ¬¡ <code>join</code> æ“ä½œä¸€æ¬¡ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œ <code>join</code> æ“ä½œä¹‹å‰ï¼Œå¯¹å…¶ä½¿ç”¨ <code>joinable</code> æ£€æŸ¥æ“ä½œæ›´åŠ åˆé€‚ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t1</span><span class="params">([] &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot;: &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;t1 id: &quot;</span> &lt;&lt; t1.get_id() &lt;&lt; <span class="built_in">endl</span>;   <span class="comment">// &gt;: t1 id: 2</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; t1.joinable() &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 1</span></span><br><span class="line">    <span class="keyword">if</span> (t1.joinable()) &#123;</span><br><span class="line">        t1.join();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; t1.joinable() &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-C-çº¿ç¨‹çš„-detach-æ“ä½œ"><a href="#3-C-çº¿ç¨‹çš„-detach-æ“ä½œ" class="headerlink" title="3. C++çº¿ç¨‹çš„ detach æ“ä½œ"></a>3. C++çº¿ç¨‹çš„ detach æ“ä½œ</h1><p>åœ¨<code>C++11</code>ä¸­å¯¹çº¿ç¨‹è§„å®šäº† <code>detach</code> æ“ä½œï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å°†çº¿ç¨‹ä¸å½“å‰çº¿ç¨‹<strong>åˆ†ç¦»</strong>ï¼Œå®é™…ä¸Šè¯¥æ“ä½œå¯ä»¥å°†åˆ›å»ºå¥½çš„çº¿ç¨‹ä¸¢åˆ°åå°å»è¿è¡Œï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€åˆ›å»ºå®ƒçš„çº¿ç¨‹å°†ä¸èƒ½å†ä¸ä¹‹ç›´æ¥äº¤äº’ï¼Œä¾‹å¦‚ <code>join</code> æ“ä½œã€å¼•ç”¨è¯¥å¯¹è±¡ç­‰ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œè¯¥æ“ä½œéƒ½æ˜¯ç”¨æ¥åˆ›å»º<strong>å®ˆæŠ¤çº¿ç¨‹</strong>çš„ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t</span><span class="params">([]&#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;)</span></span>;</span><br><span class="line">    t.<span class="built_in">detach</span>();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;joinable? &quot;</span> &lt;&lt; t.joinable() &lt;&lt; <span class="built_in">endl</span>;   <span class="comment">// &gt;: joinable? 0</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; t.get_id() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: thread::id of a non-executing thread</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†åˆ†ç¦»çº¿ç¨‹ï¼Œå‰æè‚¯å®šæ˜¯è¯¥çº¿ç¨‹è¦èƒ½åˆ†ç¦»ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>joinable</code> æ¥å¯¹å®ƒè¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœåå›çš„æ˜¯ <code>true</code> è¯´æ˜å¯ä»¥å¯¹å®ƒè¿›è¡Œ <code>detach</code> æ“ä½œã€‚</p>
<blockquote>
<p>  å®ˆæŠ¤çº¿ç¨‹ï¼ˆdaemon threadsï¼‰ï¼šåœ¨UNIXä¸­å®ˆæŠ¤çº¿ç¨‹æ˜¯æŒ‡æ²¡æœ‰ä»»ä½•ç”¨æˆ·æ¥å£ï¼Œå¹¶åœ¨åå°è¿è¡Œçš„çº¿ç¨‹ã€‚ç‰¹ç‚¹è¿è¡Œæ—¶é—´é•¿ï¼Œå‰å°æ„Ÿå—ä¸åˆ°è¿™ä¸ªçº¿ç¨‹çš„å­˜åœ¨ ğŸ˜‘ã€‚ï¼ˆfire and forget ç±»å‹çš„ä»»åŠ¡å°±æ˜¯ä½¿ç”¨åˆ°è¿™ç§æ“ä½œäº†ï¼‰</p>
</blockquote>
<h3 id="å‚è€ƒç¨‹åº"><a href="#å‚è€ƒç¨‹åº" class="headerlink" title="å‚è€ƒç¨‹åº"></a>å‚è€ƒç¨‹åº</h3><ol>
<li><p><code>hello_thread.cpp</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/9/26.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/9/26 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;   // å¼•å…¥å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func_task</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123; <span class="comment">// å£°æ˜è¦æ‰§è¡Œçš„ä»»åŠ¡å‡½æ•°ï¼ˆä¹Ÿå¯ä¸ºcallableç±»å‹ï¼‰</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; * &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Task</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; () &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">(func_task, i)</span></span>; <span class="comment">// åˆ›å»ºçº¿ç¨‹ tï¼ˆå¹¶ä¸ºçº¿ç¨‹æŒ‡å®šä»»åŠ¡ func_taskï¼‰</span></span><br><span class="line">        t.<span class="built_in">detach</span>();             <span class="comment">// å°†çº¿ç¨‹ t ä¸å½“å‰çº¿ç¨‹åˆ†ç¦»</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// &gt;: 015 * 9 *  * 2 *  * 7 * 3 * 6 * 4 * 8 *</span></span><br><span class="line">    this_thread::sleep_for(chrono::seconds(<span class="number">1</span>));</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">(func_task, i)</span></span>; <span class="comment">// åˆ›å»ºçº¿ç¨‹ tï¼ˆå¹¶ä¸ºçº¿ç¨‹æŒ‡å®šä»»åŠ¡ func_taskï¼‰</span></span><br><span class="line">        t.join();               <span class="comment">// å°†çº¿ç¨‹ t å¹¶å…¥åˆ°å½“å‰çº¿ç¨‹ä¸­</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// &gt;: 0 * 1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 *</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> func_lambda = [](<span class="keyword">int</span> i) &#123; <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; - &quot;</span>; &#125;;</span><br><span class="line">    <span class="comment">// 024 - 5 -  - 1 - 6 - 7 - 3 - 9 - 8 -  -</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">(func_lambda, i)</span></span>;</span><br><span class="line">        t.<span class="built_in">detach</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 0 - 1 - 2 - 3 - 4 - 5 - 6 - 7 - 8 - 9 -</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">(func_lambda, i)</span></span>;</span><br><span class="line">        t.join();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">([](<span class="keyword">int</span> i) &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; - &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        &#125;, i)</span></span>;</span><br><span class="line">        t.<span class="built_in">detach</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="built_in">Task</span> task;</span><br><span class="line">        <span class="function">thread <span class="title">t</span><span class="params">(task, i)</span></span>;</span><br><span class="line">        t.<span class="built_in">detach</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// &gt;: 024 () 3 () 1 ()  () 6 () 8 () 9 () 5 ()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>thread_join.cpp</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/9/27.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/9/27 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t1</span><span class="params">([] &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot;: &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;)</span></span>;</span><br><span class="line">    t1.join();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">thread <span class="title">t2</span><span class="params">([] &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id &lt;&lt; <span class="string">&quot;: &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;)</span></span>;</span><br><span class="line">    t2.join();</span><br><span class="line">    <span class="comment">// &gt;: 2: 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">    <span class="comment">//    1:0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">    <span class="comment">// &gt;: 2: 0 1 2 3 4 5 6 7 8 1 :0 1 2 3 4 5 6 7 8 9 9</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>thread_joinable.cpp</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/9/27.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/9/27 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t1</span><span class="params">([] &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">cout</span> &lt;&lt; this_thread::get_id() &lt;&lt; <span class="string">&quot;: &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;t1 id: &quot;</span> &lt;&lt; t1.get_id() &lt;&lt; <span class="built_in">endl</span>;   <span class="comment">// &gt;: t1 id: 2</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; t1.joinable() &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 1</span></span><br><span class="line">    <span class="keyword">if</span> (t1.joinable()) &#123;</span><br><span class="line">        t1.join();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; t1.joinable() &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>thread_detach.cpp</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/9/27.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/9/27 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">thread <span class="title">t</span><span class="params">([]&#123;</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;)</span></span>;</span><br><span class="line">    t.<span class="built_in">detach</span>();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;joinable? &quot;</span> &lt;&lt; t.joinable() &lt;&lt; <span class="built_in">endl</span>;   <span class="comment">// &gt;: joinable? 0</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; t.get_id() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: thread::id of a non-executing thread</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>STL</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo-NexTä¸»é¢˜é…ç½®</title>
    <url>/2020/08/30/Hexo-NexT%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p><strong>é¦–å…ˆå®‰è£…</strong></p>
<p>é¦–å…ˆå®‰è£…å¥½ <code>NexT</code> ï¼Œä» <a href="https://github.com/theme-next/hexo-theme-next">è¿™é‡Œ</a> ä¸‹è½½å…‹éš†æœ€æ–°çš„ <code>NexT</code> ï¼Œç„¶åæŠŠå†…å®¹è§£å‹åˆ° <code>Hexo</code> å®‰è£…ç›®å½•ä¸‹çš„ <code>theses</code> æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä¸”é‡å‘½åä¸º <code>next</code>ã€‚</p>
<a id="more"></a>
<p><strong>é…ç½®æ–‡ä»¶</strong> </p>
<p>å®Œæˆä¸Šé¢æ­¥éª¤åï¼Œåœ¨ <code>Hexo</code> çš„å®‰è£…ç›®å½•ä¸‹ï¼Œæœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹ <code>themes</code> è¯¥æ–‡ä»¶å¤¹ä¸­å­˜æ”¾ç€ä¸»é¢˜æ–‡ä»¶ï¼Œåœ¨ <code>themes\next\</code> æ–‡ä»¶å¤¹ä¸‹æœ‰é…ç½®æ–‡ä»¶ <code>_config.yml</code> ï¼ˆä»¥åç§°ä¸º <strong>NexT é…ç½®æ–‡ä»¶</strong>ï¼‰ ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œå†…å®¹å¯ä»¥è¯´æ˜¯å·¨å¤§æ— æ¯”ï¼ŒæŠ½å–å…³é”®å†…å®¹ï¼Œå¯ä»¥å¯¹ä»¥ä¸‹å†…å®¹è¿›è¡Œé…ç½®ã€‚NexTé…ç½®<a href="https://theme-next.org/docs/theme-settings/">è¯¦ç»†æ–‡æ¡£</a></p>
<h2 id="1-ç½‘ç«™å›¾æ ‡"><a href="#1-ç½‘ç«™å›¾æ ‡" class="headerlink" title="1 ç½‘ç«™å›¾æ ‡"></a>1 ç½‘ç«™å›¾æ ‡</h2><p>æ‰¾åˆ°è‡ªå·±ä¸­æ„çš„å›¾æ ‡åï¼Œå…ˆè°ƒæ•´å°ºå¯¸ï¼Œä¸€èˆ¬éƒ½æ˜¯ <code>16 * 16</code> ç”¨ä½œç½‘ç«™å°å›¾æ ‡ï¼Œ<code>32 * 32</code> åŠä»¥ä¸Šç”¨ä½œç«™ç‚¹å›¾æ ‡ï¼ˆç”¨æˆ·å¤´åƒç±»ä¼¼ï¼‰ï¼Œç„¶åä¿å­˜åœ¨ <code>&#123;Hexo_home&#125;\source\image\</code> ä¸‹ã€‚</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/icon-16.png</span>            <span class="comment"># å°å›¾æ ‡</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/icon-32.png</span>           <span class="comment"># ä¸­ç­‰å›¾æ ‡</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/icon-32.png</span> <span class="comment"># é€‚é… Apple è®¾å¤‡</span></span><br><span class="line">  <span class="attr">safari_pinned_tab:</span> <span class="string">/images/icon.svg</span>   <span class="comment"># safari æµè§ˆå™¨çš„å°å›¾æ ‡ï¼Œéœ€è¦ç”¨ svg æ ¼å¼</span></span><br></pre></td></tr></table></figure>
<h2 id="2-ç‰ˆæƒå£°æ˜"><a href="#2-ç‰ˆæƒå£°æ˜" class="headerlink" title="2. ç‰ˆæƒå£°æ˜"></a>2. ç‰ˆæƒå£°æ˜</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">by-sa</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="3-ä¸»é¢˜æ ·å¼ä»¥åŠæš—é»‘æ¨¡å¼"><a href="#3-ä¸»é¢˜æ ·å¼ä»¥åŠæš—é»‘æ¨¡å¼" class="headerlink" title="3. ä¸»é¢˜æ ·å¼ä»¥åŠæš—é»‘æ¨¡å¼"></a>3. ä¸»é¢˜æ ·å¼ä»¥åŠæš—é»‘æ¨¡å¼</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¨¡å¼</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="comment">#scheme: Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš—é»‘æ¨¡å¼</span></span><br><span class="line"><span class="attr">darkmode:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h2 id="4-èœå•æ "><a href="#4-èœå•æ " class="headerlink" title="4. èœå•æ "></a>4. èœå•æ </h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ˜¯å¦æ‰“å¼€æŸä¸€ä¸ªèœå•æ ï¼Œæ‰“å¼€çš„è¯åªéœ€è¦å°†å‰é¢çš„ # æ³¨é‡Šå»æ‰</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="comment"># schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment"># sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment"># commonweal: /404/ || heartbeat</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦æ˜¾ç¤ºå›¾æ ‡ã€æ˜¯å¦æ˜¾ç¤ºè§’æ ‡</span></span><br><span class="line"><span class="attr">menu_settings:</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">badges:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="5-ç¤¾äº¤é“¾æ¥"><a href="#5-ç¤¾äº¤é“¾æ¥" class="headerlink" title="5. ç¤¾äº¤é“¾æ¥"></a>5. ç¤¾äº¤é“¾æ¥</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ ¹æ®éœ€è¦è¿›è¡Œæ·»åŠ å°±å¥½äº†</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/hxz1998</span> <span class="string">||</span> <span class="string">github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="string">huxz1998@163.com</span> <span class="string">||</span> <span class="string">envelope</span></span><br></pre></td></tr></table></figure>
<h2 id="6-é˜…è¯»æ›´å¤šï¼ˆRead-Moreï¼‰"><a href="#6-é˜…è¯»æ›´å¤šï¼ˆRead-Moreï¼‰" class="headerlink" title="6. é˜…è¯»æ›´å¤šï¼ˆRead Moreï¼‰"></a>6. é˜…è¯»æ›´å¤šï¼ˆRead Moreï¼‰</h2><p>è¿™ä¸ªåŠŸèƒ½ç±»ä¼¼äº <strong>å…¨æ–‡å±•å¼€</strong> ï¼Œç¬¬ä¸€æ­¥æ‰“å¼€ <strong>é˜…è¯»å…¨æ–‡</strong> æŒ‰é’®ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">read_more_btn:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒæ­¥ï¼Œåœ¨æŸä¸€ä¸ªæ–‡ç« ä¸­ï¼Œæ·»åŠ  <code>&lt;!-- more --&gt;</code> æ ‡ç­¾ï¼Œè¯¥æ ‡ç­¾å‰é¢çš„å†…å®¹å°†ä¼šè¢«å±•ç¤ºï¼Œåé¢çš„å†…å®¹å°†ä¼šè¢«æŠ˜å ã€‚</p>
<h2 id="7-å­—æ•°ç»Ÿè®¡ï¼Œé˜…è¯»æ—¶é•¿-amp-æœ¬åœ°æŸ¥è¯¢"><a href="#7-å­—æ•°ç»Ÿè®¡ï¼Œé˜…è¯»æ—¶é•¿-amp-æœ¬åœ°æŸ¥è¯¢" class="headerlink" title="7. å­—æ•°ç»Ÿè®¡ï¼Œé˜…è¯»æ—¶é•¿ &amp; æœ¬åœ°æŸ¥è¯¢"></a>7. å­—æ•°ç»Ÿè®¡ï¼Œé˜…è¯»æ—¶é•¿ &amp; æœ¬åœ°æŸ¥è¯¢</h2><p>å‚è€ƒ <strong>é…ç½®Hexo</strong> ä¸€æ–‡ã€‚</p>
<h2 id="8-è®¿å®¢ç»Ÿè®¡"><a href="#8-è®¿å®¢ç»Ÿè®¡" class="headerlink" title="8. è®¿å®¢ç»Ÿè®¡"></a>8. è®¿å®¢ç»Ÿè®¡</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi_count:</span>      </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>              <span class="comment"># é¦–å…ˆæ‰“å¼€è¯¥æ’ä»¶</span></span><br><span class="line">  <span class="attr">total_visitors:</span> <span class="literal">true</span>      <span class="comment"># æ˜¯å¦æ˜¾ç¤ºè®¿å®¢</span></span><br><span class="line">  <span class="attr">total_visitors_icon:</span> <span class="string">user</span> <span class="comment"># è¯¥æ•°å­—å‰é¢çš„å›¾æ ‡</span></span><br><span class="line">  <span class="attr">total_views:</span> <span class="literal">true</span>         <span class="comment"># æ€»æµè§ˆé‡</span></span><br><span class="line">  <span class="attr">total_views_icon:</span> <span class="string">eye</span>     <span class="comment"># è¿˜æ˜¯å›¾æ ‡~</span></span><br><span class="line">  <span class="attr">post_views:</span> <span class="literal">true</span>          <span class="comment"># æ–‡ç« æµè§ˆé‡</span></span><br><span class="line">  <span class="attr">post_views_icon:</span> <span class="string">eye</span>      <span class="comment"># ä»æ—§æ˜¯å›¾æ ‡</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ£é¼“å°ç©æ„å„¿</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>NexT</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaè™šæ‹Ÿæœºå†…å­˜åŠå†…å­˜æº¢å‡ºå¼‚å¸¸</title>
    <url>/2020/11/27/Java%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%86%85%E5%AD%98%E5%8F%8A%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA%E5%BC%82%E5%B8%B8/</url>
    <content><![CDATA[<blockquote>
<p>  Javaä¸C++ä¹‹é—´æœ‰ä¸€å µç”±å†…å­˜åŠ¨æ€åˆ†é…å’Œåƒåœ¾æ”¶é›†æŠ€æœ¯æ‰€å›´æˆçš„é«˜å¢™ï¼Œå¢™å¤–é¢çš„äººæƒ³è¿›æ¥ï¼Œå¢™é‡Œé¢çš„äººå´æƒ³å‡ºæ¥ã€‚</p>
</blockquote>
<p>ä¸çŸ¥é“å…¶ä»–äººæƒ³å‡ºæ¥æ²¡ï¼Œåæ­£æˆ‘æ˜¯æ²¡æƒ³å‡ºæ¥ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªJVMçš„è¿è¡Œæ—¶å†…å­˜è¦è¿™æ ·è®¾è®¡ğŸ¤£ã€‚</p>
<p>ä»¥ä¸‹å†…å®¹ä¸­ï¼ŒJavaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ç‰¹æŒ‡HotSpotè™šæ‹Ÿæœºã€‚</p>
<a id="more"></a>
<p>JVMå¯åŠ¨åï¼Œæ•´ä½“æ¥çœ‹ï¼Œä¼šæŠŠå‘æ“ä½œç³»ç»Ÿç”³è¯·åˆ°çš„å†…å­˜ç©ºé—´åˆ†æˆè¿™æ ·å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>ç¨‹åºè®¡æ•°å™¨åŒº</li>
<li>è™šæ‹Ÿæœºæ ˆ</li>
<li>æœ¬åœ°æ–¹æ³•æ ˆ</li>
<li>å †</li>
<li>æ–¹æ³•åŒº</li>
</ol>
<p>å®ƒä»¬åœ¨ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­éƒ½æœ‰ç›¸å…³è§„å®šå’Œè¯´æ˜ï¼Œåªæ˜¯æœ‰çš„åŒºåŸŸå…·ä½“å®ç°ç»†èŠ‚æ ¹æ®Javaè™šæ‹Ÿæœºå®ç°è€…æ¥å†³å®šï¼Œã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ä¸åšå¼ºè¡Œè¦æ±‚ï¼Œä¾‹å¦‚<strong>æ–¹æ³•åŒº</strong>ã€‚ä¸‹é¢å¯¹è¿™å‡ ä¸ªéƒ¨åˆ†è¿›è¡Œè¯¦ç»†å™è¿°ï¼Œåœ¨å™è¿°è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸æ–­å‚è€ƒä¸‹é¢è¿™ä¸ªç¤ºæ„å›¾æ¥å¸®åŠ©ç†è§£ã€‚</p>
<p><img data-src="https://s3.ax1x.com/2020/11/28/Dy57a8.jpg" alt="Javaè¿è¡Œæ—¶å†…å­˜å¸ƒå±€"></p>
<h1 id="1-ç¨‹åºè®¡æ•°å™¨åŒºï¼ˆProgram-Counter-Registerï¼‰"><a href="#1-ç¨‹åºè®¡æ•°å™¨åŒºï¼ˆProgram-Counter-Registerï¼‰" class="headerlink" title="1. ç¨‹åºè®¡æ•°å™¨åŒºï¼ˆProgram Counter Registerï¼‰"></a>1. ç¨‹åºè®¡æ•°å™¨åŒºï¼ˆProgram Counter Registerï¼‰</h1><p>è¿™ä¸ªåŒºåŸŸå†…å®¹æŒ‡å‘å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œå­—èŠ‚ç è¡Œå·ï¼Œæ˜¯çº¿ç¨‹ç§æœ‰åŒºåŸŸã€‚å’Œæ“ä½œç³»ç»Ÿé‡Œé¢çš„PCæŒ‡é’ˆç±»ä¼¼ï¼Œåªä¸è¿‡è¿™ä¸ªPCæŒ‡é’ˆæŒ‡å‘å½“å‰æ‰§è¡Œçš„å­—èŠ‚ç è¡Œå·ï¼Œæ“ä½œç³»ç»Ÿçš„æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€æ¡æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€ã€‚</p>
<p>éœ€è¦é¢å¤–æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå½“å‰çº¿ç¨‹åœ¨æ‰§è¡ŒJavaç¨‹åºï¼Œé‚£ä¹ˆå¦‚ä¸Šæ‰€è¿°æŒ‡å‘å­—èŠ‚ç è¡Œå·ï¼Œå¦‚æœæ‰§è¡Œçš„æ˜¯Nativeæ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒºåŸŸæ˜¯ç©ºï¼ˆUndefinedï¼‰çš„ã€‚</p>
<p>è¯¥åŒºåŸŸä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹é‡Œé¢æ²¡æœ‰ <code>OutOfMemoryError</code> é”™è¯¯çš„å®šä¹‰çš„åŒºåŸŸã€‚</p>
<h1 id="2-Javaè™šæ‹Ÿæœºæ ˆï¼ˆVM-Stackï¼‰"><a href="#2-Javaè™šæ‹Ÿæœºæ ˆï¼ˆVM-Stackï¼‰" class="headerlink" title="2. Javaè™šæ‹Ÿæœºæ ˆï¼ˆVM Stackï¼‰"></a>2. Javaè™šæ‹Ÿæœºæ ˆï¼ˆVM Stackï¼‰</h1><p>è¯¥åŒºåŸŸçš„å†…å®¹æ˜¯Javaæ–¹æ³•æ‰§è¡Œçš„çº¿ç¨‹å†…å­˜æ¨¡å‹ï¼Œå…·ä½“æ¥è¯´ï¼Œå­˜æ”¾çš„æ˜¯<strong>æ ˆå¸§</strong>ï¼Œåœ¨æ ˆå¸§ä¸­ï¼Œå­˜æ”¾äº†å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆç­‰ä¿¡æ¯ï¼Œå½“ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ª<strong>æ ˆå¸§</strong>æ¥è®°å½•ä¿¡æ¯ï¼Œæ–¹æ³•ä»è¢«è°ƒç”¨åˆ°è¿”å›çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±å¯¹åº”äº†æ ˆå¸§ä»å…¥æ ˆï¼ˆè™šæ‹Ÿæœºæ ˆï¼‰åˆ°å‡ºæ ˆçš„è¿‡ç¨‹ã€‚æ˜¾è€Œæ˜“è§ï¼Œè¿™ä¸ªåŒºåŸŸå¿…é¡»æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œå¦åˆ™å°±æ··ä¹±äº†å‘€ğŸ˜‘ã€‚</p>
<p>è¿™ä¸ªåŒºåŸŸåœ¨ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­ï¼Œè¯¦ç»†å®šä¹‰äº†ä»¥ä¸‹å†…å®¹ï¼š</p>
<ol>
<li>å¦‚æœçº¿ç¨‹æ‰€åˆ›å»ºçš„æ ˆå¸§ä¸ªæ•°å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆæŠ›å‡º <code>StackOverflowError</code> å¼‚å¸¸ã€‚</li>
<li>å¦‚æœåœ¨åˆ›å»ºæ ˆå¸§çš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºå†…å­˜ä¸è¶³æ‰€å¤±è´¥äº†ï¼Œåˆ™ä¼šæŠ›å‡º <code>OutOfMemoryError</code> å¼‚å¸¸ã€‚</li>
</ol>
<h2 id="2-1-è™šæ‹Ÿæœºæ ˆå¼‚å¸¸ç¤ºä¾‹ç¨‹åº"><a href="#2-1-è™šæ‹Ÿæœºæ ˆå¼‚å¸¸ç¤ºä¾‹ç¨‹åº" class="headerlink" title="2.1 è™šæ‹Ÿæœºæ ˆå¼‚å¸¸ç¤ºä¾‹ç¨‹åº"></a>2.1 è™šæ‹Ÿæœºæ ˆå¼‚å¸¸ç¤ºä¾‹ç¨‹åº</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * VM Args: -Xss128k</span></span><br><span class="line"><span class="comment"> * -Xss: å‡å°æ ˆå†…å­˜å®¹é‡</span></span><br><span class="line"><span class="comment"> * è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæµ‹è¯•ï¼ŒæŠ›å‡º StackOverflow å¼‚å¸¸</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JavaVMStackSOF</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> stackLength = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stackLeak</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        stackLength++;</span><br><span class="line">        stackLeak();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        JavaVMStackSOF oom = <span class="keyword">new</span> JavaVMStackSOF();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            oom.stackLeak();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Stack length: &quot;</span> + oom.stackLength);</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äº <code>OutOfMemoryError</code> å°±éœ€è¦æ ¼å¤–å°å¿ƒäº†ï¼Œç¨‹åºå¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ï¼ï¼ éœ€è¦å…ˆä¿å­˜å½“å‰ç³»ç»Ÿçš„å·¥ä½œï¼Œå› ä¸ºè¿™ä¸ªç¨‹åºæ¯”è¾ƒå±é™©ã€‚</span></span><br><span class="line"><span class="comment"> * å¯èƒ½ä¼šé€ æˆç³»ç»Ÿå‡æ­»æˆ–è€…å…¶ä»–å¼‚å¸¸ï¼ˆç”šè‡³å¼ºåˆ¶é‡å¯æ‰å¯ä»¥ä½¿ç”¨ï¼‰ã€‚</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * VM Args: -Xss2m</span></span><br><span class="line"><span class="comment"> * -Xss: å‡å°‘æ ˆå†…å­˜å®¹é‡</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨çº¿ç¨‹æ¥åˆ¶é€ å†…å­˜æº¢å‡ºå¼‚å¸¸</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JavaVMStackOOM</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dontStop</span><span class="params">()</span> </span>&#123; <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;&#125; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stackLeakByThread</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            Thread thread = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123; dontStop(); &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            thread.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        JavaVMStackOOM oom = <span class="keyword">new</span> JavaVMStackOOM();</span><br><span class="line">        oom.stackLeakByThread();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative-Method-Stackï¼‰"><a href="#3-æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative-Method-Stackï¼‰" class="headerlink" title="3. æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰"></a>3. æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰</h1><p>æœ¬åœ°æ–¹æ³•æ ˆâ€œé›·åŒâ€è™šæ‹Ÿæœºæ ˆçš„åŠŸèƒ½ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºå‰è€…è®°å½•çš„æ˜¯æœ¬åœ°æ–¹æ³•çš„æ‰§è¡Œè®°å½•ï¼Œåè€…æ˜¯Javaç¨‹åºçš„æ‰§è¡Œè®°å½•ã€‚</p>
<p>å› ä¸ºè¿™ä¸ªåŒºåŸŸåœ¨ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­å¹¶æ²¡æœ‰è¯¦ç»†è§„å®šæœ¬åœ°æ–¹æ³•çš„å®ç°è¯­è¨€å’Œæ•°æ®ç»“æ„ï¼Œæ‰€ä»¥è™šæ‹Ÿæœºå¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦æ¥è¿›è¡Œæ‰©å±•ã€‚åªä¸è¿‡ï¼Œåœ¨HotSpotè™šæ‹Ÿæœºä¸­ï¼Œæ˜¯æŠŠè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆç»Ÿä¸€æ”¾åˆ°ä¸€èµ·äº†çš„ã€‚</p>
<p>åœ¨å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ä¸Šï¼Œå’Œè™šæ‹Ÿæœºæ ˆä¸€æ ·æ ·ï¼š</p>
<ol>
<li>å¦‚æœçº¿ç¨‹æ‰€åˆ›å»ºçš„æ ˆå¸§ä¸ªæ•°å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆæŠ›å‡º <code>StackOverflowError</code> å¼‚å¸¸ã€‚</li>
<li>å¦‚æœåœ¨åˆ›å»ºæ ˆå¸§çš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºå†…å­˜ä¸è¶³æ‰€å¤±è´¥äº†ï¼Œåˆ™ä¼šæŠ›å‡º <code>OutOfMemoryError</code> å¼‚å¸¸ã€‚</li>
</ol>
<h1 id="4-å †ï¼ˆHeapï¼‰"><a href="#4-å †ï¼ˆHeapï¼‰" class="headerlink" title="4. å †ï¼ˆHeapï¼‰"></a>4. å †ï¼ˆHeapï¼‰</h1><p>æ­¤å †éå½¼å †ï¼Œä¸æ˜¯åŒä¸€å †ğŸ¤ªã€‚ä¸Šç¯‡æ–‡ç« è¯´åˆ°çš„<a href="https://mp.weixin.qq.com/s/kR70YJCAmD7Ym6zd1l4w7w">ã€Šæ¢ç´¢STLï¼šå †æ•°æ®ç»“æ„åŠç®—æ³•ã€‹</a>ï¼Œå’Œè¿™é‡Œçš„å †å®Œå…¨ä¸æ˜¯åŒä¸€ä¸ªæ¦‚å¿µã€‚æ›´ä½•å†µï¼Œè¿™ä¸ªå †æ˜¯Javaè™šæ‹Ÿæœºçš„ä¸œè¥¿ï¼Œé‚£ä¸ªæ˜¯C++çš„ä¸œè¥¿ï¼Œä¸¤ä¸ªæ··æ·†äº†ä¸å¤§å¥½å§ğŸ˜ã€‚</p>
<p>Javaå †å¯ä»¥è¯´æ˜¯æ•´ä¸ªJavaè™šæ‹Ÿæœºä¸­æœ€çµæ´»çš„åœ°æ–¹äº†ï¼Œä¹Ÿæ˜¯æœ€å€¼å¾—ç ”ç©¶çš„åœ°æ–¹äº†ï¼Œç›®å‰å¥½å¤šç ”ç©¶éƒ½æ˜¯å›´ç»•è¿™ä¸ªåŒºåŸŸçš„åƒåœ¾æ”¶é›†ï¼ˆGarbage Collection, GCï¼‰å±•å¼€çš„ã€‚è¿™ä¸ªåŒºåŸŸåœ¨Javaè™šæ‹Ÿæœºå¯åŠ¨ä¹‹åˆå°±åˆ›å»ºå¥½äº†ï¼Œç»™æ‰€æœ‰çº¿ç¨‹å…±äº«ä½¿ç”¨ï¼Œè¿™é‡Œå­˜æ”¾çš„å”¯ä¸€å†…å®¹å°±æ˜¯å¯¹è±¡å®ä¾‹ï¼Œæ‹¿ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­çš„æè¿°æ¥è¯´å°±æ˜¯ï¼š</p>
<blockquote>
<p>  The heap is the runtime data area from which memory for all class instances and arrays is allocated.</p>
</blockquote>
<p>è¿™ä¸€å—å†…å­˜æ˜¯è®¾è®¡æˆå¯æ‰©å±•çš„ï¼Œä½¿ç”¨å‚æ•° <code>-Xmx</code> å’Œ <code>-Xms</code> æ¥è®¾å®šå…è®¸çš„æœ€å¤§å†…å­˜å’Œå…è®¸çš„æœ€å°å†…å­˜ã€‚å½“å†…å­˜ä¸å¤Ÿå®Œæˆå®ä¾‹çš„åˆ›å»ºä¹Ÿä¸èƒ½å®Œæˆå†…å­˜æ‰©å±•æ—¶ï¼Œå°†ä¼šæŠ›å‡º <code>OutOfMemoryError</code> å¼‚å¸¸ã€‚</p>
<h2 id="4-1-å †å†…å­˜æº¢å‡ºç¨‹åºç¤ºä¾‹"><a href="#4-1-å †å†…å­˜æº¢å‡ºç¨‹åºç¤ºä¾‹" class="headerlink" title="4.1 å †å†…å­˜æº¢å‡ºç¨‹åºç¤ºä¾‹"></a>4.1 å †å†…å­˜æº¢å‡ºç¨‹åºç¤ºä¾‹</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * -Xms è®¾ç½®æœ€å°å€¼</span></span><br><span class="line"><span class="comment"> * -Xmx è®¾ç½®æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment"> * -XX:+HeapDumpOnOutOfMemoryError  å½“å‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸æ—¶ï¼ŒDumpå‡ºå½“å‰çš„å†…å­˜è½¬å‚¨å¿«ç…§</span></span><br><span class="line"><span class="comment"> * VM Args: -Xms20m -Xmx20m -XX:+HeapDumpOnOutOfMemoryError</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * å †å†…å­˜æº¢å‡ºå¼‚å¸¸æµ‹è¯•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HeapOOM</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">OOMObject</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;OOMObject&gt; list = <span class="keyword">new</span> ArrayList&lt;OOMObject&gt;();</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> OOMObject());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-æ–¹æ³•åŒºï¼ˆMethod-Areaï¼‰"><a href="#5-æ–¹æ³•åŒºï¼ˆMethod-Areaï¼‰" class="headerlink" title="5. æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰"></a>5. æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰</h1><p>è¿™ä¸ªåŒºåŸŸä¹Ÿæ˜¯çº¿ç¨‹å…±äº«åŒºåŸŸï¼Œé‡Œé¢å­˜æ”¾äº†è¢«è™šæ‹ŸæœºåŠ è½½è¿›æ¥çš„ï¼š</p>
<ul>
<li>ç±»ä¿¡æ¯</li>
<li>å¸¸é‡ã€é™æ€å˜é‡</li>
<li>å³æ—¶ç¼–è¯‘åçš„ç¨‹åº</li>
</ul>
<p>éœ€è¦æ³¨æ„çš„æ˜¯åœ¨è¿™é‡Œæœ‰ä¸€ä¸ªç‰ˆæœ¬åˆ†æ­§ï¼ŒJDK6åŠä»¥å‰çš„ç‰ˆæœ¬ï¼Œæ–¹æ³•åŒºä½¿ç”¨åˆ†ä»£è®¾è®¡æ¥å®ç°è¯¥åŒºåŸŸï¼Œä½†æ˜¯JDK7å°±å¼€å§‹ä¸ä¸€æ ·äº†ï¼Œé¦–å…ˆæ˜¯åœ¨JDK7å§æ”¾åœ¨æ°¸ä¹…ä»£çš„å­—ç¬¦ä¸²å¸¸é‡æ± ã€é™æ€å˜é‡ç§»å‡ºåˆ°äº†æœ¬åœ°å†…å­˜ä¸­ï¼Œåˆ°äº†JDK8ï¼Œå½»åº•å°†æ–¹æ³•åŒºçš„åˆ†ä»£è®¾è®¡æŠ›å¼ƒäº†ï¼Œæ¢æˆäº†ä½¿ç”¨æœ¬åœ°å†…å­˜å®ç°çš„â€œå…ƒç©ºé—´â€ä»£æ›¿ã€‚</p>
<p>è¿™ä¸ªç©ºé—´åœ¨ä¸èƒ½æ»¡è¶³æ–°çš„å†…å­˜åˆ†é…éœ€æ±‚æ—¶ï¼ŒæŠ›å‡º <code>OutOfMemoryError</code> å¼‚å¸¸ã€‚</p>
<h2 id="4-1-æ–¹æ³•åŒºå†…å­˜æº¢å‡ºç¤ºä¾‹ç¨‹åº"><a href="#4-1-æ–¹æ³•åŒºå†…å­˜æº¢å‡ºç¤ºä¾‹ç¨‹åº" class="headerlink" title="4.1 æ–¹æ³•åŒºå†…å­˜æº¢å‡ºç¤ºä¾‹ç¨‹åº"></a>4.1 æ–¹æ³•åŒºå†…å­˜æº¢å‡ºç¤ºä¾‹ç¨‹åº</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> net.sf.cglib.proxy.Enhancer;</span><br><span class="line"><span class="keyword">import</span> net.sf.cglib.proxy.MethodInterceptor;</span><br><span class="line"><span class="keyword">import</span> net.sf.cglib.proxy.MethodProxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * VM Args: -XX:PermSize=10m -XX:MaxPermSize=10m -XX:+HeapDumpOnOutOfMemoryError</span></span><br><span class="line"><span class="comment"> * ä¸Šé¢è¿™ä¸ªè®¾ç½®æ˜¯æ²¡ç”¨çš„ï¼Œå› ä¸ºä»JDK8å¼€å§‹ï¼ŒHotSpotè™šæ‹Ÿæœºå°±æ²¡æœ‰äº†æ°¸ä¹…ä»£è¿™ä¹ˆä¸€è¯´ï¼Œå˜æˆäº†å…ƒç©ºé—´å¯é€šè¿‡è¿™æ ·è®¾ç½®æ¥å®ç°ï¼š</span></span><br><span class="line"><span class="comment"> * VM Args: -XX:MaxMetaspaceSize=10m</span></span><br><span class="line"><span class="comment"> * -XX:MaxMetaspaceSize=10m è®¾ç½®æœ€å¤§å…ƒç©ºé—´ï¼Œé»˜è®¤æ˜¯-1ï¼Œå³ä¸è®¾ç½®å¤§å°ï¼ˆå—é™äºæœ¬åœ°ï¼‰</span></span><br><span class="line"><span class="comment"> * -XX:MetaspaceSize=10m    è®¾ç½®å…ƒç©ºé—´çš„åˆå§‹ç©ºé—´å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œå¦‚æœè¾¾åˆ°äº†è¯¥å€¼ï¼Œå°±ä¼šè§¦å‘åƒåœ¾æ”¶é›†ï¼Œå¹¶ä¸”ä¼šè°ƒæ•´å…ƒç©ºé—´çš„å¤§å°</span></span><br><span class="line"><span class="comment"> * -XX:MinMetaspaceFreeRatio</span></span><br><span class="line"><span class="comment"> * æŠ¥é”™ä¸ºï¼šException in thread &quot;main&quot; java.lang.OutOfMemoryError: Metaspace</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JVMMethodAreaOOM</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">OOMObject</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            Enhancer enhancer = <span class="keyword">new</span> Enhancer();</span><br><span class="line">            enhancer.setSuperclass(OOMObject.class);</span><br><span class="line">            enhancer.setUseCache(<span class="keyword">false</span>);</span><br><span class="line">            enhancer.setCallback(<span class="keyword">new</span> MethodInterceptor() &#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> Object <span class="title">intercept</span><span class="params">(Object o, Method method, Object[] objects, MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> methodProxy.invokeSuper(o, objects);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            enhancer.create();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-1-è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime-Constant-Poolï¼‰"><a href="#5-1-è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime-Constant-Poolï¼‰" class="headerlink" title="5.1 è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰"></a>5.1 è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰</h2><p>è¿™æ˜¯ä¸€ä¸ªç¥å¥‡çš„åŒºåŸŸğŸ˜‰</p>
<p>é¦–å…ˆå®ƒæ˜¯æ–¹æ³•åŒºçš„ä¸€ä¸ªéƒ¨åˆ†ï¼Œåœ¨ç±»æ–‡ä»¶ä¸­æœ‰ä¸€éƒ¨åˆ†å†…å®¹æ˜¯<strong>å¸¸é‡æ± è¡¨</strong>ï¼Œè¿™éƒ¨åˆ†å†…å®¹å­˜æ”¾äº†åœ¨ç¼–è¯‘å™¨ç”Ÿæˆçš„å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼Œåœ¨ç±»åŠ è½½åæ”¾åˆ°æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡ä¸­ã€‚</p>
<p>è¿è¡Œæ—¶å¸¸é‡æ± å…·å¤‡åŠ¨æ€ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥å°†è¿è¡ŒæœŸäº§ç”Ÿçš„å¸¸é‡æ”¾åˆ°æ± å­ä¸­ï¼Œä¾‹å¦‚ <code>String.intern()</code> æ–¹æ³•ã€‚</p>
<p>åŒæ–¹æ³•åŒºå¼‚å¸¸ä¸€æ ·ï¼Œåœ¨å†…å­˜ç”³è¯·ä¸è¶³çš„æ—¶å€™ï¼Œä¼šæŠ›å‡º <code>OutOfMemoryError</code> å¼‚å¸¸ã€‚</p>
<h3 id="5-1-1-è¿è¡Œæ—¶å¸¸é‡æ± å¼‚å¸¸ç¤ºä¾‹ç¨‹åº"><a href="#5-1-1-è¿è¡Œæ—¶å¸¸é‡æ± å¼‚å¸¸ç¤ºä¾‹ç¨‹åº" class="headerlink" title="5.1.1 è¿è¡Œæ—¶å¸¸é‡æ± å¼‚å¸¸ç¤ºä¾‹ç¨‹åº"></a>5.1.1 è¿è¡Œæ—¶å¸¸é‡æ± å¼‚å¸¸ç¤ºä¾‹ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * VM Args: -Xmx2m</span></span><br><span class="line"><span class="comment"> * å› ä¸ºJDK8å·²ç»æŠŠåŸæœ¬æ”¾åœ¨æ°¸ä¹…ä»£çš„å­—ç¬¦ä¸²å¸¸é‡æ± ç§»åˆ°äº† Javaå † ä¸­ï¼Œ</span></span><br><span class="line"><span class="comment"> * æ‰€ä»¥é™åˆ¶äº†å †å¤§å°ä¹‹åï¼Œä¼šæ¨¡æ‹Ÿå‡ºæ¥å †å†…å­˜æº¢å‡ºå¼‚å¸¸</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuntimeConstantPoolOOM</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;String&gt;();</span><br><span class="line">        <span class="keyword">short</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            set.add(String.valueOf(i++).intern());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="6-ç›´æ¥å†…å­˜ï¼ˆDirect-Memoryï¼‰"><a href="#6-ç›´æ¥å†…å­˜ï¼ˆDirect-Memoryï¼‰" class="headerlink" title="6. ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰"></a>6. ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰</h1><p>å¦‚æœæŸ¥ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ï¼Œå¹¶ä¸èƒ½å¤Ÿæ‰¾åˆ°è¿™éƒ¨åˆ†å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¹¶ä¸æ˜¯è™šæ‹Ÿæœºçš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯è¿™éƒ¨åˆ†å†…å®¹ç»å¸¸è¢«ä½¿ç”¨åˆ°ï¼Œä¸¾ä¸ªä¾‹å­ï¼šJDK1.4ä¹‹åå‡ºç°çš„NIOï¼ˆNew Input/Outputï¼‰ï¼Œè®°èµ·æ¥äº†å§ï¼ŸğŸ˜¯è¿™ä¸ªåŸºäºç¼“å†²åŒºï¼ˆBufferï¼‰å’Œé€šé“ï¼ˆChannelï¼‰çš„I/Oæ¨¡å‹ã€‚ä½¿ç”¨æœ¬åœ°å‡½æ•°ç›´æ¥åˆ†é…å †å¤–å†…å­˜ï¼Œç„¶åé€šè¿‡ <code>DirectByteBuffer</code> å¯¹è±¡ä½œä¸ºç”³è¯·åˆ°çš„å †å¤–å†…å­˜å¼•ç”¨ï¼Œå¯ä»¥çœå»åœ¨Javaå †å’Œæœ¬åœ°å†…å­˜ä¸­æ¥å›å¤åˆ¶æ•°æ®ã€‚</p>
<p>å¾ˆæ˜æ˜¾ï¼Œæ—¢ç„¶ä¸å±äºJavaè™šæ‹Ÿæœºçš„èŒƒç•´ï¼Œè‡ªç„¶ä¹Ÿå°±ä¸ä¼šè¢«Javaè™šæ‹Ÿæœºå¤§å°æ‰€é™åˆ¶ï¼Œä¸è¿‡ï¼Œä»ç„¶è¦å—åˆ°æœ¬æœºå†…å­˜çš„é™åˆ¶ã€‚å½“å†…å­˜ç”³è¯·å¤±è´¥æ—¶ï¼Œä¼šæŠ›å‡º <code>OutOfMemoryError</code> å¼‚å¸¸ã€‚</p>
<h2 id="6-1-ç›´æ¥å†…å­˜å¼‚å¸¸ç¤ºä¾‹ç¨‹åº"><a href="#6-1-ç›´æ¥å†…å­˜å¼‚å¸¸ç¤ºä¾‹ç¨‹åº" class="headerlink" title="6.1 ç›´æ¥å†…å­˜å¼‚å¸¸ç¤ºä¾‹ç¨‹åº"></a>6.1 ç›´æ¥å†…å­˜å¼‚å¸¸ç¤ºä¾‹ç¨‹åº</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sun.misc.Unsafe;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * VM Args: -Xmx20m -XX:MaxDirectMemorySize=10m</span></span><br><span class="line"><span class="comment"> * -XX:MaxDirectMemorySize  è®¾ç½®æœ€å¤§ç›´æ¥å†…å­˜ï¼Œé»˜è®¤æ˜¯å’ŒJavaå †ä¿æŒä¸€è‡´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirectMemoryOOM</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> _1MB = <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IllegalAccessException </span>&#123;</span><br><span class="line">        Field unsafeField = Unsafe.class.getDeclaredFields()[<span class="number">0</span>];</span><br><span class="line">        unsafeField.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        Unsafe unsafe = (Unsafe) unsafeField.get(<span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            unsafe.allocateMemory(_1MB);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>å¥½äº†ï¼Œå›¾é‡Œé¢å‡ºç°çš„å„ä¸ªåŒºåŸŸæ‰€èƒ½å‡ºç°çš„é—®é¢˜ï¼Œå·²ç»å·®ä¸å¤šéƒ½é‡åˆ°äº†ï¼ˆè¿™ç§ä¸»åŠ¨çŠ¯é”™çš„æœºä¼šå¯ä¸å¤šğŸ¤”ï¼‰ï¼Œä¹Ÿè¯¥ä¼‘æ¯ä¼‘æ¯ç„¶åå»å¤ä¹ è€ƒè¯•äº†å‘œå‘œå‘œå‘œå‘œğŸ˜–â€¦â€¦</p>
]]></content>
      <categories>
        <category>JVM</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
        <tag>JVMæ€§èƒ½è°ƒä¼˜</tag>
        <tag>è™šæ‹Ÿæœº</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+Githubæ­å»ºä¸ªäººåšå®¢</title>
    <url>/2020/08/28/Hexo-Github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<h1 id="1-å‡†å¤‡ç¯å¢ƒ"><a href="#1-å‡†å¤‡ç¯å¢ƒ" class="headerlink" title="1. å‡†å¤‡ç¯å¢ƒ"></a>1. å‡†å¤‡ç¯å¢ƒ</h1><p>æ‰€éœ€è½¯ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Node.js	-&gt; v12.18.3</span><br><span class="line">npm     -&gt; 6.14.6 </span><br><span class="line">Git     -&gt; 2.16.2.windows1</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="2-å®‰è£…-Hexo"><a href="#2-å®‰è£…-Hexo" class="headerlink" title="2. å®‰è£… Hexo"></a>2. å®‰è£… <code>Hexo</code></h1><p>é¦–å…ˆåœ¨è‡ªå·±çš„ç£ç›˜é‡Œåˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œä¾‹å¦‚ <code>C:\Blog</code>ï¼Œæ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œç„¶åè¾“å…¥<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">C:                      <span class="comment"># è¿›å…¥Cç›˜</span></span><br><span class="line"><span class="built_in">cd</span> Blog	                <span class="comment"># è¿›å…¥ Blog æ–‡ä»¶å¤¹</span></span><br><span class="line">npm install -g hexo-cli <span class="comment"># å®‰è£… hexo è¿™ä¸ªè¿‡ç¨‹è¶…çº§æ¼«é•¿ï¼Œå»ºè®®å»å–ä¸€æ¯å’–å•¡ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹ npm çš„é•œåƒæºçš„è¯</span></span><br></pre></td></tr></table></figure><br>å‡å¦‚ä¸Šé¢çš„è¿‡ç¨‹æ²¡æœ‰å‡ºç°ä»€ä¹ˆå¹ºè›¾å­ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œä¹Ÿæ²¡æœ‰è­¦å‘Šï¼Œé‚£ä¹ˆæ­å–œï¼Œç°åœ¨æ¥åˆ°äº† <code>hexo</code> è½¯ä»¶ã€‚</p>
<h1 id="3-åœ¨-Github-åˆ›å»º-Pages"><a href="#3-åœ¨-Github-åˆ›å»º-Pages" class="headerlink" title="3. åœ¨ Github åˆ›å»º Pages"></a>3. åœ¨ <code>Github</code> åˆ›å»º <code>Pages</code></h1><p>è¿™é‡Œæœ‰ä¸¤ç§åˆ›å»ºçš„æ–¹æ³•ï¼Œå¯ä»¥åˆ›å»º<strong>ä»“åº“</strong>å½’å±çš„ <code>Pages</code>ï¼Œä¹Ÿå¯ä»¥åˆ›å»º<strong>å¸æˆ·</strong>å½’å±çš„ <code>Pages</code>ï¼Œè¿™é‡Œåˆ›å»ºçš„æ˜¯åè€…ï¼ˆè´¦æˆ·å½’å±ï¼‰ï¼Œä¸ä¸ºåˆ«çš„ï¼Œå› ä¸ºå¥½çœ‹ã€‚ä¸¤è€…çš„åŒºåˆ«ä¸»è¦åœ¨ï¼š</p>
<ol>
<li>ä»“åº“å½’å±çš„æœ€ç»ˆè®¿é—®è·¯å¾„ä¸ºï¼š<code>https://github.com/&#123;username&#125;/&#123;repo&#125;</code></li>
<li>è´¦æˆ·å½’å±çš„æœ€ç»ˆè®¿é—®è·¯å¾„ä¸ºï¼š<code>https://&#123;username&#125;.github.io/</code></li>
</ol>
<p>åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œéœ€è¦æŠŠä»“åº“åç§°è®¾ç½®ä¸ºè‡ªå·±çš„è´¦æˆ·åç§°è¿™æ ·æ‰èƒ½å®ç°ä¸Šé¢çš„ç¬¬äºŒç§ã€‚</p>
<h1 id="4-åˆ›å»ºæœ¬åœ°åšå®¢å¹¶æœ¬åœ°é¢„è§ˆ"><a href="#4-åˆ›å»ºæœ¬åœ°åšå®¢å¹¶æœ¬åœ°é¢„è§ˆ" class="headerlink" title="4. åˆ›å»ºæœ¬åœ°åšå®¢å¹¶æœ¬åœ°é¢„è§ˆ"></a>4. åˆ›å»ºæœ¬åœ°åšå®¢å¹¶æœ¬åœ°é¢„è§ˆ</h1><p>å›åˆ°ç¬¬ 2 æ­¥çš„å‘½ä»¤è¡Œä¸­ï¼Œè¾“å…¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init blog     <span class="comment"># åˆå§‹åŒ–åšå®¢ä»“åº“</span></span><br><span class="line">hexo new HelloHexo <span class="comment"># åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« </span></span><br></pre></td></tr></table></figure>
<p>ç„¶åå¯ä»¥åˆ°ç›®å½• <code>C:\Blog\source\_post</code> ç›®å½•ä¸‹çœ‹åˆ° <code>HelloHexo.md</code> æ–‡ä»¶ï¼Œæ‰¾ä¸€ä¸ªç§°æ‰‹çš„ <code>MarkDown</code> ç¼–è¾‘å™¨ï¼Œé€šè¿‡ä¿®æ”¹è¯¥æ–‡ä»¶å†…å®¹æ¥å®Œæˆå†…å®¹ç¼–å†™ã€‚</p>
<p>ä¿®æ”¹å®Œæˆåï¼Œç»§ç»­å›åˆ°ä¸Šé¢çš„å‘½ä»¤è¡Œä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean    <span class="comment"># ï¼ˆå¯é€‰ï¼‰æ¸…é™¤ç¼“å­˜ï¼Œæ–¹ä¾¿åé¢é‡æ–°ç”Ÿæˆ hexo c</span></span><br><span class="line">hexo generate <span class="comment"># ç”Ÿæˆç›¸å…³é¡µé¢ï¼Œä¹Ÿå¯ä»¥ hexo g</span></span><br><span class="line">hexo server   <span class="comment"># å¯åŠ¨æœ¬åœ°é¢„è§ˆï¼Œä¹Ÿå¯ä»¥ hexo s</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±å¯ä»¥åœ¨ <code>http://localhost:4000/</code> ä¸­çœ‹åˆ°è‡ªå·±çš„åšå®¢é¢„è§ˆäº†ï¼Œå¦‚æœæˆåŠŸçœ‹åˆ°ï¼Œé‚£ä¹ˆæ­å–œï¼Œå¯ä»¥å†å–ä¸€æ¯å’–å•¡äº†ğŸ˜ã€‚</p>
<h1 id="5-2020å¹´9æœˆ1æ—¥æ›´æ–°"><a href="#5-2020å¹´9æœˆ1æ—¥æ›´æ–°" class="headerlink" title="5.  2020å¹´9æœˆ1æ—¥æ›´æ–°"></a>5.  2020å¹´9æœˆ1æ—¥æ›´æ–°</h1><p>å½“ä½¿ç”¨ <code>hexo s</code> æ¥å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œç„¶åè¿›å»ç½‘é¡µæŠ¥ç±»ä¼¼äº <code>(node:23020) Warning: Accessing non-existent property &#39;lineno&#39; of module exports inside circular dependency</code> é”™è¯¯æ—¶ï¼Œéœ€è¦å°† <code>node</code> ä» <code>14</code> ç‰ˆæœ¬é™ä¸º <code>12</code> ç‰ˆæœ¬ã€‚</p>
<p>å¦‚æœåœ¨ <code>git bash</code> ä¸­ä½¿ç”¨ <code>Ctrl + c</code> å¿«æ·é”®ç»ˆæ­¢æœåŠ¡æœªå“åº”çš„è¯ï¼Œéœ€è¦æ›´æ–° <code>git</code> ã€‚</p>
]]></content>
      <categories>
        <category>æ£é¼“å°ç©æ„å„¿</category>
      </categories>
      <tags>
        <tag>Github</tag>
        <tag>Hexo</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>JVMæ€§èƒ½ç›‘æ§æ•…éšœå¤„ç†å·¥å…·</title>
    <url>/2020/12/04/Java%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E5%8F%8A%E6%95%85%E9%9A%9C%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/</url>
    <content><![CDATA[<p>åœ¨ææ¸…æ¥šJavaè™šæ‹Ÿæœºåœ¨è¿è¡Œæ—¶çš„å†…å­˜åˆ†å¸ƒçŠ¶å†µï¼Œä»¥åŠè¿è¡Œæ—¶å¯èƒ½å‡ºç°çš„å¼‚å¸¸ç±»å‹ä¹‹åï¼Œè¶çƒ­æ‰“é“é©¬ä¸åœè¹„å°±ç®—å†’ç€æœŸæœ«æŒ‚ç§‘çš„é£é™©ä¹Ÿè¦æ¥ç€ç»§ç»­å­¦ä¹ Javaè™šæ‹ŸæœºğŸ¤ªï¼ˆğŸ˜•è¦æ˜¯ç ”ç©¶ç”Ÿçš„è¯¾éƒ½ä¸è€ƒè¯•è¯¥å¤šå¥½ï¼‰ã€‚<br>ä¸‹æ–‡ä½¿ç”¨åˆ°çš„è™šæ‹Ÿæœºç‰ˆæœ¬åŠæ“ä½œç³»ç»Ÿä¿¡æ¯ä¸ºï¼š</p>
<ul>
<li>Java 11.0.9 2020-10-20 LTS</li>
<li>Windows10, 8.00 GB RAM space</li>
</ul>
<a id="more"></a>
<p>åœ¨å‰é¢çš„æ–‡ç« <a href="https://mp.weixin.qq.com/s/I0lXhTOy5LzJ6q6WeUatGQ">ã€ŠJavaè™šæ‹Ÿæœºå†…å­˜åŠå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‹</a>ä¸­ï¼Œå¯¹Javaè™šæ‹Ÿæœºè¿è¡Œæ—¶å†…å­˜åˆ†å¸ƒçŠ¶å†µæœ‰äº†äº†è§£ï¼Œä¹Ÿè¯•æ¢äº†ä¸€ä¸‹<strong>å †å†…å­˜ã€è™šæ‹Ÿæœºæ–¹æ³•æ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€æ–¹æ³•åŒºã€ç›´æ¥å†…å­˜</strong>å¯èƒ½é‡åˆ°çš„å¼‚å¸¸ã€‚é‚£ä¹ˆä¸‹é¢è¦ä»å¦‚ä½•å»ç›‘æ§ã€åˆ†æè¿™äº›å¯èƒ½å‡ºç°çš„é”™è¯¯ï¼Œè¯¥ä½¿ç”¨ä»€ä¹ˆæ ·çš„å·¥å…·æ¥å¯¹è¿™äº›é—®é¢˜è¿›è¡Œå¤„ç†è¿›è¡Œæ£è…¾ã€‚</p>
<p>å¼€ç¯‡ä¹‹å‰ï¼Œå…ˆæ‹¿å‡ºæ¥ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹é‡Œé¢çš„ä¸€å¥è¯ï¼Œæ„Ÿå—è¿˜æ˜¯æŒºæ·±åˆ»çš„ï¼Œè¿™å¥è¯æ˜¯è¿™ä¹ˆè¯´çš„ï¼š</p>
<blockquote>
<p>  ç»™ä¸€ä¸ªç³»ç»Ÿå®šä½é—®é¢˜æ—¶ï¼Œç»éªŒï¼ŒçŸ¥è¯†æ˜¯åŸºç¡€ï¼Œæ•°æ®æ˜¯ä¾æ®ï¼Œå·¥å…·æ˜¯è¿ç”¨çŸ¥è¯†å’Œç»éªŒå¤„ç†æ•°æ®çš„æ‰‹æ®µã€‚</p>
</blockquote>
<p>åœ¨Javaè™šæ‹Ÿæœºè¿™é‡Œå¯ç”¨åˆ°çš„æ•°æ®æœ‰å †è½¬å‚¨å¿«ç…§ï¼ˆheapdump/hprofï¼‰ï¼Œçº¿ç¨‹å¿«ç…§ï¼ˆthreaddump/javacoreï¼‰ï¼Œè™šæ‹Ÿæœºè¿è¡Œæ—¥å¿—ã€åƒåœ¾æ”¶é›†æ—¥å¿—ç­‰ã€‚</p>
<p>è¿™äº›å·¥å…·åœ¨JDKä¸­å·²æœ‰æä¾›ï¼Œå…·ä½“åœ¨ <code>&#123;JDKå®‰è£…ç›®å½•&#125;/bin/</code> ç›®å½•ä¸‹ï¼Œè¿™äº›å·¥å…·å¹¶ä¸æ˜¯å®Œå…¨å…è´¹ä½¿ç”¨çš„ï¼Œåªä¸è¿‡å¯¹äºæˆ‘ä»¬ç ”ç©¶å­¦ä¹ ä¸ªäººä½¿ç”¨æ¥è¯´ï¼Œæ˜¯å…è´¹çš„ğŸ˜ï¼Œè¯´åˆ°è¿™é‡Œä¸å¾—ä¸æä¸€ä¸‹JetBrainsè½¯ä»¶åŒ…çš„å­¦ç”Ÿä¼˜æƒ çœŸçš„å¤ªæ£’äº†ï¼ğŸ˜‰ã€‚</p>
<p>é‚£ä¹ˆæ¥ç€å°†ä¼šæŠŠ <code>jps, jstat, jinfo, jmap, jhat, jstack, JHSDB, JConsole, VisualVM, Java Mission Control</code> è¿™å‡ ä¸ªè€å“¥æŒ¨ä¸ªæºœä¸€éï¼Œæ··ä¸ªè„¸ç†Ÿï¼Œå¦‚æœèƒ½ä¸€ä¸å°å¿ƒå°±é€ æˆäº†æ°¸ä¹…è®°å¿†ï¼Œä¹Ÿæ˜¯ä¸é”™çš„ç»“æœğŸ˜œã€‚å°±ç®—æ²¡è®°ä½ï¼Œæ—¥åæœ‰éœ€è¦æ—¶ç›´æ¥æ¥æŸ¥ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ¯•ç«Ÿå·¥å…·åƒå˜ä¸‡å˜ï¼ŒåŸç†ä¹Ÿæ˜¯éš¾å¾—ä¸€å˜ã€‚</p>
<blockquote>
<p>  å‘½ä»¤ä¸¾ä¾‹å‚è€ƒè‡ªã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ã€‚</p>
<p>  ä¸‹é¢æ‰€ç§°â€œè™šæ‹Ÿæœºâ€ç‰¹æŒ‡â€œJavaè™šæ‹Ÿæœºâ€æˆ–â€œHotSpotâ€è™šæ‹Ÿæœºã€‚</p>
</blockquote>
<h1 id="1-jps-è™šæ‹Ÿæœºè¿›ç¨‹å·¥å…·"><a href="#1-jps-è™šæ‹Ÿæœºè¿›ç¨‹å·¥å…·" class="headerlink" title="1. jps è™šæ‹Ÿæœºè¿›ç¨‹å·¥å…·"></a>1. <code>jps</code> è™šæ‹Ÿæœºè¿›ç¨‹å·¥å…·</h1><p>æ¯ä¸ªJavaè™šæ‹Ÿæœºå¯åŠ¨åï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªç³»ç»Ÿçº¿ç¨‹ï¼Œé‚£ä¹ˆè¿™ä¸ª <code>jps</code> å°±æ˜¯å¹²è¿™ä»¶äº‹çš„ï¼ˆä¸Linuxä¸‹çš„ <code>ps</code> å‘½ä»¤å·®ä¸å¤šä¸€æ ·ï¼Œåªä¸è¿‡  <code>jps</code> åªæ£€æŸ¥Javaè™šæ‹Ÿæœºçš„ç›¸å…³è¿›ç¨‹ã€‚</p>
<p><code>jps</code> å‘½ä»¤ä¼šåˆ—å‡ºæ­£åœ¨è¿è¡Œçš„Javaè™šæ‹Ÿæœºè¿›ç¨‹ï¼Œå¹¶æ˜¾ç¤ºè™šæ‹Ÿæœºçš„å¯åŠ¨ç±»ï¼Œä»¥åŠè¿™äº›è¿›ç¨‹çš„<strong>æœ¬åœ°è™šæ‹Ÿæœºçº¿ç¨‹å·</strong>ï¼ˆLVMID, Local Virtual Machine Identifierï¼‰ï¼Œè¿™ä¸ª<strong>æœ¬åœ°è™šæ‹Ÿæœºè¿›ç¨‹å·</strong>å¯¹äºåé¢çš„å·¥å…·ä½¿ç”¨æ˜¯éå¸¸é‡è¦çš„ï¼Œå…ˆè®°ä½æœ‰è¿™ä¹ˆä¸ªä¸œè¥¿åœ¨è¿™é‡Œæ”¾ç€ã€‚å‘½ä»¤æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jps [-q] [-mlvV] [&lt;hostid&gt;]</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jps -l</span><br><span class="line">12032 org.jetbrains.jps.cmdline.Launcher</span><br><span class="line">2980 jdk.jcmd/sun.tools.jps.Jps</span><br><span class="line">8236</span><br></pre></td></tr></table></figure>
<p>å¯ç”¨é€‰é¡¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>-m</code> ï¼šåˆ—å‡ºä¼ é€’ç»™å¯åŠ¨ç±»çš„å‚æ•°ï¼Œ <code>public static void main(String[] args)</code> ï¼Œå°±æ˜¯è¿™é‡Œçš„ <code>args</code> ã€‚</li>
<li><code>-l</code> ï¼šåˆ—å‡ºå¯åŠ¨ç±»å…¨åã€‚</li>
<li><code>-v</code> ï¼šåˆ—å‡ºç»™è™šæ‹Ÿæœºçš„å‚æ•°ã€‚</li>
<li><code>-V</code> ï¼šåªåˆ—å‡ºå¯åŠ¨ç±»åç§°ã€æœ¬åœ°è¿›ç¨‹å·ã€‚</li>
</ul>
<h1 id="2-jstat-è™šæ‹Ÿæœºç»Ÿè®¡ä¿¡æ¯ç›‘æ§å·¥å…·"><a href="#2-jstat-è™šæ‹Ÿæœºç»Ÿè®¡ä¿¡æ¯ç›‘æ§å·¥å…·" class="headerlink" title="2. jstat è™šæ‹Ÿæœºç»Ÿè®¡ä¿¡æ¯ç›‘æ§å·¥å…·"></a>2. <code>jstat</code> è™šæ‹Ÿæœºç»Ÿè®¡ä¿¡æ¯ç›‘æ§å·¥å…·</h1><p><code>jstat</code> å…¨ç§° Java Statistics Monitoring Toolï¼Œè¯´çš„æ˜¯ç›‘æ§ç»Ÿè®¡ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è™šæ‹Ÿæœºè¿›ç¨‹ä¸­çš„<strong>ç±»åŠ è½½ï¼Œå†…å­˜ï¼Œåƒåœ¾æ”¶é›†ï¼Œå³æ—¶ç¼–è¯‘</strong>ç­‰è¿è¡Œæ—¶æ•°æ®ã€‚å®ƒçš„å‘½ä»¤ä½¿ç”¨æ–¹æ³•å¯ä½¿ç”¨ <code>--help</code> é€‰é¡¹æ¥æŸ¥è¯¢å¾—åˆ°ï¼Œå‘½ä»¤æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jstat -&lt;option&gt; [-t] [-h&lt;lines&gt;] &lt;vmid&gt; [&lt;interval&gt; [&lt;count&gt;]]</span><br></pre></td></tr></table></figure>
<p>å¯¹äºå¯ç”¨çš„é€‰é¡¹ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥æŸ¥è¯¢ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jstat -options</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¯éš” 250ms æŸ¥è¯¢è¿›ç¨‹å·ä¸º 15144 çš„å †ä½¿ç”¨çŠ¶å†µï¼Œä¸€å…±æŸ¥è¯¢20æ¬¡</span></span><br><span class="line">jstat -gc 15144 250 20</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‘½ä»¤å¥½å°±å¥½åœ¨æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬çŠ¶æ€ä¸‹ä½¿ç”¨çš„ï¼Œè¿™ä¹Ÿæ˜¯å› ä¸ºæœåŠ¡å™¨ä¸Šå¾€å¾€ä¸èƒ½ä½¿ç”¨å›¾å½¢ç•Œé¢ï¼Œè€Œä¸å¾—ä¸ä½¿ç”¨å‘½ä»¤è¡Œçº¯æ–‡æœ¬çš„åŸå› ã€‚</p>
<h1 id="3-jinfo-è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯å·¥å…·"><a href="#3-jinfo-è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯å·¥å…·" class="headerlink" title="3. jinfo è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯å·¥å…·"></a>3. <code>jinfo</code> è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯å·¥å…·</h1><p>è¿™ä¸ªå·¥å…·å¯ä»¥ç”¨æ¥<strong>å®æ—¶æŸ¥çœ‹å’Œè°ƒæ•´</strong>è™šæ‹Ÿæœºå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ <code>-flags</code> æˆ–è€… <code>-flag</code> é€‰é¡¹è¿›è¡ŒæŸ¥è¯¢è™šæ‹Ÿæœºçš„é»˜è®¤å€¼ï¼Œåœ¨JDK6åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>java -XX:+PrintFlagsFinal</code> æ¥ç›´æ¥æŸ¥è¯¢æ‰€æœ‰çš„è™šæ‹Ÿæœºé»˜è®¤å€¼ã€‚å‘½ä»¤æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jinfo &lt;option&gt; &lt;pid&gt;</span><br></pre></td></tr></table></figure>
<p>ç”šè‡³ï¼è¿˜å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥è®¾ç½®å’Œå–æ¶ˆä¸€éƒ¨åˆ†è¿è¡Œæ—¶å¯ä¿®æ”¹çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jinfo -flag [+|-]&lt;name&gt;</span><br><span class="line">jinfo -flag &lt;name&gt;=&lt;value&gt;</span><br></pre></td></tr></table></figure>
<h1 id="4-jmap-è™šæ‹Ÿæœºå†…å­˜æ˜ åƒå·¥å…·"><a href="#4-jmap-è™šæ‹Ÿæœºå†…å­˜æ˜ åƒå·¥å…·" class="headerlink" title="4. jmap è™šæ‹Ÿæœºå†…å­˜æ˜ åƒå·¥å…·"></a>4. <code>jmap</code> è™šæ‹Ÿæœºå†…å­˜æ˜ åƒå·¥å…·</h1><p>è¯¥å‘½ä»¤ç”¨äºç”Ÿæˆ<strong>å †è½¬å‚¨</strong>å¿«ç…§ï¼Œä¹Ÿå°±æ˜¯ <code>heapdump</code> æ–‡ä»¶æˆ–è€… <code>dump</code> æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>*.hprof</code> æ–‡ä»¶ã€‚è¿™ä¸ªå‘½ä»¤è¿˜å¯ä»¥æŸ¥è¯¢ <code>finalize</code> æ‰§è¡Œé˜Ÿåˆ—ï¼Œæ–¹æ³•åŒºã€å †ç©ºé—´çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚ç©ºé—´ä½¿ç”¨ç‡ï¼Œä½¿ç”¨çš„æ˜¯å“ªç§åƒåœ¾æ”¶é›†å™¨ç­‰ã€‚</p>
<ul>
<li>é™¤äº†ç”Ÿæˆå †è½¬å‡ºå¿«ç…§ <code>-dump</code> é€‰é¡¹å’Œç”¨äºæŸ¥çœ‹ç±»å®ä¾‹ã€ç©ºé—´ä½¿ç”¨ç‡çš„ <code>-histo</code> å‘½ä»¤åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸­é€šç”¨ä»¥å¤–ï¼Œå…¶ä»–é€‰é¡¹åªèƒ½åœ¨<strong>Linux/Solaris</strong>æ“ä½œç³»ç»Ÿä¸­ç”¨ã€‚</li>
</ul>
<p>å¯ç”¨å‚æ•°è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jmap -clstats &lt;pid&gt;</span><br><span class="line"><span class="comment"># åˆ—å‡ºåŠ è½½ç±»ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class="line">jmap -finalizerinfo &lt;pid&gt;</span><br><span class="line"><span class="comment"># åˆ—å‡º finalize æ‰§è¡Œé˜Ÿåˆ—ä¿¡æ¯</span></span><br><span class="line">jmap -histo[:live] &lt;pid&gt;</span><br><span class="line"><span class="comment"># åˆ—å‡ºå †ä¿¡æ¯ï¼Œä½¿ç”¨ç›´æ–¹å›¾è¡¨ç¤ºï¼Œå…¶ä¸­çš„ :live æ˜¯å¯é€‰é¡¹ï¼Œåªç»Ÿè®¡å­˜æ´»çš„å¯¹è±¡</span></span><br><span class="line">jmap -dump:&lt;dump-options&gt; &lt;pid&gt;</span><br><span class="line"><span class="comment"># å †è½¬å‚¨</span></span><br><span class="line">jmp -heap</span><br><span class="line"><span class="comment"># æŸ¥çœ‹Javaå †è¯¦æƒ…ï¼Œåªèƒ½ç”¨åœ¨Linuxå’ŒSolarisä¸‹</span></span><br><span class="line">jmp -permstat </span><br><span class="line"><span class="comment"># æŸ¥çœ‹å †ä¸­å¯¹è±¡ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç±»ã€å®ä¾‹æ•°é‡ã€åˆè®¡å®¹é‡ç­‰ï¼ŒåŒæ ·åªèƒ½ç”¨åœ¨ Linuxå’ŒSolarisä¸‹</span></span><br><span class="line"></span><br><span class="line">dump-options:</span><br><span class="line">live         dump only live objects; <span class="keyword">if</span> not specified,</span><br><span class="line">all objects <span class="keyword">in</span> the heap are dumped.</span><br><span class="line">format=b     binary format</span><br><span class="line">file=&lt;file&gt;  dump heap to &lt;file&gt;</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªæ´»ç”Ÿç”Ÿçš„ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jmap -dump:format=b,file=Desktop/log.bin 8236</span><br><span class="line">Heap dump file created</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨ä¸‹æ–‡ä¸­çš„å †è½¬å‚¨å¿«ç…§åˆ†æå·¥å…·è¿›è¡Œåˆ†æã€‚</p>
<h1 id="5-jhat-è™šæ‹Ÿæœºå †è½¬å‚¨å¿«ç…§åˆ†æå·¥å…·ï¼ˆå¾ˆå°‘ç”¨ï¼‰"><a href="#5-jhat-è™šæ‹Ÿæœºå †è½¬å‚¨å¿«ç…§åˆ†æå·¥å…·ï¼ˆå¾ˆå°‘ç”¨ï¼‰" class="headerlink" title="5. jhat è™šæ‹Ÿæœºå †è½¬å‚¨å¿«ç…§åˆ†æå·¥å…·ï¼ˆå¾ˆå°‘ç”¨ï¼‰"></a>5. <code>jhat</code> è™šæ‹Ÿæœºå †è½¬å‚¨å¿«ç…§åˆ†æå·¥å…·ï¼ˆå¾ˆå°‘ç”¨ï¼‰</h1><p>é™¤éæ²¡å…¶ä»–å·¥å…·å¯ç”¨ï¼Œå¦åˆ™ä¸ä¼šç”¨å®ƒï¼Œè¿™ä¸ªå·¥å…·æœ‰ç‚¹ç®€é™‹æœ‰ç‚¹ä¸‘ğŸ˜ğŸ˜‘ğŸ¤¨ï¼Œè®©äººæ„Ÿè§‰æ˜¯ä¸Šä¸ªä¸–çºªçš„è½¯ä»¶ã€‚</p>
<p>å™¢ï¼Œå¯¹äº†ï¼Œè¿™ä¸ªå·¥å…·æ˜¯åœ¨JDK8çš„ <code>bin</code> ç›®å½•ä¸­æ‰¾åˆ°çš„ï¼ŒJDK11æ„£æ˜¯æ²¡æ‰¾åˆ°ğŸ˜…ï¼Œéš¾ä¸æˆæ˜¯åˆ æ‰äº†ï¼ŸğŸ¤”ï¼Œä¸ç®¡æ€æ ·ï¼Œæ‰¾åˆ°äº†å…ˆæ‹¿æ¥ç”¨ç”¨çœ‹ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./jhat /Desktop/log.bin</span><br><span class="line">Reading from /Desktop/log.bin...</span><br><span class="line">Dump file created Fri Dec 04 16:32:39 CST 2020</span><br><span class="line">Snapshot <span class="built_in">read</span>, resolving...</span><br><span class="line">Resolving 31834 objects...</span><br><span class="line">Chasing references, expect 6 dots......</span><br><span class="line">Eliminating duplicate references......</span><br><span class="line">Snapshot resolved.</span><br><span class="line">Started HTTP server on port 7000</span><br><span class="line">Server is ready.</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ‰“å¼€æœ¬åœ°æµè§ˆå™¨ä»¥çœ‹ï¼Œå™«ï¼çœŸçš„ä¸æ˜¯å¾ˆå¥½çœ‹çš„è½¯ä»¶ç•Œé¢ğŸ¤£ã€‚</p>
<p><img data-src="https://s3.ax1x.com/2020/12/04/DbNaY8.png" alt="jhatè½¯ä»¶ç•Œé¢å›¾" style="zoom:50%;" /></p>
<p>ä¸è¿‡ï¼Œç”¨çš„å¥½è¿˜æ˜¯å¯ä»¥ç”¨çš„ï¼Œä¾‹å¦‚ä½¿ç”¨ä¸Šå›¾ä¸­çš„ <code>show heap histogram</code> æ ‡ç­¾é¡µå¿«é€ŸæŸ¥è¯¢å †æƒ…å†µã€‚</p>
<h1 id="6-jstack-è™šæ‹Ÿæœºå †æ ˆè·Ÿè¸ªå·¥å…·"><a href="#6-jstack-è™šæ‹Ÿæœºå †æ ˆè·Ÿè¸ªå·¥å…·" class="headerlink" title="6. jstack è™šæ‹Ÿæœºå †æ ˆè·Ÿè¸ªå·¥å…·"></a>6. <code>jstack</code> è™šæ‹Ÿæœºå †æ ˆè·Ÿè¸ªå·¥å…·</h1><p>æŸ¥è¯¢è™šæ‹Ÿæœºå½“å‰æ—¶åˆ»çš„çº¿ç¨‹å¿«ç…§ï¼Œä¾‹å¦‚ <code>threaddump</code> æ–‡ä»¶æˆ–è€… <code>javacore</code> æ–‡ä»¶ã€‚çº¿ç¨‹å¿«ç…§ä¸»è¦åæ˜ äº†è™šæ‹Ÿæœºæ ˆçš„ä¿¡æ¯ï¼Œä¸è¿‡ä¹Ÿæœ‰å †çš„ä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡è¿™ä¸ªå·¥å…·æ¥åˆ†æåˆ°åº•æ²¡æœ‰å“åº”çš„ç¨‹åºåˆ°åº•åœ¨åå°å¹²äº†äº›å•¥ã€‚å‘½ä»¤æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jstack [-l][-e] &lt;pid&gt;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­çš„å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-l  éœ€è¦æŸ¥è¯¢å…³äºé”çš„ä¿¡æ¯</span><br><span class="line">-e  æ‰“å°å…³äºçº¿ç¨‹çš„ä¿¡æ¯</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‘½ä»¤äº§ç”Ÿçš„è¾“å‡ºçœŸçš„å¤ªé•¿å¤ªé•¿ï¼Œéœ€è¦æ—¶å€™å†æŒ¨ä¸ªæŸ¥è¯¢ï¼Œæ€»ä¹‹å…ˆè®°ä½è¿™ä¸ªå·¥å…·çš„å­˜åœ¨å’ŒåŠŸèƒ½ğŸ˜‹ã€‚</p>
<h1 id="7-å¯è§†åŒ–å·¥å…·å¤§å®¶åº­"><a href="#7-å¯è§†åŒ–å·¥å…·å¤§å®¶åº­" class="headerlink" title="7. å¯è§†åŒ–å·¥å…·å¤§å®¶åº­"></a>7. å¯è§†åŒ–å·¥å…·å¤§å®¶åº­</h1><p>åœ¨è¿™éƒ¨åˆ†ï¼Œå°±å¾ˆç®€å•äº†ã€‚å°¤å…¶åœ¨æ˜ç™½åŸç†çš„æƒ…å†µä¸‹ï¼Œè¿™äº›å¯è§†åŒ–å·¥å…·ä¹Ÿå°±æ²¡é‚£ä¹ˆç¥å¥‡äº†ï¼Œé¼ æ ‡ç‚¹ç‚¹ç‚¹ï¼Œæ»‘å—æ‹–æ‹–æ‹–ï¼Œå†ä¸æµè¾“å…¥ç‚¹å°æŒ‡ä»¤ä¹Ÿå°±å®Œäº‹äº†ã€‚ä½†æ˜¯ä¸€å®šè¦çŸ¥é“è¿™äº›å·¥å…·çš„å­˜åœ¨ã€‚</p>
<ul>
<li>JHSDBï¼šåŸºäºæœåŠ¡æ€§ä»£ç†çš„è°ƒè¯•å·¥å…·ï¼Œéœ€è¦åœ¨JDK9ä¹‹ä¸Šæ‰å¯ä»¥ç”¨ï¼Œé™„èµ åœ¨JDKçš„ <code>bin</code> ç›®å½•ä¸‹ã€‚</li>
<li>JConsoleï¼šJavaç›‘è§†ä¸ç®¡ç†æ§åˆ¶å°ï¼Œåœ¨JDKçš„ <code>bin</code> ç›®å½•ä¸‹å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</li>
<li>VisualVMï¼šå¤šåˆä¸€æ•…éšœå¤„ç†å·¥å…·ï¼Œåœ¨JDK8ä»¥ä¸‹é»˜è®¤é™„å¸¦åœ¨JDKå·¥å…·åŒ…ä¸­ï¼Œä½†æ˜¯ä¹‹åä¾‹å¦‚JDK11éœ€è¦å•ç‹¬ä¸‹è½½ï¼Œå™¢ï¼Œå¯¹ï¼è¿™ä¸ªè½¯ä»¶è¿˜æœ‰ä¸€ç‚¹å¾ˆå‰å®³ï¼Œå¯ä»¥æ”¯æŒæ’ä»¶å®‰è£…ã€‚</li>
<li>Java Mission Controlï¼šæŒç»­åœ¨çº¿çš„ç›‘æ§å·¥å…·ï¼Œå¯¹æœåŠ¡å™¨çš„ååé‡å½±å“å¾ˆå°ï¼Œè€Œä¸”è¯¥è½¯ä»¶çš„å¯åŠ¨åœæ­¢æ˜¯åŠ¨æ€çš„ï¼Œä¸éœ€è¦é‡å¯åº”ç”¨ï¼Œä½¿ç”¨JMXé€šä¿¡åè®®å®ç°ã€‚</li>
<li>HSDISï¼šJITç”Ÿæˆä»£ç åæ±‡ç¼–ã€‚</li>
</ul>
<hr>
<p>è¿˜æ˜¯å›åˆ°å¼€å¤´é‚£å¥è¯ï¼Œå·¥å…·åªæ˜¯ä¸€ç§å·¥å…·ï¼Œåªæœ‰æ˜ç™½äº†åŸºæœ¬åŸç†å’Œåº•å±‚è®¾è®¡ç»†èŠ‚ï¼Œè¿™äº›å·¥å…·ç”¨èµ·æ¥æ‰å¯ä»¥å¾—å¿ƒåº”æ‰‹ï¼Œåœ¨èŒä¸šé“è·¯ä¸Šæ‰å¯ä»¥å¦‚è™æ·»ç¿¼ğŸ˜‰ã€‚</p>
<p>å¥½å•¦~åƒé¥­å»ğŸ™‚</p>
]]></content>
      <categories>
        <category>JVM</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
        <tag>JVMæ€§èƒ½è°ƒä¼˜</tag>
        <tag>è™šæ‹Ÿæœº</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€STLå®¹å™¨æ¢ç´¢ã€‘vector</title>
    <url>/2020/11/14/STL%E5%AE%B9%E5%99%A8%E6%8E%A2%E7%B4%A2-vector/</url>
    <content><![CDATA[<p>ç”¨äº†è¿™ä¹ˆä¹…çš„ <code>vector</code> ï¼Œä»Šå¤©ç»ˆäºæœ‰æ—¶é—´æ¥çœ‹ä¸‹STLçš„å®ç°æºç äº†ï¼Œå¼€å¿ƒğŸ˜‰~</p>
<a id="more"></a>
<p>æœ€è¿‘å‡ ä¸ªæœˆåœ¨åˆ· <code>leetcode</code> ï¼Œç”¨çš„è¾ƒå¤šçš„æ•°æ®ç»“æ„å°±æ˜¯STLé‡Œé¢çš„ <code>vector</code> äº†ï¼Œç›¸æ¯”è¾ƒäºç›´æ¥çš„ <code>array</code> æ•°ç»„ï¼Œå®ƒå…·å¤‡äº†çµæ´»åœ°æ ¹æ®éœ€æ±‚å»åˆ†é…ç®¡ç†å†…å­˜ï¼Œç”¨æˆ·åªç®¡å¾€é‡Œé¢æ‰”ä¸œè¥¿ï¼Œæ‹¿ä¸œè¥¿ï¼Œè€Œä¸ç”¨è´¹å¿ƒè´¹åŠ›å»è§£å†³C++é‡Œé¢çš„åŠ¨æ€å†…å­˜é—®é¢˜ã€‚</p>
<p>é‚£ä¹ˆå¤§è‡´çŒœæƒ³ä¸€ä¸‹ï¼Œè¦å®ç°ä¸€ä¸ªè¿™æ ·çš„å®¹å™¨ï¼Œä¸éš¾æƒ³å‡ºåœ¨ <code>vector</code> ä¸­è‡³å°‘å­˜åœ¨è¿™æ ·ä¸‰ä¸ªç§æœ‰æˆå‘˜ï¼š<code>headï¼ˆæŒ‡å‘åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼‰, tailï¼ˆæŒ‡å‘åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ä½ç½®ï¼‰, sizeï¼ˆå®¹å™¨å¤§å°ï¼‰</code> ï¼Œ</p>
<p>æ‰“å¼€æºç çœ‹çœ‹ï¼Œå¾—åˆ°éªŒè¯ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Tp, <span class="keyword">typename</span> _Alloc&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> _<span class="title">Vector_base</span> &#123;</span></span><br><span class="line">    ......</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> _<span class="title">Vector_impl_data</span> &#123;</span></span><br><span class="line">        pointer _M_start; 	<span class="comment">// æŒ‡å‘å®¹å™¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡é’ˆç±»å‹ä¸º Tp æ‰€ç¤ºç±»å‹</span></span><br><span class="line">        pointer _M_finish;	<span class="comment">// æŒ‡å‘å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆ</span></span><br><span class="line">        pointer _M_end_of_storage; <span class="comment">// æŒ‡å‘å®¹å™¨æœ€åçš„ä½ç½®</span></span><br><span class="line">        ......</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Tp, <span class="keyword">typename</span> _Alloc = <span class="built_in">std</span>::allocator&lt;_Tp&gt; &gt;</span><br><span class="line">class <span class="built_in">vector</span> : <span class="keyword">protected</span> _Vector_base&lt;_Tp, _Alloc&gt; &#123;</span><br><span class="line">    <span class="keyword">typedef</span> _Vector_base&lt;_Tp, _Alloc&gt; _Base; <span class="comment">// å¦‚ä¸Š _Vector_base æ‰€ç¤ºï¼Œæ˜¯ä¸€ä¸ªåŸºç¡€å®ç°</span></span><br><span class="line">    ......</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">typedef</span> _Tp value_type; 	<span class="comment">// æ•°æ®ç±»å‹</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> _Base::pointer pointer; <span class="comment">// å…¨å±€æ•°æ®æŒ‡é’ˆ</span></span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ä¹‹å°±æ˜¯ä¸€å±‚å¥—ä¸€å±‚ï¼Œå°è£…äº†ä¸€ä¸ªåˆä¸€ä¸ªï¼Œæ¥å®Œæˆå¯¹æ•°æ®çš„æŠ½è±¡ã€‚ä½†æ˜¯æœ€åçš„æ¥å£æ˜¯æ”¾åœ¨ <code>vector</code> ä¸Šæ”¾å¼€çš„ã€‚</p>
<p><code>vector</code> æ”¯æŒåŠ¨æ€å†…å­˜åˆ†é…ï¼Œæ”¯æŒéšæœºå­˜å–è®¿é—®ï¼Œå› æ­¤åœ¨æ•°æ®è®¿é—®ä¸Šå…·å¤‡äº†æŒ‡é’ˆæœ‰çš„ç‰¹æ€§ã€‚é‚£ä¹ˆå®ƒåœ¨æºç ä¸Šæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿé¦–å…ˆæ¥çœ‹å®ƒçš„æ¥å£ï¼ˆä¸€éƒ¨åˆ†å¸¸ç”¨æ¥å£ï¼‰éƒ½æœ‰å“ªäº›ï¼š</p>
<p><strong>æ³¨ï¼š</strong>è™½ç„¶åŒ…å« <code>&lt;vector&gt;</code> å¤´æ–‡ä»¶å°±å¯ä»¥ç”¨ <code>vector</code> ï¼Œä½†æ˜¯å®ƒçš„å®ç°æºç å…¶å®æ˜¯åœ¨ <code>bits/stl_vector.h</code> ä¸‹çš„ï¼Œè€Œä¸”ä¸‹é¢çš„ç¨‹åºåˆ æ‰äº†ä¸€äº›æ³¨é‡Šç±»ã€ç³»ç»Ÿåˆ¤æ–­ç±»å‡½æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Tp, <span class="keyword">typename</span> _Alloc = <span class="built_in">std</span>::allocator&lt;_Tp&gt; &gt;</span><br><span class="line">class <span class="built_in">vector</span> : <span class="keyword">protected</span> _Vector_base&lt;_Tp, _Alloc&gt; &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// è·å–æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆ</span></span><br><span class="line">    iterator <span class="built_in">begin</span>() &#123; <span class="keyword">return</span> iterator(<span class="keyword">this</span>-&gt;_M_impl._M_start); &#125;</span><br><span class="line">    <span class="comment">// è·å–æŒ‡å‘å®¹å™¨æœ€åä¸€ä¸ªå¯å­˜æ”¾ä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®</span></span><br><span class="line">    <span class="function">iterator <span class="title">end</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> iterator(<span class="keyword">this</span>-&gt;_M_impl._M_finish); &#125;</span><br><span class="line">    <span class="comment">// è·å–å®¹å™¨å½“å‰å­˜æ”¾äº†å¤šå°‘å…ƒç´ </span></span><br><span class="line">    <span class="function">size_type <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> size_type(<span class="keyword">this</span>-&gt;_M_impl._M_finish - <span class="keyword">this</span>-&gt;_M_impl._M_start); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¯¹å®¹å™¨è¿›è¡Œé‡æ–°åˆ†é…å¤§å°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">resize</span><span class="params">(size_type __new_size)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (__new_size &gt; <span class="built_in">size</span>())</span><br><span class="line">            _M_default_append(__new_size - <span class="built_in">size</span>());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (__new_size &lt; <span class="built_in">size</span>())</span><br><span class="line">            _M_erase_at_end(<span class="keyword">this</span>-&gt;_M_impl._M_start + __new_size);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·å–å®¹å™¨è‡ªèº«å¤§å°</span></span><br><span class="line">    <span class="function">size_type <span class="title">capacity</span><span class="params">()</span> <span class="keyword">const</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size_type(<span class="keyword">this</span>-&gt;_M_impl._M_end_of_storage</span><br><span class="line">                         - <span class="keyword">this</span>-&gt;_M_impl._M_start);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// çœ‹çœ‹å®¹å™¨å½“å‰æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span>  </span>&#123; <span class="keyword">return</span> <span class="built_in">begin</span>() == <span class="built_in">end</span>(); &#125;</span><br><span class="line">    <span class="comment">// è·å–ä¸€ä¸ªèƒ½å¤Ÿå¯¹è¿”å›å¯¹è±¡è¯»å†™æ“ä½œçš„å¼•ç”¨ç±»å‹ï¼Œå…¶å®å°±æ˜¯æŒ‡é’ˆ</span></span><br><span class="line">    reference <span class="keyword">operator</span>[](size_type __n)  &#123;</span><br><span class="line">        <span class="keyword">return</span> *(<span class="keyword">this</span>-&gt;_M_impl._M_start + __n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="comment">// æ£€æŸ¥è®¿é—®æ˜¯å¦åˆæ³•</span></span><br><span class="line">    <span class="keyword">void</span> _M_range_check(size_type __n) <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (__n &gt;= <span class="keyword">this</span>-&gt;<span class="built_in">size</span>())</span><br><span class="line">            __throw_out_of_range_fmt(__N(<span class="string">&quot;vector::_M_range_check: __n &quot;</span></span><br><span class="line">                                         <span class="string">&quot;(which is %zu) &gt;= this-&gt;size() &quot;</span></span><br><span class="line">                                         <span class="string">&quot;(which is %zu)&quot;</span>),</span><br><span class="line">                                     __n, <span class="keyword">this</span>-&gt;<span class="built_in">size</span>());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// è·Ÿ [] æ“ä½œç¬¦å·®ä¸å¤šï¼Œåªä¸è¿‡å¤šäº†ä¸€å±‚èŒƒå›´æ£€æŸ¥</span></span><br><span class="line">    <span class="function">reference <span class="title">at</span><span class="params">(size_type __n)</span> </span>&#123;</span><br><span class="line">        _M_range_check(__n);</span><br><span class="line">        <span class="keyword">return</span> (*<span class="keyword">this</span>)[__n];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·å–èƒ½å¤Ÿå¯¹å¤´éƒ¨å…ƒç´ è¯»å†™çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="function">reference <span class="title">front</span><span class="params">()</span>  </span>&#123; <span class="keyword">return</span> *<span class="built_in">begin</span>(); &#125;</span><br><span class="line">    <span class="comment">// è·å–æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="function">reference <span class="title">back</span><span class="params">()</span>  </span>&#123; <span class="keyword">return</span> *(<span class="built_in">end</span>() - <span class="number">1</span>); &#125;</span><br><span class="line">    <span class="comment">// å‘å®¹å™¨æœ«å°¾è¿½åŠ ä¸€ä¸ªå…ƒç´ è¿›æ¥</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(value_type &amp;&amp;__x)</span> </span>&#123; emplace_back(<span class="built_in">std</span>::<span class="built_in">move</span>(__x)); &#125;</span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span>... _Args&gt;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> __cplusplus &gt; 201402L</span></span><br><span class="line">    reference</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">    <span class="keyword">void</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    emplace_back(_Args &amp;&amp;... __args);</span><br><span class="line">    <span class="comment">// å°†æœ€åä¸€ä¸ªå…ƒç´ ä»å®¹å™¨ä¸­åˆ æ‰</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop_back</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        --<span class="keyword">this</span>-&gt;_M_impl._M_finish;</span><br><span class="line">        _Alloc_traits::destroy(<span class="keyword">this</span>-&gt;_M_impl, <span class="keyword">this</span>-&gt;_M_impl._M_finish);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åœ¨æŒ‡å®šä½ç½®æ’å…¥ n ä¸ª __x</span></span><br><span class="line">    <span class="function">iterator <span class="title">insert</span><span class="params">(const_iterator __position, size_type __n, <span class="keyword">const</span> value_type &amp;__x)</span> </span>&#123;</span><br><span class="line">        difference_type __offset = __position - cbegin();</span><br><span class="line">        _M_fill_insert(<span class="built_in">begin</span>() + __offset, __n, __x);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">begin</span>() + __offset;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ“¦é™¤æ‰æŸä¸€ä¸ªä½ç½®ä¸Šçš„å…ƒç´ </span></span><br><span class="line">    <span class="function">iterator <span class="title">erase</span><span class="params">(const_iterator __position)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> _M_erase(<span class="built_in">begin</span>() + (__position - cbegin())); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// äº¤æ¢ä¸¤ä¸ªå®¹å™¨ä¸­çš„ä¸œè¥¿</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="built_in">vector</span> &amp;__x)</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;_M_impl._M_swap_data(__x._M_impl);</span><br><span class="line">        _Alloc_traits::_S_on_swap(_M_get_Tp_allocator(),</span><br><span class="line">                                  __x._M_get_Tp_allocator());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†å®¹å™¨å†…æ‰€æœ‰å…ƒç´ æ¸…ç©º</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span>  </span>&#123; _M_erase_at_end(<span class="keyword">this</span>-&gt;_M_impl._M_start); &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ç¨‹åºä¸­å¤§é‡å‡ºç°çš„ <code>allocator</code> ï¼Œæ˜¯æ¥è‡ªSGI STLçš„ç©ºé—´åˆ†é…å™¨ï¼Œè¯´ç™½äº†å°±æ˜¯ç”¨æ¥åˆ†é…ç©ºé—´å†…å­˜çš„ã€‚åœ¨æ‹¿åˆ°è¿™éƒ¨åˆ†æºç åï¼Œ<code>vector</code> çš„å®ç°åŸç†ä¹Ÿå°±å¯ä»¥å¤§è‡´æœ‰æ‰€æŒæ¡äº†ï¼ˆæ¯•ç«Ÿæ¯ä¸ªæ¥å£ä¹Ÿä¸è¿‡å‡ è¡ŒğŸ¤—ï¼Œè¿™å¯èƒ½å°±æ˜¯ä¼˜ç§€è®¾è®¡çš„ç»“æœï¼ŸğŸ˜‰ï¼‰ã€‚è€Œåœ¨è°ƒç”¨è¿‡ç¨‹ä¸­æ— éå°±æ˜¯ <code>vector</code> è°ƒç”¨ <code>vector_base</code> å†è°ƒç”¨ <code>allocator</code> å†å¯¹ <code>_Vector_impl_data</code> è¿›è¡Œæ“ä½œã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šåœ¨æ·»åŠ å…ƒç´ è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå®¹å™¨æ»¡äº†ï¼Œé‚£ä¹ˆå®¹å™¨çš„å®¹é‡æ˜¯æŒ‰ç…§æ€æ ·çš„è§„åˆ™é€’å¢å‘¢ï¼Ÿå‚è€ƒäº†ã€ŠSTLæºç åˆ¨æã€‹ä¹‹åï¼Œå¾—åˆ°è¿™æ ·çš„ç»“è®ºï¼š</p>
<blockquote>
<p>  å¦‚æœè¶…è¿‡å½“å‰å®¹å™¨å®¹é‡ï¼Œé‚£ä¹ˆå®¹é‡ä¼šæ‰©å¢è‡³ä¸¤å€ï¼Œå¦‚æœä¸¤å€å®¹é‡ä»ä¸å¤Ÿï¼Œé‚£ä¹ˆå°±æ‰©å¼ è‡³è¶³å¤Ÿå¤§çš„å®¹é‡ã€‚</p>
<p>  åœ¨å®¹é‡çš„æ‰©å¼ è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»ç»å†â€œé‡æ–°åˆ†é…å†…å­˜ï¼Œå…ƒç´ ç§»åŠ¨ï¼Œé‡Šæ”¾åŸæœ‰ç©ºé—´â€ä¸‰ä¸ªæ“ä½œï¼Œè¿™æ˜¯å› ä¸ºåŸæœ‰çš„ç©ºé—´ä¹‹åä¸ä¸€å®šèƒ½å¤Ÿæ»¡è¶³éœ€æ±‚ï¼Œæ‰€ä»¥ç»Ÿä¸€è¿›è¡Œè¿™ä¸‰ä¸ªæ“ä½œæ¥å®Œæˆã€‚</p>
</blockquote>
<p>å¦‚ä½•çŸ¥é“æ˜¯æ‰©å¢ä¸¤å€çš„å‘¢ï¼Ÿæœ€ç›´è§‚ç›´æ¥çš„æ–¹æ³•å°±æ˜¯æ‰§è¡Œä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹çœ‹çœ‹ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">    v.push_back(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; v.capacity() &lt;&lt; <span class="built_in">endl</span>;    <span class="comment">// &gt;: 1 1</span></span><br><span class="line">    v.push_back(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; v.capacity() &lt;&lt; <span class="built_in">endl</span>;    <span class="comment">// &gt;: 2 2</span></span><br><span class="line">    v.push_back(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; v.capacity() &lt;&lt; <span class="built_in">endl</span>;    <span class="comment">// &gt;: 3 4</span></span><br><span class="line">    v.push_back(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; v.capacity() &lt;&lt; <span class="built_in">endl</span>;    <span class="comment">// &gt;: 4 4</span></span><br><span class="line">    v.push_back(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; v.capacity() &lt;&lt; <span class="built_in">endl</span>;    <span class="comment">// &gt;: 5 8</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„å®¹é‡æ‰©å¼ è¿‡ç¨‹ï¼Œä¹Ÿå¸¦æ¥å¦ä¸€ä¸ªé—®é¢˜ï¼šå½“å®¹é‡ä¸º <code>2</code> æ—¶è·å–åˆ°çš„ <code>iterator</code> ï¼Œé‚£ä¹ˆåœ¨å®¹é‡ä¸º <code>8</code> æ—¶ï¼Œè¿˜å¯ä»¥ç”¨å˜›ï¼Ÿç­”æ¡ˆæ˜¯<strong>ä¸ä¸€å®šè¡Œ</strong>ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">    v.push_back(<span class="number">1</span>);</span><br><span class="line">    v.push_back(<span class="number">2</span>);</span><br><span class="line">    v.push_back(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">auto</span> iter = v.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *iter &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 1</span></span><br><span class="line">    v.push_back(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *iter &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 1</span></span><br><span class="line">    v.push_back(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *iter &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 310076128[å…·ä½“è¿è¡Œç»“æœè§†å†…å­˜æƒ…å†µè€Œå®š]</span></span><br><span class="line">    iter = v.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *iter &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ç”±æ­¤å¯çŸ¥ï¼Œå¦‚æœå½“æ—¶çš„å†…å­˜ç¯å¢ƒå…è®¸ï¼Œä¼šç›´æ¥æ‹¼åˆ°åŸæœ‰å®¹å™¨åé¢å»ï¼Œå¦‚æœä¸å…è®¸ï¼Œé‚£ä¹ˆå°±éœ€è¦æŠŠå½“å‰å®¹å™¨çš„å†…å®¹ç§»åŠ¨åˆ°å…¶ä»–åœ°æ–¹å»äº†ï¼Œè¿™æ—¶å€™åŸæ¥çš„</strong> <code>iterator</code> <strong>å°±ä¸èƒ½ç”¨äº†ã€‚åŠ¡å¿…å°å¿ƒï¼</strong></p>
<p>ä»è¿™ä¸€æ–¹é¢ä¹Ÿå¯ä»¥ä½“ä¼šåˆ°ï¼Œå…¶å® <code>iterator</code> å°±æ˜¯ä¸€ä¸ªç±»å‹ä¸ºä¼ å…¥ <code>vector&lt;T&gt;</code> ä¸­ <code>T</code> ç±»å‹çš„æŒ‡é’ˆã€‚</p>
<p>åœ¨æ‰€æœ‰çš„æ¥å£ä¸­ï¼Œè§‰å¾—æœ€æœ‰æ„æ€çš„å°±æ˜¯ <code>insert</code> æ¥å£äº†ğŸ˜ï¼Œå®ƒçš„å®ç°è¿‡ç¨‹æ¯”è¾ƒå¥½ç©ã€‚</p>
<p>é¦–å…ˆï¼Œå‡è®¾è°ƒç”¨å‡½æ•°ä¸ºï¼š<code>insert(position, n, x)</code> ï¼Œè€Œä¸”å‰©ä½™ç©ºé—´å¤Ÿç”¨ï¼Œé‚£ä¹ˆå®ƒéœ€è¦åˆ†æˆä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li>æ’å…¥å…ƒç´ ä¸ªæ•° <strong>n &lt; æ’å…¥ç‚¹ä¹‹åçš„å…ƒç´ ä¸ªæ•°</strong> ã€‚</li>
<li>æ’å…¥å…ƒç´ ä¸ªæ•° <strong>n &gt; æ’å…¥ç‚¹ä¹‹åçš„å…ƒç´ ä¸ªæ•°</strong> ã€‚</li>
</ol>
<p>ä¸Šé¢ä¸¤ç§æƒ…å†µåˆ†åˆ«å¯¹åº”ä¸‹é¢å›¾ä¸­çš„å·¦å³ä¸¤è¾¹ï¼š</p>
<p><img data-src="https://s3.ax1x.com/2020/11/14/DPVQnU.jpg" alt="å†…å­˜æ“ä½œç¤ºæ„å›¾ï¼ˆå‚è€ƒè‡ªã€ŠSTLæºç åˆ¨æã€‹ï¼‰"></p>
<p>åœ¨æœ‰é™çš„è¿‡ç¨‹å’Œç©ºé—´é‡Œå®ç°æœ€é«˜æ•ˆçš„æ“ä½œï¼Œä¸æ„§æ˜¯STLğŸ™‚ğŸ™‚ğŸ™‚ã€‚</p>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>STL</tag>
        <tag>å®¹å™¨</tag>
        <tag>æºç åˆ†æ</tag>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello Worldï¼</title>
    <url>/2020/08/27/hello-world/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="å•Šå¶ï¼Œå¯†ç ä¸å¤§å¯¹" data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">å“¦å¼ï¼Ÿéœ€è¦å¯†ç æ‰èƒ½çœ‹~ğŸ¤”</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="51f9fef9ce0d1847282e5e840ee1457a920059dd70106abc45727bf157e25499">bc206bc0c013051c70f75f9b6dfbfcaa8f1e981ef933fd63e36206be14784b135b8d8e771c3c0af2254037f4410f1d36dd1d110c00867c02da9746f9609e0c77724951d075eb3bd522b1ac665b4baf50a307b3f82a66c1854749b7135c54dc051b8a5b1253a7dd7cd637918a0e6d2e33ad6b162b9901a7415409cf5c6c6124a0e81bff9f7b7338154579f5572481d21dce6bf382c550ad7fee60cc83b43c87f86bea41bd3a9cf443f67cd995ed4b6676f2ff23a001b5f81735b80bd19219a4fc657227220695256fc865f0f12b569821dd6a8a647d5a22ec1e41c36d0baabf69690174c580e9d02eb46f2a113b40064f43e414d4f83be02cca00dead1e2c25e3caab42367b3c5e2fce250adc15cc97f54357355407ac09178f5b341cc9b31dc50041e413a6ba06ad046fb2fb22e4a352eb948e7eb20dd1fb25244b37d1251a8e955ae5fa3574747bde8d194dea657cb430e58b64186253e076690d51d81a8a0f51dd3cb9af49fcdaa9406a3a3e64bcfac191a1e014ece91af96a3afd1816caf35df2351e5f3e4d72168036270680c79a75e62342c772870c64a3a7abfcefa86836b94d3463c30707f9c02363aaceabe7</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>æ—¥è®°</category>
      </categories>
      <tags>
        <tag>Private</tag>
        <tag>åˆå‡ºèŒ…åº</tag>
      </tags>
  </entry>
  <entry>
    <title>Group Task 3 | Speaking Is More Important</title>
    <url>/2020/10/07/Group-task-3-Speaking-is-more-important/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="å•Šå¶ï¼Œå¯†ç ä¸å¤§å¯¹" data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">å“¦å¼ï¼Ÿéœ€è¦å¯†ç æ‰èƒ½çœ‹~ğŸ¤”</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="1d43703d9b3d9978a5880f7c4b20fd62b3026bf8385b56d6a917aceefa7a78cf">f09366631cbbc7d465e403bed5c067c10b79d1451227a60a2ac8ed210a516d7ddbc1a6e66ab174bddaf5cde66df72a994642066f9d045e4807595af0cc5083afa11661a8a757cfef6e54db4b4079d8233939f27c35a5e88f871de4d848e8b5cc037c8223c3aeb7081ce8e457745f1ce85e74b16ee1740199cdcf0883fc378025ef9de7fd599ab5ce93cb450b9c4c1b5f2ba6e42fbf91af68567f000d0e50f143bbdf06347e3f5cac77d15a6f8e1f38b16bcdd48f866894f96087f81d15825225f823d45f0c329e0cfe3b9730a30d1c3ce9b4aa3099e660386d829dbb2b4d9e55f37dc90a87a62d16c496203a6f5cff6a905fdaf20896ee40fcf1a1732f0b9c8f14770a920d3e9b6e3f4d4792cedfbeb392e55c716faa2a01d0a70fd0c38f0cfb6ce305573a3d9ec813c75e6accd2c53c3fd2124be60b2d4c20ccd711dfe8ef0aa86cef90e437c2e0e49437b301ff0ca40f16e428922f928143642fd2e0c70306152f24dc9c071a8b3511cda064f0fc122c064185d251bad5455e2aca7b22a4bf0232652fa9936be2a4acec9d5954466ca3df19de2e368802503ec82233f5bc3341125b70ba1e64a83bf75fdcd239a9e661864307cc839cb2d15833d2f95c37330523a8223c890ecb7f3fdaf5c3226e53c18c5c0c43db2b0443560dbe4c4b7466db9a00824d3ffd4497fbcfc3aa70e0e0cbeb3cc5289ebdd277a23c7e5d960e834c7b24335eeab32751c54e0369f7dc690968705ecd87f031a4424670812fed832558a3ed5ab4d6cf2ff100b8f9c96e30449dd964da1a58a6fa03ab05ec800e6cd8c744dce1c200ec257e1b8a7e87bc37b15b6a774493994e9b94b32bdf05e468de7d5d8a9c6be7aeef17ad6c70269f055dc37dcf5181c477b7c00e64c7624e5d4a80f81428a503a4c1a6138df9904de89c3c5a4878a35354f8337668a0ce18e741e5f5b5f9c2c3f3ce4c7db3d99a4f39cf5bc3087bc93e95365d8d14cbe38c599666a0bfe40df20ba928e2a87bcbd88a7c3f507c01638acb8ff811b97307ea79fa7a267c116a518ae847a69af5b985e59d1550515fb3efca029d36f7d00a29262507e4f67ab8b6ee19ad5d9eed6b2d5e23c29050e87c80a6d9d28a6fdda50e40c8dbfdf58b3709e4795ee8ad53b802c3d3dddd7f704eb594dcaa5e485a524ddd780e317b12e2ce7a040476cc6ef439f608d101b99038b1975b9cca2e75c9d2003b7295c0421b1c23c93db16a9d3350b74dff9e37b0a92e63ab5509f4dd4125d191de7d16739b9689cfa2b3b1ef4ea69ea1513221fb78043608c57b7aadf59d4385711c0e44992917f29a57a0a336dce97aef2141a9e5823e7e3eb9bbcc723da0d1ac2c566cc3bc4572b32c010593ab549cc727cfe4c2296b82ee66d768bd5c5560ccd9e2f179b46d769542ca87b59513b713f48e87871bf406869cea3b31f6c1a700d4f319180ab20a73125e5f7ab87864da0a68802c393fc362808daa497c3e8cec080b0bd55361c3cf6739a9ee6ddb7761656ce267ae437e5d0853731c5ee3fc18b0350deac8c2d899ede35ab5bf3bcb96c89c5a23ffd2044bf4e1e037d3188c4129f608f5890c6f1c144bd35c7714c01730169050f7ed78dfe816ab7a30f4939ab89fa8b863bb1e6ca3fc3b6245d9ee0879f016654479173fde7740763e98b0dd28b2e426cb207144b275ccddc1f327b7c9564d7988c1c41aaba203a003cbfdca23c9bfc8d13a83aa5b136493e75eff2e1053ee76c9cf0dc12bae16b150e19bbc04c5216d27522fc2c96b2d363b660b3cf52b5e4937098103be85f7158dde2e40c1eaee76462df95bd649d77555a51ebb544fd011c21984d1f4c6da6dd9c741d7ab0aea4f29bc534a1acc89192af328d4e79210184cd402e7bc40e8e5d5291bafe4d08904fe31885fe78a775d9753b89c50fae393e3d449a00b1dcfeb355fe50302ee61c89864cc0ee23988a17d1ef80d61e423e0b05da73b188b6a7f3b80156944e9428add4b0da1f9d79f0b791a58344a81cf4d2ff8dce2398ec3d9e7fa661e0803f2bbc9404757aa0382e76d0caca7e59f21e45e206201984ef41fa5e3e9538381b21b9c919c405891b3c451cd15a623a6b2a4f3f7f3164c67c89655ce53ffbc39d3301508de3f15f344a078bfcaf3231af795b0ebcd44da4f3c29e428ae32ec4a3b1bbd98620b587fa18ce39b52e16512b795868a72f869a1fefd061f13f07508c2bb713e0f1bd007ce3b3beedcab71a9614e2ca0f302b9f88339f63ab9e8647796bc19e339438a7268fd546cff8ea38941fcc049d45af396bc53df965f9cac0081fb0583ecda92bd1a69f23f6c697b6694262975c3a7bd6a323961b62291871a66815b4a75a9f1735740f44fb76f1db9216954e0fe623feb3f3d65f344191bb26e4aeac42fac4b8ddda7a8612cbd3903ca5302517680bae049f1c3bdbf6076c44b012c8f43760a990d984eb52d06ba42e1dcca2debf9e30f8307f44339b4d738f92dee3a275b9ebf8eb5c1f53afd66046848dd36efabd0b8001d78410b078387f4d0ba53a4e272f5fda32561a8e90b55108338829726881d6d988fd926784d8b95dce920b8bfff14d7dccc40bd8cb3db8f97b3466c50810fa5142448d87168595b92d128acee6e554f9e877d7561da96bc9ae87d88bd02b760aff8312a349241ff6b0039ba96ab383f8c022dc00dc691e2611c3b7309731bb397b5f80d69ad2b77219946801273cb42e7bfc7da31ef92f27e50fd2ea34a7bb61bf050e6dfcc1563defa270691f27aa9c70079d7dc03a67c1836755a56deec2028738c420761b2da21b59122f60e6979265bfa82aa311bd22c5189f42a4d300494fe95a296c8a0efd866a6f836d583f3722adeaf8af3cbcba47ede341676aca12b19bd49787fae17be442b5d75ad0f084896385b2e78c309b99c1f53b706db4d69d2267f7dd63e65f1591707b86dd2a16f6afbb761868f128cb1999ee114e8efbf75a10b6884af050cd5f19f2039d1fa678a7e28cadbaf60940c2cd54f18ccce5361bc65cb9873e02988f171b7e13872ab0474111078a8e34e3c7a17bbefc4c368f910660b6569881c4ae493293d116ca5897281ba3c27c5e61818fdc53e18a05604d39eaaa1f2e3326a4fdc09d95cd384d1c787d615a821bc8591c8e7ec0e9f260f40b7ca158da5edff41736dd0225932f120b7224e9d55e9d2a721b10bbd3c2c3a4ce98592af1539e3cc375392acace66b6c4ef64870c4734f53b6aee19d903f342f63fbd69e70975a52462af459a8ee5094b4f030eaf33ee47b14a2e901c3ed6bef0ed8dd6154db9eb0daa46e2f8991f26f5ac1302f9a307590102ce56817cc444e5db6e1ee7c5f47fa5e5fcdfa5606c2d55adcaa586294f1bcdc8be5ce7ff7aab47e1addbcc9f781a4abb66da63a8a3b8bbc2399b59761b7876f9d21d5ad81241dda01e0782c5bc83d70ecbab1ce1dc3acffedeeccedd4f039b8dde95af542af176aac49573e2e3c088fc67d18105f88d5fe5152737660a83a1ea1d807cc1d9b31a4cb5871c66d18f64b6ad27e62efd85907a318d79d5d0357d2d081ab29e02424f6e5438a90dbe2a33d8eeeed560462317cd3f295105e3d4d3a2a6ffcad490c265e5d2762f42f4b9c1112c2a1658d31e1547802337a83a7e5dce0d1db40f0580421608a3d6cbb33b853cd4d3a0f7bb4b955fe43a656bd421458b099472e1b7827100ef1ca97d8023647b51dd7f69946a9c901b873fc4bb860d2eecb7900e70d166425937b37c9f6d57249bda7d89a1add36c0b3984f212123386dd610cf0965dbd36b5a32b069b6592041c78734ef1ae20d06ffc2c47466952983b4cb0ea73c4e3a8b60d5f266edbc02353a7ab1a1e398b4bd68dc63a2468403cc9dc820d2e5afc6d313d392aa35318a2cf1ffc4c3652226b48cd9271ce76bb812dec891d9b814dd6d782ac83fb85b099ac412f1bf32bdfad81550b8615cc5dc995c15fa5fa009445d68d0c07316a1a67642446cb4e9017393f776ab03f35bf8bbf2287b378fddc78932dd5e29a2b2493a037e95f8333556d90b77bf852e3cd58ebac223c61d37aad57856b055d8d28fd83ace109bdc588e86ac754c7374036ccc1c04d2ba2b5fbcd739657238f136fe9c35e636a71280676bed6f18716afc0d142a47ec0ad2f86b798e8ee88cf502077d1fa3d7dc22804e192c755eb2cf5d90aeafd1065b12e34c193e66b7b5c5eade794e8c407518dc377d2397358be79773e76b7e0b34f08f60e3a7ae989cd16b0b54af84d8ed5e280c881d7e9910ad0c1d9c5101c67f386ddd7457b2360c5017b77fc0b81d871150a5537330713534537f3b48feaebffe52769bd99badbe15c47efa2d262a2db38d6ebaaf359e050a68f023533174f719da94939f407b45cb80d476d9a3efb9051759a81dcf98536284ba286f428f21d436b8ce1996ab7ae2498382b2623f21433be10d25c6f29ee9cc216398e5317705d0d49c0f68f0cb8efcebda9309e5093759ae9633b487b9d43908caa3988f1772200a5723d215e1c3fcc565c8c3c0cbc050ba2419ca3171ff8fb8bc7b2b2e04c450138c04062e69f93ff04eb67103de142617997fe69ffc053728d03399f8eff6c65dc8f804144c11a27ee2a0c6bf913324c722638cf68b6cf411a80d128aed37c9875db41a2a91588505bc1374f3fbac1380082b37117638a76232d155332cff96cbb3c0fe70b8856bc7e2b0abfa5ec7b12ebb5c63e45cda9465bc456c4378d069024e961549d2d2f375a48d1d777130429326887c5442d9afd908796f9321200d266e0d8b2f4eb1317e22e5679140e90371d6c60c5cc0c6fe41e8292454686f3170d8f12c17c6a5ed0e7fdf570b26c5f7cd9e28a58f40536ef98953ba5a9daf1ac22cd01212a77b33ba268b7ed8356a98f5f93f44b2d0f5cbbe99e4ee798cc43cd0a79b78276389f6b699467ae91a2305811cc586b59fec10d3f705a0d4cf20ecad57573ec8ecbc9324fbc7cda19ac2be2dd0690e10d02640f9704f6256351bdb353c115bf6307b6dda8143ba591288db12de8f17f5e9591227b4791bd225ce006fe1e48289ed908c5d3bbdbfc4526bc5c13cb600a17dcdd03b3fa0e9525efb8d8308c4e1052240e0665a8da62bb0d72adc831bade5c1cb240ea38c9f3b9d3a6c6a37c7ba1ab122c66a5beda47deb00fd451cbb7f75554a52542be2ec2c88533972e5ecaae992ab8f36b2772c78a44d09882f24d3358e40da141e1f1fde3160f854a7f865d81f5b4906c96a6aabd604126c9724ac88d1b48cc7417e18c7ef5f7653a75000ee2f2a677c852d9ae37816a159d751af4d8a303fd88f909c356269516ac3a331528fc7e4188304648b054fc9be1c4dbde31c7de12d3190541683c0b41c427af268aa7cbdb6dd7bf5bf07403df8b1abd162f8ad09dbeffefcfccaf4c94aec82129f012ae11addbaaa0512a7f98622031dba06d991d7276583bd859dea6c88026a9ac370873dc3c5289b405a4a3b3594d0bc4dd4b4379b3a089dc354fa23f107d1932f6ca29f1b8eb312cc55faa91ff550f1913ee553a56a3173236f97436822c8c4aea98a7ad49a720973d4789cb76f17f11d3a064328fa6dd808d071261d605236bfb10e25a078ea6d20ed43530f3e8e9c2d1a82daa7ebbd3f1b94b9ea19a13c4c27c1c94c42cff513a7e8f37371fa18de0957b744cd73f93292d081a39daa00e8d3f27b4e0290167e39aa09758df22377ec4c6bcba4159bc242c955945011a0c1ba0b40c8276db171fb8e41e40406ec6ead6d38d01cf523b84a8374bad333f497ae1974341c0f0e780aca3b483fc4041962dc7530e47f20bb076c18d521ac6fae43dfe35fd0dec1836e22a701ae097a4b3307b83e2c1cf6dbaed4d17afc7d89d71a8e2c72ae26ee19cb8d0dbaccd05e75a54a4cf254778d1e664bb8795079b57ed14552e7c17022cb429bac8ec8ba158fa8dac9770156895463f6ec7447db0e604802c93b6877aa6e8888caf7bcfc22289436e4f88f0bde9a7c37970b0161aa2525fc1fa5c02c9e0a326bba5e21a71b3fe5ba8e1e86b00d5eab930adce5f4a0ff67d1a4d3c52392f3cbcf927c0edff5d9d0ee20ba8d0fdefb53f9cc56f88d4026f383dc18e6fd63c7af1d596b92b95cdff326ea0987204b572d33c95c37c0c0993d7aab92d16ed61e45cfef5aaa4be9355cbd028191c1b153ec0df3545ac09cff1c5f5b9d091c3610fb6f97c4f06bbb18fc62ed8b7cc04c23aa0649bfc3a4c563855d7f15d276c7f7087b7e43e601276e23a23a293bd98816d1b68adbd9fcea37f74541bed289d63740a303f73da65dc1275ffc4654b5c9dffdafa761bfebcffe42e7e54dc83bbf8ad6a848511ac3403dab8d38fb5d2ce25428d466670d345197cca99b194cbaaf083e94a9a33419df00a08bbad3378cfdb2d5024bfd1cea444d0a0f2d96296082e0954eb657c6e1d193eaee59bd50bf91630a90ad097f861d0ab7bef088bc16130de83cd3d1aed997daae56630c8619ab648f43183bdea7689ce6c9a814c724572f142c939a3479217c1085210392ab5604af1892c42c83aa1feae998891f9ac06e60c43308d32926661f49c19bf4bec75ee649dcf6780741a444ca98203f942e158e6517e82ae3eba669e1744f4261e54ecbb2dd5e192f039ce1af811fcb5b87ac83a732d454c5b3db5cf9cb3bfc5451283b0d1a1a1d6c8ecc2f0e58e82759bf85f951d4c46d6ea34d9aaf4c8ef4512df98075c88c5f1c55c7aa8f2d03710c09fc87212c330423ba87de1164c8860dcabe78bd3ed7a9d82672e28da72c128950f86bbd56be08f7dfa5054074ec8b7107990acbbb8049313e2b380160a8c8d8c05198a9200a99db3f4d751848f4922886bd70491c86d274bdbd6cab94084b44f752bd680e0b9deb4fe4ab5d8b65d1a0b569fdec070c096f6480acd3aa29e2264f29557e6bac2fed64e62f6b1adc1c823bf1ddf828bc25a9d9a4ae0174bdf39b51a3ebd8265a65ed80edd4bdd87777a6a23484700364ca195e77bd0bd2ef1ddc0c5254d55b45766ab98b542880e957c53f6b96fa59eb5a9be597895a4fd72c415281348217d18df7bacd48b0b1e760e0c4df60a12c3432a1f818efc6c66baafc5d84c8617a5c28ac5fb81b9426cff6962350552fcfad906c2d85fb7fb2226a6cc26f039b96295a5aed994b713492f5b1bfbcbd1e3cb903db8e6528cc95abe9c133dd445692c5f23b383230873d4014dfc68c9ae5a9af7e2c5886a47610dc3747dfb6744ff8151e295194f06b41cb09c3afcd0f93fabf58dbd816bd406c06892960a7fae2f2c1db9c86f9d1533baa787b83baf137874ae699e0701aa384040d6bf0fd294cc0a470c3fd616929c39370481f479a664005a69f4aff32dc8aba413a8f5391bd9efab10f3dd87916f9aeaa4d4f116c4a3baa6d27ea5facc124a62430a490ce1b5c</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>è‹±è¯­</category>
      </categories>
      <tags>
        <tag>Private</tag>
        <tag>English</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxç¼–è¯‘OpenJDK12</title>
    <url>/2020/11/28/Linux%E7%BC%96%E8%AF%91OpenJDK12/</url>
    <content><![CDATA[<p>Javaè™šæ‹Ÿæœºæ˜¯è‡ªå­¦ä¹ Javaä»¥æ¥ä¸€ç›´ä¿ç•™çš„ä¸€ä¸ªçŸ¥è¯†ç›²åŒºï¼Œè™½è¯´ç”¨ä¸€ä»¶ä¸œè¥¿ä¸ä¸€å®šè¦çŸ¥é“æ€ä¹ˆåšå‡ºæ¥è¿™ä»¶ä¸œè¥¿ï¼Œä¾‹å¦‚ç”¨ç”µè„‘ä¸ä¸€å®šè¦ä¼šé€ ç”µè„‘ï¼ˆç”šè‡³ä¿®ç”µè„‘=ï¿£Ï‰ï¿£=ï¼‰ï¼Œä½†æ˜¯æƒ³è¦æŠŠè¿™ä¸ªå·¥å…·ç”¨åˆ°æ¸¸åˆƒæœ‰ä½™è¿˜æ˜¯æœ‰å¿…è¦äº†è§£ä¸€ä¸‹å®ƒçš„å†…éƒ¨åŸç†çš„ï¼Œå¦‚ä»Šæ˜¯æ—¶å€™æ¥è¡¥ä¸€ä¸‹äº†(à¸‡ â€¢_â€¢)à¸‡ã€‚</p>
<a id="more"></a>
<p>ä¸‹æ–‡å°±ä¸€æ­¥ä¸€æ­¥æ¥è¯´æ˜æ€æ ·åœ¨ <code>ubuntu-20.04 LTS</code> ä¸Šç¼–è¯‘å¾—åˆ°è‡ªå·±çš„Javaè™šæ‹Ÿæœºã€‚</p>
<h1 id="1-å‡†å¤‡JDK12æºç "><a href="#1-å‡†å¤‡JDK12æºç " class="headerlink" title="1. å‡†å¤‡JDK12æºç "></a>1. å‡†å¤‡JDK12æºç </h1><p>é¦–å…ˆå‡†å¤‡è¦ç¼–è¯‘çš„JDKæºç ï¼Œè¿™é‡Œä½¿ç”¨JDK12æ¥ä½œä¸ºç›®æ ‡è™šæ‹Ÿæœºï¼Œæºç è·å–åœ°å€åŠä¸‹è½½æ–¹å¼ï¼š</p>
<ul>
<li><a href="https://hg.openjdk.java.net/jdk/jdk12/">https://hg.openjdk.java.net/jdk/jdk12/</a></li>
<li>ä¸Šé¢åœ°å€æ‰“å¼€åï¼Œä»å·¦è¾¹æ‰¾åˆ° <code>zip</code> å‹ç¼©ä¸‹è½½ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º <code>hg</code> å·¥å…·åœ¨æˆ‘çš„ç¯å¢ƒä¸‹å¹¶ä¸æ˜¯å¸¸ç”¨è½¯ä»¶ï¼Œè€Œä¸”JDKæºç æœ‰æˆç™¾ä¸Šåƒä¸ªå¤§å¤§å°å°çš„æ–‡ä»¶ï¼Œç”¨ <code>hg</code> æŒ¨ä¸ªä¸‹ä¸‹æ¥å¹¶ä¸æ˜¯å¾ˆæ˜æ™ºçš„é€‰æ‹©ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨å‹ç¼©åçš„ <code>zip</code> æ–‡ä»¶æ›´é€‚åˆæˆ‘ã€‚</li>
<li>ä¸‹è½½å®Œåï¼Œè§£å‹åˆ°å·¥ä½œç›®å½•ä¸‹ <code>~/source/</code></li>
</ul>
<h1 id="2-å‡†å¤‡JDK11ä½œä¸º-boot-jdk"><a href="#2-å‡†å¤‡JDK11ä½œä¸º-boot-jdk" class="headerlink" title="2. å‡†å¤‡JDK11ä½œä¸º boot jdk"></a>2. å‡†å¤‡JDK11ä½œä¸º <code>boot jdk</code></h1><p>ç”¨JDKå»ç¼–è¯‘JDKï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½ç©çš„äº‹æƒ…ğŸ˜‰ï¼Œå°±å¥½æ¯”æƒ³è¦å°é¸¡å…ˆå¾—æœ‰ä¸€åªé¸¡å»ä¸‹è›‹å­µè›‹ä¸€æ ·é€»è¾‘æ­£ç¡®ã€‚</p>
<p>åœ¨ <code>ubuntu</code> ä¸‹æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…JDK11</span></span><br><span class="line">sudo apt-get install openjdk-11-jdk</span><br><span class="line"><span class="comment"># æ£€æŸ¥ç‰ˆæœ¬å·</span></span><br><span class="line">java --version</span><br><span class="line"><span class="comment"># å¾—åˆ°å¦‚ä¸‹ç±»ä¼¼è¾“å‡ºå°±å¯¹äº†</span></span><br><span class="line"><span class="comment"># openjdk 11 2018-09-25</span></span><br><span class="line"><span class="comment"># OpenJDK Runtime Environment 18.9 (build 11+28)</span></span><br><span class="line"><span class="comment"># OpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœç³»ç»Ÿä¹‹å‰å·²ç»å®‰è£…äº†JDK12ï¼Œæˆ–è€…å…¶ä»–ç‰ˆæœ¬è¯¥æ€ä¹ˆåŠå•Šï¼Ÿ</p>
<p>å¾ˆç›´æ¥çš„æ–¹æ³•æ˜¯åˆ æ‰å…¶ä»–ç‰ˆæœ¬ï¼Œåªå®‰è£… <code>openjdk-11</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤å…¶ä»–æ‰€æœ‰ç‰ˆæœ¬çš„ JDK</span></span><br><span class="line">sudo apt-get remove openjdk*</span><br><span class="line"><span class="comment"># å†å®‰è£… openjdk11</span></span><br><span class="line">sudo apt-get install openjdk-11-jdk</span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡ï¼Œç°å®å¾€å¾€ä¸å…è®¸è¿™ä¹ˆè½æ’ï¼Œä¸‡ä¸€å…¶ä»–è½¯ä»¶ä¾èµ–å½“å‰ç‰ˆæœ¬çš„JDKå‘¢ï¼ŸğŸ˜¥ï¼Œç»†æ€ææã€‚</p>
<p>é‚£ä¹ˆæ¯”è¾ƒå¥½çš„åŠæ³•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç›´æ¥å®‰è£…å…¶ä»–ç‰ˆæœ¬ï¼Œç„¶åä¿®æ”¹è½¯è¿æ¥åˆ°æŒ‡å®šç‰ˆæœ¬å·å°±å¯ä»¥äº†ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ è½¯è¿æ¥æ˜ å°„</span></span><br><span class="line">sudo update-alternatives --install /usr/lib/java java /jdkå­˜æ”¾è·¯å¾„/bin/java 2 </span><br><span class="line">sudo update-alternatives --install /usr/lib/javac javac /jdkå­˜æ”¾è·¯å¾„/bin/javac 2</span><br></pre></td></tr></table></figure>
<p>æœ€åçš„é‚£ä¸ªå‘½ä»¤ï¼Œæ˜¯æ ‡è®°å½“å‰çš„è½¯è¿æ¥å·çš„ï¼Œåœ¨å®Œæˆè¿™ä¸€æ­¥ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥å®Œæˆåˆ‡æ¢ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°è½¯è¿æ¥æ˜ å°„è§„åˆ™</span></span><br><span class="line">sudo update-alternatives --config java</span><br></pre></td></tr></table></figure>
<p>åœ¨é…ç½®è¡¨ä¸­ï¼Œé€‰æ‹©æœ€å‰é¢çš„åºå·å°±å¯ä»¥äº†ï¼Œè®°å¾—æŠŠæ‰€æœ‰å·¥å…·éƒ½åˆ‡æ¢è¿‡æ¥ï¼Œä¾‹å¦‚ <code>javac</code>ã€‚</p>
<h1 id="3-å®‰è£…å¿…è¦çš„åº“"><a href="#3-å®‰è£…å¿…è¦çš„åº“" class="headerlink" title="3. å®‰è£…å¿…è¦çš„åº“"></a>3. å®‰è£…å¿…è¦çš„åº“</h1><p>æœ¬äººæ‰€ç”¨çš„æ“ä½œç³»ç»Ÿæ˜¯ <code>ubuntu-20.04.1 LTS</code> ï¼ŒåŒæ—¶ä½¿ç”¨çš„ <code>gcc</code> å’Œ <code>g++</code> å·¥å…·ç‰ˆæœ¬ä¸º <code>7.5.0</code>ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œä¸è¦ç”¨å¤ªé«˜ç‰ˆæœ¬çš„ï¼Œä¾‹å¦‚ <code>9.x</code>ï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šå‡ºç°é—®é¢˜ã€‚</p>
<p>åŒæ ·çš„ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹ <code>gcc g++</code> ç‰ˆæœ¬ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œåˆ‡æ¢ï¼ˆå‰ææ˜¯å·²ç»å®‰è£…äº† <code>gcc-7</code> ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-7 7</span><br><span class="line">sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-7 7</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆå®Œæˆä¸Šé¢çš„æ­¥éª¤ä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®‰è£…å¿…è¦çš„åº“äº†ï¼ŒæŒ¨ä¸ªæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å°±å¥½ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é¦–å…ˆæ›´æ–°è½¯ä»¶</span></span><br><span class="line">sudo apt-get update</span><br><span class="line"><span class="comment"># ç„¶åé€ä¸ªå®‰è£…</span></span><br><span class="line">sudo apt-get install build-essential</span><br><span class="line">sudo apt-get install libfreetype6-dev</span><br><span class="line">sudo apt-get install libcups2-dev</span><br><span class="line">sudo apt-get install libx11-dev libxext-dev libxrender-dev libxrandr-dev libxtst-dev libxt-dev</span><br><span class="line">sudo apt-get install libasound2-dev</span><br><span class="line">sudo apt-get install libffi-dev</span><br><span class="line">sudo apt-get install autoconf</span><br></pre></td></tr></table></figure>
<p>æ€»ä¹‹ï¼Œå“ªä¸ªå®‰è£…å‡ºé—®é¢˜äº†å°±é‡æ–°å®‰è£…å“ªä¸€ä¸ªï¼Œç¼ºä¸€ä¸å¯ã€‚</p>
<h1 id="4-JDKä¾èµ–é¡¹æ£€æŸ¥åŠå‚æ•°é…ç½®"><a href="#4-JDKä¾èµ–é¡¹æ£€æŸ¥åŠå‚æ•°é…ç½®" class="headerlink" title="4. JDKä¾èµ–é¡¹æ£€æŸ¥åŠå‚æ•°é…ç½®"></a>4. JDKä¾èµ–é¡¹æ£€æŸ¥åŠå‚æ•°é…ç½®</h1><p>ä½¿ç”¨ <code>bash configure [options]</code> æ¥å®Œæˆï¼Œå…·ä½“çš„å‚æ•°åˆ—è¡¨ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¼šå¾—åˆ°ä¸€ä¸ªé•¿é•¿çš„åˆ—è¡¨ï¼Œå·¨é•¿ğŸ˜¦ğŸ˜§ğŸ˜¨ğŸ˜±</span></span><br><span class="line">bash configure --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>
<p>å…¶å®å¿½ç•¥è¿™ä¸ªç»†èŠ‚ï¼Œç›´æ¥ä½¿ç”¨è¿™æ¡å‘½ä»¤æ¥å®Œæˆå°±å¯ä»¥äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash configure --<span class="built_in">enable</span>-debug --with-target-bits=64 --with-conf-name=cherry-jvm-x86-64-linux-conf --with-jvm-variants=server</span><br><span class="line"><span class="comment"># ä»å‰å¾€åä¾æ¬¡æ˜¯ï¼šå¯åŠ¨ æ‰“å¼€è°ƒè¯•åŠŸèƒ½ ç¼–è¯‘64ä½çš„è™šæ‹Ÿæœº é…ç½®åç§° HotSpot çš„ç¼–è¯‘æ¨¡å¼</span></span><br></pre></td></tr></table></figure>
<p>å®Œæˆè¯¥å‘½ä»¤åï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">A new configuration has been successfully created <span class="keyword">in</span></span><br><span class="line">/home/cherry/<span class="built_in">source</span>/jdk12/build/cherry-jvm-x86-64-linux-conf</span><br><span class="line">using configure arguments <span class="string">&#x27;--enable-debug --with-target-bits=64 --with-conf-name=cherry-jvm-x86-64-linux-conf --with-jvm-variants=server&#x27;</span>.</span><br><span class="line"></span><br><span class="line">Configuration summary:</span><br><span class="line">* Debug level:    fastdebug</span><br><span class="line">* HS debug level: fastdebug</span><br><span class="line">* JVM variants:   server</span><br><span class="line">* JVM features:   server: <span class="string">&#x27;aot cds cmsgc compiler1 compiler2 epsilongc g1gc graal jfr jni-check jvmci jvmti management nmt parallelgc serialgc services shenandoahgc vm-structs zgc&#x27;</span></span><br><span class="line">* OpenJDK target: OS: linux, CPU architecture: x86, address length: 64</span><br><span class="line">* Version string: 12-internal+0-adhoc.cherry.jdk12 (12-internal)</span><br><span class="line"></span><br><span class="line">Tools summary:</span><br><span class="line">* Boot JDK:       openjdk version <span class="string">&quot;11&quot;</span> 2018-09-25 OpenJDK Runtime Environment 18.9 (build 11+28) OpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)  (at /home/cherry/Application/jdk-11)</span><br><span class="line">* Toolchain:      gcc (GNU Compiler Collection)</span><br><span class="line">* C Compiler:     Version 7.5.0 (at /usr/bin/gcc)</span><br><span class="line">* C++ Compiler:   Version 7.5.0 (at /usr/bin/g++)</span><br><span class="line"></span><br><span class="line">Build performance summary:</span><br><span class="line">* Cores to use:   8</span><br><span class="line">* Memory <span class="built_in">limit</span>:   15883 MB</span><br></pre></td></tr></table></figure>
<p>è¿™å°±è¯´æ˜æˆ‘ä»¬é€šè¿‡äº†ä¾èµ–é¡¹æ£€æŸ¥ã€å‚æ•°é…ç½®ã€æ„å»ºè¾“å‡ºç›®å½•ç­‰è¿‡ç¨‹ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç¼–è¯‘äº†ã€‚</p>
<h1 id="5-ç¼–è¯‘JDK12"><a href="#5-ç¼–è¯‘JDK12" class="headerlink" title="5. ç¼–è¯‘JDK12"></a>5. ç¼–è¯‘JDK12</h1><p>è¾“å…¥ <code>make images</code> å¼€å§‹è¿›è¡Œç¼–è¯‘ï¼Œè¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒæ¼«é•¿ï¼Œè§†ä¸ªäººæœºå™¨è€Œå®šï¼Œæˆ‘åœ¨è¿™é‡Œç­‰äº†å·®ä¸å¤š5åˆ†é’Ÿå§ã€‚å¯ä»¥å»å–æ¯ç‰›å¥¶ğŸ¥›ğŸ˜‰ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@:~/<span class="built_in">source</span>/jdk12$ make images</span><br><span class="line"><span class="comment"># å¾—åˆ°ä»¥ä¸‹è¾“å‡º</span></span><br><span class="line">Building target <span class="string">&#x27;images&#x27;</span> <span class="keyword">in</span> configuration <span class="string">&#x27;cherry-jvm-x86-64-linux-conf&#x27;</span></span><br><span class="line">Compiling 8 files <span class="keyword">for</span> BUILD_TOOLS_LANGTOOLS</span><br><span class="line">Warning: No SCM configuration present and no .src-rev</span><br><span class="line">Creating hotspot/variant-server/tools/adlc/adlc from 13 file(s)</span><br><span class="line">Compiling 2 files <span class="keyword">for</span> BUILD_JVMTI_TOOLS</span><br><span class="line">Compiling 1 files <span class="keyword">for</span> BUILD_JFR_TOOLS</span><br><span class="line">â€¦â€¦</span><br><span class="line">Creating jdk image</span><br><span class="line">Creating CDS archive <span class="keyword">for</span> jdk image</span><br><span class="line">Stopping sjavac server</span><br><span class="line">Finished building target <span class="string">&#x27;images&#x27;</span> <span class="keyword">in</span> configuration <span class="string">&#x27;cherry-jvm-x86-64-linux-conf&#x27;</span></span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°ä¸Šé¢è¾“å‡ºåï¼Œè¯´æ˜ç¼–è¯‘ç»“æŸäº†ï¼Œæ¥ä¸‹æ¥éªŒè¯æ˜¯å¦æ­£å¸¸ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@:~/<span class="built_in">source</span>/jdk12/build/cherry-jvm-x86-64-linux-conf/images/jdk/bin$ ./java --version</span><br><span class="line">openjdk 12-internal 2019-03-19</span><br><span class="line">OpenJDK Runtime Environment (fastdebug build 12-internal+0-adhoc.cherry.jdk12)</span><br><span class="line">OpenJDK 64-Bit Server VM (fastdebug build 12-internal+0-adhoc.cherry.jdk12, mixed mode, sharing)</span><br></pre></td></tr></table></figure>
<p>å¾—åˆ°ç¼–è¯‘å·ä¸º <code>fastdebug build 12-internal+0-adhoc.cherry.jdk12</code> çš„JVM~</p>
<p>å¦‚æœåˆ°æ­¤ï¼Œæ²¡æœ‰å‡ºç°ä¸å¯è§£å†³çš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±å¾—åˆ°äº†è‡ªå·±ç¼–è¯‘çš„Javaè™šæ‹Ÿæœºï¼Œæ­å–œ~â˜ºâ˜ºâ˜ºğŸ¤©ğŸ¤—ğŸ¤—</p>
]]></content>
      <categories>
        <category>JVM</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
        <tag>è™šæ‹Ÿæœº</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntuåˆ†åŒºæ–¹æ¡ˆ</title>
    <url>/2020/09/30/Ubuntu%E5%88%86%E5%8C%BA%E6%96%B9%E6%A1%88/</url>
    <content><![CDATA[<p>åœ¨å®‰è£…äº†äº”æ¬¡ç³»ç»Ÿä¹‹åâ€¦â€¦</p>
<a id="more"></a>
<p>è‡ªæ‰“åˆ°äº†å®éªŒå®¤ï¼Œæˆ‘å·²ç»å®‰è£…äº†äº”æ¬¡ <code>Ubuntu20.04</code> ç³»ç»Ÿï¼Œäº‹æƒ…æ˜¯è¿™æ ·çš„ï¼š</p>
<p><strong>ç¬¬ä¸€æ¬¡å®‰è£…ï¼š</strong>è€å¸ˆå‘ç»™ä¸€å°ç”µè„‘ï¼Œå°å¼æœºï¼Œä¸€å— <code>1T</code> æœºæ¢°ç¡¬ç›˜ï¼Œä¸€æ¡ <code>8G</code> å†…å­˜ï¼Œè¿™å¯¹æˆ‘æ¥è¯´å·²ç»å¤Ÿç”¨äº†ï¼Œæ¯•ç«Ÿä¸è·‘æ·±åº¦å­¦ä¹ ä¹Ÿä¸æ‰“æ¸¸æˆï¼Œè£…ä¸ª <code>Linux</code> å†™å†™ç¨‹åºï¼Œåšåšé¡¹ç›®ç»°ç»°æœ‰ä½™ï¼Œäºæ˜¯ä¹æ‹¿äº†Uç›˜å°±è£…ä¸Šäº† <code>Ubuntu20.04</code>ï¼Œè£…å¥½ä¹‹åï¼Œå®‰è£…ç”¨çš„ä¸€å †IDEï¼Œç¼–è¯‘å™¨ï¼Œä» <code>Github</code> ä¸Š <code>clone</code> åˆ°æœ¬åœ°ç¨‹åºï¼Œè·‘äº†ä¸ªæ ·ä¾‹ç¨‹åºï¼Œé€šè¿‡ï¼Œå¿ƒé‡Œä¸€é˜µå¼€å¿ƒã€‚å¯æ˜¯è¿™éƒ½æ˜¯å‡çš„ï¼Œå®‰è£…å¥½ä¹‹åé‡æ–°å¯åŠ¨ï¼Œç«Ÿç„¶å¡åœ¨äº†å¯åŠ¨ç•Œé¢ï¼Œç¬¬ä¸€æ¬¡å®‰è£…å¤±è´¥å‘Šç»ˆâ€¦â€¦</p>
<p><strong>ç¬¬äºŒæ¬¡å®‰è£…ï¼š</strong>é‰´äºä¸Šæ¬¡å®‰è£…å¤±è´¥ï¼Œè¿™æ¬¡åœ¨æ¯ä¸ªæ­¥éª¤ä¸Šéƒ½è°¨å°æ…å¾®ï¼ˆå…¶å®æ²¡å•¥è¦æ³¨æ„çš„ï¼Œå› ä¸ºéƒ½æ˜¯å‚»ç“œå¼å®‰è£…ï¼‰ï¼Œè¿™æ¬¡ï¼Œå®‰è£…å¥½åä¹‹åå°±ç›´æ¥é‡å¯ç³»ç»Ÿï¼Œå‘ç°æ²¡æœ‰é—®é¢˜ï¼Œå®‰è£…è½¯ä»¶è¿‡ç¨‹ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œå†æ¬¡å¼€å¿ƒğŸ˜Šã€‚å¯æ˜¯å¥½æ™¯ä¸é•¿ï¼Œç”±äºåˆ›å»º <code>Python</code> è™šæ‹Ÿç¯å¢ƒæŠ¥é”™ï¼Œå†³å®šé‡æ–°å°è¯•å®‰è£… <code>Python3</code> æ¥è§£å†³é—®é¢˜ï¼Œé‡æ–°å®‰è£…è‚¯å®šè¦å…ˆå¸è½½å‘€ï¼Œç»“æœé—®é¢˜å°±å‡ºåœ¨è¿™é‡Œï¼Œå¸è½½ä¹‹åå°±â€¦â€¦ç›´æ¥æŠŠ <code>Linux</code> çš„æ¡Œé¢ç¯å¢ƒç»™åˆ æ‰äº†ğŸ˜­ï¼Œï¼ˆï¼‰äºæ˜¯å°±æœ‰äº†ç¬¬ä¸‰æ¬¡çš„æ•…äº‹â€¦â€¦</p>
<p><strong>ç¬¬ä¸‰æ¬¡å®‰è£…ï¼š</strong>é‰´äºå‰ä¸¤æ¬¡å¤±è´¥çš„æ•…äº‹ï¼Œè¿™æ¬¡æ›´åŠ åœ°è°¨å°æ…å¾®ï¼Œä¸‹è½½ï¼Œå®‰è£…ï¼Œé…ç½®ï¼Œæ‹‰å–ä»£ç â€¦â€¦ç»ˆäºï¼ŒåŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œè¿™æ¬¡å®‰è£…å¾ˆæˆåŠŸï¼ŒæˆåŠŸåœ¨æœºå™¨ä¸Šå®‰è£…å¥½äº† <code>Ubuntu20.04</code> ï¼Œè¿è¡Œäº†ç¬¬ä¸€ä¸ªåŠ å¯†ç®—æ³•ï¼Œå¹¶å¾—åˆ°äº†ç»“æœï¼Œç¾æ»‹æ»‹ğŸ˜‹ã€‚ä¸è¿‡ï¼Œå¤©æ€»æœ‰ä¸æµ‹é£äº‘ï¼Œæ‰€ä»¥æ‰æœ‰äº†ä¸‹æ¬¡çš„æ•…äº‹â€¦â€¦</p>
<p><strong>ç¬¬å››æ¬¡å®‰è£…ï¼š</strong>ä»Šå¤©ä¸‹åˆæ¥åˆ°å®éªŒå®¤ï¼Œç ”è®¨ç»“æŸåï¼Œè€å¸ˆçªç„¶æ¥äº†å¥ï¼šå‰å‡ å¤©ä¹°äº†å›ºæ€ç¡¬ç›˜ï¼ˆ<code>1T</code>ï¼‰å’Œå†…å­˜æ¡ï¼ˆ<code>8G</code>ï¼‰ï¼ŒåŠ ä¸Šå»æŠŠæœºå™¨å‡ä¸‹çº§ã€‚æˆ‘â€¦â€¦ï¼ˆå†…å¿ƒæ˜¯å¿«ä¹è¿˜æ˜¯å´©æºƒï¼Œè€å¸ˆä¸çŸ¥é“ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ï¼‰ï¼Œå¼€å¿ƒæ˜¯å› ä¸ºç¡¬ä»¶å¾—åˆ°äº†å‡çº§å‘€ï¼Œæ›´å¥½çš„å·¥ä½œç¯å¢ƒå½“ç„¶å¼€å¿ƒï¼Œå´©æºƒæ˜¯å› ä¸ºï¼ŒåˆåŒå’å•è¦é‡è£…ç³»ç»Ÿäº†â€¦â€¦æœ¬æƒ³ç€æœ‰äº†å‰ä¸‰æ¬¡çš„æ•™è®­ï¼Œè¿™æ¬¡å¯ä»¥å¾ˆé¡ºåˆ©å®‰è£…è¿‡æ¥ï¼Œä¸è¿‡ï¼Œå‘œå‘œå‘œï¼šè¿™æ¬¡åˆåœ¨ç¡¬ç›˜åˆ†åŒºä¸Šç¿»è½¦äº†ğŸ˜£ã€‚</p>
<p>è¿™ä¸ï¼Œç«‹åˆ»å›æ¥å¯¹ç¡¬ç›˜åˆ†åŒºè¿›è¡Œç ”ç©¶ï¼Œåº·åº·åˆ°åº•è¯¥å’‹åˆ†åŒºï¼Œç„¶åç»™è‡ªå·±ä¹Ÿå†™ä¸ªè®°å½•ï¼Œä»¥å…ä»¥åä¸€ç›´å»æŸ¥åˆ«äººçš„æ•™ç¨‹ã€‚</p>
<ol>
<li>é¦–å…ˆæ˜¯ <code>boot</code> å¼•å¯¼åˆ†åŒºï¼š<code>10G (10240)</code> ï¼Œ<code>ext4</code> æ ¼å¼ï¼Œç©ºé—´èµ·å§‹ä½ç½®ï¼Œä¸»åˆ†åŒº</li>
<li>ç„¶åæ˜¯æ ¹ç›®å½• <code>/</code> ï¼š<code>300G (307200)</code> ï¼Œ<code>ext4</code> æ ¼å¼ï¼Œç©ºé—´èµ·å§‹ä½ç½®ï¼Œé€»è¾‘åˆ†åŒº</li>
<li>ç´§æ¥ç€æ˜¯äº¤æ¢ç©ºé—´ <code>swap</code> ï¼š<code>32G(32768)</code> ï¼Œ<code>swap</code> æ ¼å¼ï¼Œç©ºé—´èµ·å§‹ä½ç½®ï¼Œé€»è¾‘åˆ†åŒº</li>
<li>æœ€åæ˜¯å®¶ç›®å½• <code>home</code>ï¼š<code>1000 - 10 - 300 - 32 = 658G (673792)</code>ï¼Œ<code>ext4</code> æ ¼å¼ï¼Œç©ºé—´èµ·å§‹ä½ç½®ï¼Œé€»è¾‘åˆ†åŒº</li>
</ol>
<p>è¯´åˆ°è¿™é‡Œï¼Œçªå‘å¥‡æƒ³åœ°ï¼Œå¯¹äº <code>Ubuntu20.04</code> è€Œè¨€ï¼Œæ˜¯ä¸æ˜¯æœ‰ä¸ªçœæ—¶çœåŠ›çš„æ–¹æ³•ï¼šç´¢æ€§<strong>ä¸åˆ†åŒº</strong>ï¼Œå…¨éƒ¨æ ¹ç›®å½• <code>/</code> ï¼Œè¿™æ ·æ›´çœåŠ›ï¼Œçœçš„è¿™ä¼šå„¿æ»¡äº†ï¼Œé‚£ä¼šå„¿ä¸å¤Ÿç”¨äº†ï¼Œçœå»äº†è§£å†³æ‚ä¸ƒæ‚å…«é—®é¢˜çš„æ—¶é—´ï¼Œå»çœ‹ç‚¹ä¹¦ä¸å¥½ä¹ˆï¼ŸğŸ˜</p>
<p>ç­‰å¾…ç¬¬äº”æ¬¡å®‰è£…çš„éªŒè¯ç»“æœã€‚</p>
<hr>
<p>ï¼ˆ2020å¹´10æœˆ9æ—¥ï¼‰å“ˆå“ˆå“ˆå“ˆå˜¿å˜¿å˜¿å˜¿ç›’ç›’ç›’ç›’ï¼Œè£…å¥½äº†ğŸ‘‡</p>
<p><img data-src="https://s1.ax1x.com/2020/10/09/0rewOf.png" alt="è£…å¥½åçš„æˆªå›¾~"></p>
]]></content>
      <categories>
        <category>æ£é¼“å°ç©æ„å„¿</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¼˜å…ˆçº§é˜Ÿåˆ—çš„ç®€å•æ¢ç´¢</title>
    <url>/2020/10/19/%E4%BC%98%E5%85%88%E7%BA%A7%E9%98%9F%E5%88%97%E7%9A%84%E7%AE%80%E5%8D%95%E6%8E%A2%E7%B4%A2/</url>
    <content><![CDATA[<p>ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆPriority  Queueï¼‰æ˜¯ä¸€ç§æŠ½è±¡æ•°æ®ç»“æ„ï¼ˆAbstract Data Typeï¼ŒADTï¼‰ï¼Œæ“ä½œå’Œé˜Ÿåˆ—ç±»ä¼¼ï¼Œä½†æ˜¯å’Œé˜Ÿåˆ—çš„<strong>å…ˆè¿›å…ˆå‡º</strong>ä¸ä¸€æ ·ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­å…ˆå‡ºçš„æ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ ï¼Œè¿™æ ·çš„æ•°æ®ç»“æ„åœ¨æ“ä½œç³»ç»Ÿå’Œç°å®ç”Ÿæ´»ä¸­å¹¿æ³›å­˜åœ¨ï¼Œä¾‹å¦‚ä»»åŠ¡è°ƒåº¦ã€‚åœ¨è¿™é‡Œåˆ—ä¸¾ä¸€ä¸ªç®—æ³•ç«èµ›é¢˜ç›®ï¼šç¬¬1500ä¸ªä¸‘æ•°ï¼Œæ¥æ¼”ç¤ºç”¨æ³•ã€‚</p>
<a id="more"></a>
<blockquote>
<p>  ä»¥ä¸‹å†…å®¹å‚è€ƒè‡ªã€Šç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ã€‹ï¼ˆç¬¬äºŒç‰ˆï¼‰</p>
</blockquote>
<p>åœ¨C++ä¸­ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—çš„å®šä¹‰åœ¨å¤´æ–‡ä»¶ <code>&lt;queue&gt;</code> ä¸­ï¼Œé€šè¿‡ <code>priority_queue&lt;int&gt; pq</code> ç±»ä¼¼çš„å£°æ˜æ¥ä½¿ç”¨ã€‚åœ¨é»˜è®¤çš„å®ç°ä¸­ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—æ˜¯ä¸€ç§<strong>â€œè¶Šå°çš„æ•´æ•°ä¼˜å…ˆçº§è¶Šä½â€</strong>çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç”±äºä¸æ˜¯å…ˆè¿›å…ˆå‡ºäº†ï¼Œæ‰€ä»¥å–å€¼æ“ä½œä» <code>front()</code> å˜æˆäº† <code>top()</code> ã€‚</p>
<h1 id="1-è‡ªå®šä¹‰ç±»å‹ä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—"><a href="#1-è‡ªå®šä¹‰ç±»å‹ä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—" class="headerlink" title="1. è‡ªå®šä¹‰ç±»å‹ä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—"></a>1. è‡ªå®šä¹‰ç±»å‹ä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—</h1><h2 id="1-1-æä¾›æ¯”è¾ƒå‡½æ•°å¯¹è±¡"><a href="#1-1-æä¾›æ¯”è¾ƒå‡½æ•°å¯¹è±¡" class="headerlink" title="1.1 æä¾›æ¯”è¾ƒå‡½æ•°å¯¹è±¡"></a>1.1 æä¾›æ¯”è¾ƒå‡½æ•°å¯¹è±¡</h2><p>å¯¹äºè‡ªå®šä¹‰ç±»å‹ï¼Œéœ€è¦ä½¿ç”¨ <code>&lt;</code> è¿ç®—ç¬¦æ¥å®Œæˆä¼˜å…ˆçº§æ¯”è¾ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªâ€œé•¿å¾—åƒâ€å‡½æ•°çš„ç»“æ„ä½“æ¥å®šä¹‰æ¯”è¾ƒæ–¹æ³•ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">cmp</span> &#123;</span></span><br><span class="line">    <span class="keyword">public</span> :</span><br><span class="line">        <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a, <span class="keyword">const</span> <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a % <span class="number">10</span> &gt; b % <span class="number">10</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// ä¸ªä½æ•° å¤§çš„ ä¼˜å…ˆçº§åè€Œå°</span></span><br><span class="line">    <span class="built_in">priority_queue</span>&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, cmp&gt; int_pq;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; ++i) int_pq.push(i);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; ++i) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; int_pq.top() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        int_pq.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// &gt;: 10 1 11 12 2 3 13 14 4 15 5 6 16 7 17 8 18 9 19</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ª <code>class</code> æ¥è®©ä¸€ä¸ªå¯¹è±¡â€œé•¿å¾—åƒâ€æ¯”è¾ƒå‡½æ•°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨ <code>struct</code> æ¥å£°æ˜ã€‚æ­¤å¤„å®ç°çš„æ˜¯â€œä¸ªä½æ•°å¤§çš„æ•´æ•°ä¼˜å…ˆçº§åè€Œå°â€çš„ä¾‹å­ã€‚</p>
<p>å½“ç„¶ï¼ŒSTLæä¾›äº†æ›´æ–¹ä¾¿çš„æ–¹æ³•æ¥è¦†ç›–æ‰åŸæ¥çš„ <code>less</code> å‡½æ•°å¯¹è±¡ï¼Œé‚£å°±æ˜¯ <code>greater()</code> å‡½æ•°å¯¹è±¡ï¼Œæ¥æ–¹ä¾¿å®ç°ä¸€äº›å¸¸è§çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">priority_queue</span>&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;&gt;&gt; int_pq;</span><br></pre></td></tr></table></figure>
<h2 id="1-2-å°†ä¸€ä¸ªç±»è®¾è®¡æˆå¯æ¯”è¾ƒçš„"><a href="#1-2-å°†ä¸€ä¸ªç±»è®¾è®¡æˆå¯æ¯”è¾ƒçš„" class="headerlink" title="1.2 å°†ä¸€ä¸ªç±»è®¾è®¡æˆå¯æ¯”è¾ƒçš„"></a>1.2 å°†ä¸€ä¸ªç±»è®¾è®¡æˆå¯æ¯”è¾ƒçš„</h2><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¯¹ä¸€ä¸ªç±»é‡å†™ <code>&gt;</code> è¿ç®—ç¬¦å’Œ <code>&gt;</code> è¿ç®—ç¬¦ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Node(<span class="keyword">int</span> _val) : val(_val) &#123;&#125;</span><br><span class="line">    <span class="comment">// é‡å†™ &lt; è¿ç®—ç¬¦ï¼Œè¿™æ ·ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„ä¼˜å…ˆçº§ï¼Œless å‡½æ•°è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Node &amp;lhs, <span class="keyword">const</span> Node &amp;rhs) &#123;</span><br><span class="line">        <span class="keyword">return</span> lhs.val &lt; rhs.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é‡å†™ &gt; è¿ç®—ç¬¦ï¼Œgreater å‡½æ•°è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> Node &amp;lhs, <span class="keyword">const</span> Node &amp;rhs) &#123;</span><br><span class="line">        <span class="keyword">return</span> lhs.val &gt; rhs.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> <span class="built_in">string</span> <span class="title">toString</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> to_string(val); &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé‡å†™äº†è¿™ä¸¤ä¸ªè¿ç®—ç¬¦ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªè¿ç®—ç¬¦å°†ä¼šå¸®åŠ©ä¼˜å…ˆçº§é˜Ÿåˆ—æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„ä¼˜å…ˆçº§ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">priority_queue</span>&lt;Node&gt; node_pq;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; ++i) node_pq.push(Node(i));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; ++i) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; node_pq.top().toString() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        node_pq.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// &gt;: 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ greater æ¥è®©æ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šå¤§</span></span><br><span class="line">    <span class="built_in">priority_queue</span>&lt;Node, <span class="built_in">vector</span>&lt;Node&gt;, greater&lt;Node&gt;&gt; rev_pq;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; ++i) rev_pq.push(Node(i));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; ++i) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; rev_pq.top().toString() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        rev_pq.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// &gt;: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å—¯ï¼Œå¥½ç”¨ï¼ğŸ˜‹ğŸ˜‹ğŸ˜‹</p>
<h1 id="2-ä¸‘æ•°ï¼ˆUgly-Numbers-UVa-136ï¼‰"><a href="#2-ä¸‘æ•°ï¼ˆUgly-Numbers-UVa-136ï¼‰" class="headerlink" title="2. ä¸‘æ•°ï¼ˆUgly Numbers, UVa 136ï¼‰"></a>2. ä¸‘æ•°ï¼ˆUgly Numbers, UVa 136ï¼‰</h1><p>ä¸‘æ•°æ˜¯æŒ‡ä¸èƒ½è¢«<strong>2, 3, 5</strong>ä»¥å¤–çš„å…¶ä»–<strong>ç´ æ•°</strong>æ•´é™¤çš„æ•°ï¼ŒæŠŠä¸‘æ•°ä»å°åˆ°å¤§æ’åºï¼Œå¾—åˆ°ï¼š</p>
<script type="math/tex; mode=display">
1,2,3,4,5,6,8,9,10,12,15...</script><p>æ±‚ç¬¬<strong>1500</strong>ä¸ªä¸‘æ•°ã€‚</p>
<p><strong>ã€åˆ†æã€‘</strong>ï¼š</p>
<p>ä»å°åˆ°è¾¾ç”Ÿæˆä¸‘æ•°ï¼Œæœ€å°çš„ä¸‘æ•°æ˜¯1ï¼Œå¯¹äºä»»æ„<strong>xï¼Œ2xï¼Œ3x</strong>ä¹Ÿéƒ½æ˜¯ä¸‘æ•°ã€‚å› æ­¤å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé›†åˆæ¥ä¿å­˜æ‰€æœ‰çš„ä¸‘æ•°ï¼ˆé˜²æ­¢é‡å¤ï¼‰ï¼Œä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—æ¥ä¿å­˜ç”¨æ¥ç”Ÿæˆä¸‘æ•°çš„æ•°æ®ï¼ˆä¿è¯èƒ½å¤Ÿå–åˆ°å½“å‰æœ€å°çš„ä¸‘æ•°ï¼‰ï¼Œè¿™æ ·æ¯æ¬¡å¯ä»¥å¾—åˆ°3ä¸ªä¸‘æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/10/19.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/10/19 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> coeff[<span class="number">3</span>] = &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æŠŠä¸‘æ•°ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">    <span class="built_in">priority_queue</span>&lt;LL, <span class="built_in">vector</span>&lt;LL&gt;, greater&lt;&gt;&gt; pq;</span><br><span class="line">    <span class="comment">// ä¸‘æ•°é›†åˆ</span></span><br><span class="line">    <span class="built_in">set</span>&lt;LL&gt; s;</span><br><span class="line">    <span class="comment">// åˆå§‹å€¼æ”¾è¿›æ¥</span></span><br><span class="line">    pq.push(<span class="number">1</span>);</span><br><span class="line">    s.insert(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;; ++i) &#123;</span><br><span class="line">        LL x = pq.top();</span><br><span class="line">        pq.pop();</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">1500</span>) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;The 1500`th ugly number is &quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;.&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; ++j) &#123;</span><br><span class="line">            LL x2 = x * coeff[j];</span><br><span class="line">            <span class="keyword">if</span> (!s.count(x2)) &#123;</span><br><span class="line">                s.insert(x2);</span><br><span class="line">                pq.push(x2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­å–œ~è§£å†³ä¸€ä¸ªç®€å•é¢˜~ğŸ˜‰</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>é˜…è¯»ç¬”è®°</tag>
        <tag>C/C++</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>é˜Ÿåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¿¡æ¯å®‰å…¨é¢†åŸŸå›½é™…ä¼šè®®</title>
    <url>/2020/09/19/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E9%A2%86%E5%9F%9F%E5%9B%BD%E9%99%85%E4%BC%9A%E8%AE%AE/</url>
    <content><![CDATA[<p>äº†è§£ä¸€ä¸‹ä¿¡æ¯å®‰å…¨é¢†åŸŸçš„å›½é™…é¡¶ä¼š</p>
<a id="more"></a>
<h1 id="å››å¤§ä¿¡æ¯å®‰å…¨å›½é™…ä¼šè®®"><a href="#å››å¤§ä¿¡æ¯å®‰å…¨å›½é™…ä¼šè®®" class="headerlink" title="å››å¤§ä¿¡æ¯å®‰å…¨å›½é™…ä¼šè®®"></a>å››å¤§ä¿¡æ¯å®‰å…¨å›½é™…ä¼šè®®</h1><h2 id="1-CCSï¼ˆComputer-and-Communications-Securityï¼‰"><a href="#1-CCSï¼ˆComputer-and-Communications-Securityï¼‰" class="headerlink" title="1. CCSï¼ˆComputer and Communications Securityï¼‰"></a>1. <a href="https://dl.acm.org/conference/ccs">CCSï¼ˆComputer and Communications Securityï¼‰</a></h2><h3 id="é€šç”¨ä¿¡æ¯"><a href="#é€šç”¨ä¿¡æ¯" class="headerlink" title="é€šç”¨ä¿¡æ¯"></a>é€šç”¨ä¿¡æ¯</h3><p>åç§°ï¼šè®¡ç®—æœºä¸é€šä¿¡å®‰å…¨</p>
<p>æ—¥æœŸï¼š1993-ä»Š</p>
<p>ä½ç½®ï¼šç¾å›½</p>
<h3 id="è®ºæ–‡æäº¤ä¿¡æ¯"><a href="#è®ºæ–‡æäº¤ä¿¡æ¯" class="headerlink" title="è®ºæ–‡æäº¤ä¿¡æ¯"></a>è®ºæ–‡æäº¤ä¿¡æ¯</h3><p>æ‘˜è¦ï¼š</p>
<p>å…¨æ–‡ï¼š</p>
<p>æ¼”ç¤ºæ–¹å¼ï¼š</p>
<h3 id="ç»„ç»‡æœºæ„ä¿¡æ¯"><a href="#ç»„ç»‡æœºæ„ä¿¡æ¯" class="headerlink" title="ç»„ç»‡æœºæ„ä¿¡æ¯"></a>ç»„ç»‡æœºæ„ä¿¡æ¯</h3><p>èµåŠ©è€…ï¼šSIGSAC</p>
<p>ç»„ç»‡è€…ï¼šACM</p>
<p>ç»„ç»‡å§”å‘˜ä¼šï¼šCommittee on Publication Ethics (COPE)</p>
<p>å­¦æœ¯å§”å‘˜ä¼šï¼šACM</p>
<p>å…¶ä»–å§”å‘˜ä¼šï¼š</p>
<h3 id="å‚ä¸è€…ä¿¡æ¯"><a href="#å‚ä¸è€…ä¿¡æ¯" class="headerlink" title="å‚ä¸è€…ä¿¡æ¯"></a>å‚ä¸è€…ä¿¡æ¯</h3><p>å‚ä¸è€…æ•°é‡ï¼š</p>
<p>å‚ä¼šè€…è¦æ±‚ï¼š</p>
<p>ä¼šè®®VIP</p>
<p>å…¶ä»–æˆå‘˜</p>
<h3 id="ä¼šè®®ç¨‹åº"><a href="#ä¼šè®®ç¨‹åº" class="headerlink" title="ä¼šè®®ç¨‹åº"></a>ä¼šè®®ç¨‹åº</h3><p>ä¼šè®®æ‰‹å†Œï¼š</p>
<p>é‚€è¯·ï¼š</p>
<blockquote>
<p>  We invite submissions from academia, government, and industry presenting novel research on all theoretical and practical aspects of computer security, as well as case studies and implementation experiences.</p>
</blockquote>
<p>å¾æ–‡ï¼š<a href="https://www.acm.org/publications/authors/calls-for-papers">https://www.acm.org/publications/authors/calls-for-papers</a></p>
<hr>
<h2 id="2-USENIX-Security"><a href="#2-USENIX-Security" class="headerlink" title="2. USENIX Security"></a>2. <a href="https://www.usenix.org/conference/usenixsecurity21">USENIX Security</a></h2><h3 id="é€šç”¨ä¿¡æ¯-1"><a href="#é€šç”¨ä¿¡æ¯-1" class="headerlink" title="é€šç”¨ä¿¡æ¯"></a>é€šç”¨ä¿¡æ¯</h3><p>åç§°ï¼šUSENIX å®‰å…¨</p>
<p>æ—¥æœŸï¼š1975-ä»Š</p>
<p>ä½ç½®ï¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">USENIX Association</span><br><span class="line">2560 Ninth St., Suite 215</span><br><span class="line">Berkeley, CA 94710</span><br><span class="line">USA</span><br></pre></td></tr></table></figure>
<h3 id="è®ºæ–‡æäº¤ä¿¡æ¯-1"><a href="#è®ºæ–‡æäº¤ä¿¡æ¯-1" class="headerlink" title="è®ºæ–‡æäº¤ä¿¡æ¯"></a>è®ºæ–‡æäº¤ä¿¡æ¯</h3><p>æ‘˜è¦ï¼š</p>
<p>å…¨æ–‡ï¼š</p>
<p>æ¼”ç¤ºæ–¹å¼ï¼š</p>
<h3 id="ç»„ç»‡æœºæ„ä¿¡æ¯-1"><a href="#ç»„ç»‡æœºæ„ä¿¡æ¯-1" class="headerlink" title="ç»„ç»‡æœºæ„ä¿¡æ¯"></a>ç»„ç»‡æœºæ„ä¿¡æ¯</h3><p>èµåŠ©è€…ï¼šUSENIX</p>
<p>ç»„ç»‡è€…ï¼šMichael Bailey, Rachel Greenstadt</p>
<p>ç»„ç»‡å§”å‘˜ä¼šï¼šYousra Aafer, <em>University of Waterloo</em>, Ruba Abu-Salma, <em>University College London and Inria</em> â€¦</p>
<p>å­¦æœ¯å§”å‘˜ä¼šï¼š</p>
<p>å…¶ä»–å§”å‘˜ä¼šï¼šSrdjan Capkun, <em>ETH Zurich</em></p>
<h3 id="å‚ä¸è€…ä¿¡æ¯-1"><a href="#å‚ä¸è€…ä¿¡æ¯-1" class="headerlink" title="å‚ä¸è€…ä¿¡æ¯"></a>å‚ä¸è€…ä¿¡æ¯</h3><p>å‚ä¸è€…æ•°é‡ï¼š</p>
<p>å‚ä¼šè€…è¦æ±‚ï¼š</p>
<p>ä¼šè®®VIPï¼š</p>
<p>å…¶ä»–æˆå‘˜</p>
<h3 id="ä¼šè®®ç¨‹åº-1"><a href="#ä¼šè®®ç¨‹åº-1" class="headerlink" title="ä¼šè®®ç¨‹åº"></a>ä¼šè®®ç¨‹åº</h3><p>ä¼šè®®æ‰‹å†Œï¼š<a href="https://www.usenix.org/conferences/coc">https://www.usenix.org/conferences/coc</a></p>
<p>é‚€è¯·ï¼š</p>
<blockquote>
<p>Invited talks and panel discussions will be held in parallel with the refereed paper sessions. Please submit topic suggestions and talk and panel proposals via email to <a href="mailto:sec21it@usenix.org">sec21it@usenix.org</a> by Thursday, February 4, 2021.</p>
</blockquote>
<p>å¾æ–‡ï¼š<a href="https://www.usenix.org/conference/usenixsecurity21/call-for-papers">https://www.usenix.org/conference/usenixsecurity21/call-for-papers</a></p>
<hr>
<h2 id="3-IEEE-Symposium-on-Security-and-Privacy"><a href="#3-IEEE-Symposium-on-Security-and-Privacy" class="headerlink" title="3. IEEE Symposium on Security and Privacy"></a>3. <a href="http://www.ieee-security.org/TC/SP-Index.html">IEEE Symposium on Security and Privacy</a></h2><h3 id="é€šç”¨ä¿¡æ¯-2"><a href="#é€šç”¨ä¿¡æ¯-2" class="headerlink" title="é€šç”¨ä¿¡æ¯"></a>é€šç”¨ä¿¡æ¯</h3><p>åç§°ï¼šIEEE å®‰å…¨éšç§ç ”è®¨ä¼š</p>
<p>æ—¥æœŸï¼š1980-ä»Š</p>
<p>ä½ç½®ï¼šç¾å›½</p>
<h3 id="è®ºæ–‡æäº¤ä¿¡æ¯-2"><a href="#è®ºæ–‡æäº¤ä¿¡æ¯-2" class="headerlink" title="è®ºæ–‡æäº¤ä¿¡æ¯"></a>è®ºæ–‡æäº¤ä¿¡æ¯</h3><p>æ‘˜è¦ï¼š</p>
<p>å…¨æ–‡ï¼š</p>
<p>æ¼”ç¤ºæ–¹å¼ï¼š</p>
<h3 id="ç»„ç»‡æœºæ„ä¿¡æ¯-2"><a href="#ç»„ç»‡æœºæ„ä¿¡æ¯-2" class="headerlink" title="ç»„ç»‡æœºæ„ä¿¡æ¯"></a>ç»„ç»‡æœºæ„ä¿¡æ¯</h3><p>èµåŠ©è€…ï¼šIEEE Computer Security Technical Committee on Security and Privacy</p>
<p>ç»„ç»‡è€…ï¼š2019ï¼šSean Peisert</p>
<p>ç»„ç»‡å§”å‘˜ä¼šï¼šIEEE Computer Security Technical Committee</p>
<p>å­¦æœ¯å§”å‘˜ä¼šï¼šTechnical Committee on Security and Privacy</p>
<p>å…¶ä»–å§”å‘˜ä¼šï¼š</p>
<h3 id="å‚ä¸è€…ä¿¡æ¯-2"><a href="#å‚ä¸è€…ä¿¡æ¯-2" class="headerlink" title="å‚ä¸è€…ä¿¡æ¯"></a>å‚ä¸è€…ä¿¡æ¯</h3><p>å‚ä¸è€…æ•°é‡ï¼š</p>
<p>å‚ä¼šè€…è¦æ±‚ï¼š</p>
<p>ä¼šè®®VIPï¼š</p>
<p>å…¶ä»–æˆå‘˜</p>
<h3 id="ä¼šè®®ç¨‹åº-2"><a href="#ä¼šè®®ç¨‹åº-2" class="headerlink" title="ä¼šè®®ç¨‹åº"></a>ä¼šè®®ç¨‹åº</h3><p>ä¼šè®®æ‰‹å†Œï¼š<a href="https://www.usenix.org/conferences/coc">https://www.usenix.org/conferences/coc</a></p>
<p>é‚€è¯·ï¼š</p>
<p>å¾æ–‡ï¼š<a href="https://www.ieee-security.org/TC/SP2021/cfpapers.html">https://www.ieee-security.org/TC/SP2021/cfpapers.html</a></p>
<hr>
<h2 id="4-NDSS"><a href="#4-NDSS" class="headerlink" title="4. NDSS"></a>4. <a href="https://www.ndss-symposium.org/">NDSS</a></h2><h3 id="é€šç”¨ä¿¡æ¯-3"><a href="#é€šç”¨ä¿¡æ¯-3" class="headerlink" title="é€šç”¨ä¿¡æ¯"></a>é€šç”¨ä¿¡æ¯</h3><p>åç§°ï¼šNetwork and Distributed System Security Symposium</p>
<p>æ—¥æœŸï¼š1992-ä»Š</p>
<p>ä½ç½®ï¼šç¾å›½</p>
<h3 id="è®ºæ–‡æäº¤ä¿¡æ¯-3"><a href="#è®ºæ–‡æäº¤ä¿¡æ¯-3" class="headerlink" title="è®ºæ–‡æäº¤ä¿¡æ¯"></a>è®ºæ–‡æäº¤ä¿¡æ¯</h3><p>æ‘˜è¦ï¼š<a href="https://www.ndss-symposium.org/ndss2020/templates/">https://www.ndss-symposium.org/ndss2020/templates/</a></p>
<p>å…¨æ–‡ï¼š</p>
<p>æ¼”ç¤ºæ–¹å¼ï¼š</p>
<h3 id="ç»„ç»‡æœºæ„ä¿¡æ¯-3"><a href="#ç»„ç»‡æœºæ„ä¿¡æ¯-3" class="headerlink" title="ç»„ç»‡æœºæ„ä¿¡æ¯"></a>ç»„ç»‡æœºæ„ä¿¡æ¯</h3><p>èµåŠ©è€…ï¼šNFSã€Googleã€Intelã€Internet Societyã€CISCO</p>
<p>ç»„ç»‡è€…ï¼šNDSS 2020</p>
<p>ç»„ç»‡å§”å‘˜ä¼šï¼šTrent Jaeger, co-chair, <em>Pennsylvania State University</em></p>
<p>å­¦æœ¯å§”å‘˜ä¼šï¼šNDSS 2020 Program Committee</p>
<p>å…¶ä»–å§”å‘˜ä¼šï¼š</p>
<h3 id="å‚ä¸è€…ä¿¡æ¯-3"><a href="#å‚ä¸è€…ä¿¡æ¯-3" class="headerlink" title="å‚ä¸è€…ä¿¡æ¯"></a>å‚ä¸è€…ä¿¡æ¯</h3><p>å‚ä¸è€…æ•°é‡ï¼š</p>
<p>å‚ä¼šè€…è¦æ±‚ï¼š</p>
<ol>
<li><p>University Researchers and Educators</p>
</li>
<li><p>Chief Technology and Privacy Officers</p>
</li>
<li><p>Security Analysts and System Administrators</p>
</li>
<li><p>Operations and Security Managers</p>
</li>
</ol>
<p><em>Attendance is limited to foster maximum exchange of information and ideas.</em></p>
<p>ä¼šè®®VIPï¼š</p>
<p>å…¶ä»–æˆå‘˜</p>
<h3 id="ä¼šè®®ç¨‹åº-3"><a href="#ä¼šè®®ç¨‹åº-3" class="headerlink" title="ä¼šè®®ç¨‹åº"></a>ä¼šè®®ç¨‹åº</h3><p>ä¼šè®®æ‰‹å†Œï¼š<a href="https://www.ndss-symposium.org/ndss2020/coronavirus-covid-19-update/">https://www.ndss-symposium.org/ndss2020/coronavirus-covid-19-update/</a></p>
<p>é‚€è¯·ï¼š</p>
<p>å¾æ–‡ï¼š<a href="https://www.ndss-symposium.org/ndss-2021/call-for-papers/">https://www.ndss-symposium.org/ndss-2021/call-for-papers/</a></p>
]]></content>
      <categories>
        <category>ä¿¡æ¯å®‰å…¨</category>
      </categories>
      <tags>
        <tag>åˆå‡ºèŒ…åº</tag>
        <tag>ä¿¡æ¯å®‰å…¨ä¼šè®®</tag>
      </tags>
  </entry>
  <entry>
    <title>å †æ•°æ®ç»“æ„</title>
    <url>/2020/11/21/%E5%A0%86%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<p>å°è±¡ä¸­æ€»æ˜¯è§‰å¾— <code>heap</code> æ•°æ®ç»“æ„æ˜¯åœ¨STLä¸­çš„ä¸€ä¸ªæ ‡å‡†ç»„ä»¶ğŸ¤”ï¼Œæƒ³äº†è§£å­¦ä¹ ä¸€ä¸‹STLåˆæ˜¯ä»¥æ€æ ·ä¸€ç§å·§å¦™å……æ»¡è®¾è®¡æ„Ÿçš„æ–¹æ³•ğŸ˜²æ¥å®Œæˆçš„ï¼Œä½†è¿Ÿè¿Ÿæ²¡æœ‰æ‰¾åˆ°å®ƒåˆ°åº•åœ¨å“ªé‡Œæ”¾ç€ğŸ¤”ï¼Œéšç€æ—¶é—´æ¨ç§»ä¹Ÿå°±å¯¹å…¶ä¸äº†äº†ä¹‹ğŸ˜ŒğŸ¥±ğŸ˜´ã€‚ä»Šå¤©æ‰å‘ç°å®ƒå¹¶ä¸æ˜¯ğŸ˜®ï¼Œå®ƒæ²¡æœ‰ä»¥æ¨¡æ¿ç±»çš„æ–¹å¼æä¾›æ¥å£ï¼Œä½†æ˜¯å´ä»¥å¦å¤–ä¸€ç§æ›´åŠ é€šç”¨å’Œä¾¿æºçš„æ–¹å¼å±•ç°å…¶ç®—æ³•ç²¾é«“ã€‚</p>
<hr>
<p>ä»Šå¤©åƒçš„é±¼æ‘†æ‘†é’ˆä¸æˆ³~ğŸŸğŸ¦ˆğŸ¬ğŸ³ğŸ‹ã€‚</p>
<hr>
<a id="more"></a>
<p><strong>ä»¥ä¸‹æ­£æ–‡ï¼š</strong></p>
<p>å…¶å®åœ¨<a href="https://mp.weixin.qq.com/s/ZshY9tIUchV-1mabYOcgZQ">ä¼˜å…ˆçº§é˜Ÿåˆ—</a>ï¼ˆ <code>priority_queue</code> ï¼‰ä¸­å·²ç»ç”¨åˆ°å®ƒäº†ï¼Œè¿™ä¸ªå®¹å™¨å…è®¸ç”¨æˆ·ä»¥ä»»æ„é¡ºåºæ”¾å…¥å®¹å™¨å†…ï¼Œä½†æ˜¯å–å‡ºæ¥çš„æ—¶å€™ï¼Œä¸€å®šä¼šæŠŠæœ€é«˜ä¼˜å…ˆçº§çš„å…ƒç´ å…ˆå–å‡ºæ¥ã€‚è¿™é‡Œå®ƒç”¨åˆ°çš„æ˜¯ <code>binary-max-heap</code> ä½œä¸º <code>priority_queue</code> çš„åº•å±‚ç‰¹æ€§ã€‚</p>
<p>åœ¨åº•å±‚è¡¨ç¤ºä¸Šï¼Œ<code>binary-max-heap</code> å°±æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œè€Œä¸”ä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„æ¥æ¥è¡¨ç¤ºã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒå°†ç¬¬ä¸€ä¸ªä½ç½®ä¿ç•™ä¸‹æ¥ä¸ä½¿ç”¨ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯ä¹‹åçš„å­èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹æœ‰è¿™æ ·çš„å…³ç³»ï¼š</p>
<ul>
<li>å­èŠ‚ç‚¹ $i$ çš„çˆ¶èŠ‚ç‚¹ä¸€å®šæ˜¯ $2 * i$</li>
<li>çˆ¶èŠ‚ç‚¹ $i$ çš„å·¦å­èŠ‚ç‚¹ä¸€å®šæ˜¯ $i / 2$ï¼Œå³å­èŠ‚ç‚¹ä¸€å®šæ˜¯ $i / 2 + 1$</li>
</ul>
<p>è¿™ä¹ˆä¸€æ¥ï¼Œå°±æ–¹ä¾¿å¤šäº†ğŸ˜‰ã€‚</p>
<p>è§£å†³äº†èŠ‚ç‚¹ç´¢å¼•é—®é¢˜ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯å­˜å‚¨é—®é¢˜ï¼Œç”±äº <code>heap</code> æ˜¯æ”¯æŒåŠ¨æ€æ’å…¥åˆ é™¤å…ƒç´ çš„ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯ç”¨ <code>vector</code> æ¥ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œ<code>heap</code> æ˜¯æœ‰ä¸¤ç§æ ¼å¼çš„ï¼Œä¸€ç§æ˜¯å¤§æ ¹å †ï¼ˆmax-heapï¼‰ï¼Œå¦ä¸€ç§æ˜¯å°æ ¹å †ï¼ˆmin-heapï¼‰ï¼Œå‰è€…æ„å‘³ç€å †ä¸­æœ€å¤§å…ƒç´ åœ¨æ ¹èŠ‚ç‚¹ä¸Šï¼Œæ¯ä¸€æ£µå­æ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯è¦å¤§äºå®ƒçš„å·¦å³å­èŠ‚ç‚¹çš„ï¼Œåè€…æ°æ°ç›¸åã€‚åœ¨STLä¸­é»˜è®¤æä¾›çš„æ˜¯å¤§æ ¹å †ï¼Œä¹Ÿå°±æ˜¯ä¼˜å…ˆçº§ï¼ˆæˆ–è€…ä»£è¡¨ä¼˜å…ˆçº§æœ€é«˜çš„é”®å€¼ï¼‰æœ€å¤§çš„åœ¨æ ¹èŠ‚ç‚¹ä¸Šã€‚</p>
<h1 id="1-heap-ç®—æ³•"><a href="#1-heap-ç®—æ³•" class="headerlink" title="1. heap ç®—æ³•"></a>1. heap ç®—æ³•</h1><p>ä»¥ä¸‹å‡å‡è®¾ <code>heap</code> ä½¿ç”¨ <code>vector</code> æ¥å­˜å‚¨å…ƒç´ ï¼Œè€Œä¸”ç¬¬ä¸€ä¸ªä½ç½®ä¸ç”¨ã€‚</p>
<h2 id="1-1-push-heap-ç®—æ³•"><a href="#1-1-push-heap-ç®—æ³•" class="headerlink" title="1.1 push-heap ç®—æ³•"></a>1.1 <code>push-heap</code> ç®—æ³•</h2><p>ç®€è€Œè¨€ä¹‹ï¼šå…ˆæŠŠå…ƒç´ æ”¾åˆ° <code>vector</code> æœ«å°¾ <code>v.end()</code>ï¼Œç„¶åå‘ä¸Šè°ƒæ•´ï¼Œæ‰§è¡Œ<strong>ä¸Šæº¯ç¨‹åº</strong>ï¼š</p>
<blockquote>
<p>  å°†æ–°èŠ‚ç‚¹æ‹¿æ¥ä¸å…¶çˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¦‚æœå…¶ä¼˜å…ˆçº§æ¯”çˆ¶å…ƒç´ å¤§ï¼Œé‚£ä¹ˆå°±è°ƒæ¢ä¸¤è€…ä½ç½®ï¼Œå¦‚æ­¤åå¤ç›´åˆ°æ ¹èŠ‚ç‚¹æˆ–è€…ä¸ç”¨å†è°ƒã€‚</p>
</blockquote>
<p>å…·ä½“æºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªå®ç°ä¸­ï¼Œä¸æ”¯æŒè‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨é¢„å®šä¹‰çš„æ¯”è¾ƒå‡½æ•° cmp</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">void</span></span><br><span class="line">push_heap(_RandomAccessIterator __first, _RandomAccessIterator __last) &#123;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_RandomAccessIterator&gt;::value_type</span><br><span class="line">            _ValueType;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_RandomAccessIterator&gt;::difference_type</span><br><span class="line">            _DistanceType;</span><br><span class="line">    <span class="comment">// æ¯”è¾ƒå‡½æ•°ï¼Œè§ä¸‹æ–‡</span></span><br><span class="line">    __gnu_cxx::__ops::_Iter_less_val __comp;</span><br><span class="line">    _ValueType __value = _GLIBCXX_MOVE(*(__last - <span class="number">1</span>)); <span class="comment">// å…ˆå–å‡ºæ¥æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="built_in">std</span>::__push_heap(__first, _DistanceType((__last - __first) - <span class="number">1</span>),</span><br><span class="line">                     _DistanceType(<span class="number">0</span>), _GLIBCXX_MOVE(__value), __comp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™ä¸ªå®ç°ä¸­ï¼Œæ”¯æŒäº†è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•° cmp</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">void</span></span><br><span class="line">push_heap(_RandomAccessIterator __first, _RandomAccessIterator __last,</span><br><span class="line">          _Compare __comp) &#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰äº†ä¸€å †æœ‰çš„æ²¡çš„ï¼Œå¿½ç•¥å¹¶ä¸å¦¨ç¢ç†è§£ä¸‹æ–‡</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_RandomAccessIterator&gt;::value_type _ValueType;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_RandomAccessIterator&gt;::difference_type _DistanceType;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°æ¯”è¾ƒå‡½æ•°å¹¶å¼•å…¥è¿›æ¥</span></span><br><span class="line">    __decltype(__gnu_cxx::__ops::__iter_comp_val(_GLIBCXX_MOVE(__comp)))</span><br><span class="line">    __cmp(_GLIBCXX_MOVE(__comp));</span><br><span class="line">    <span class="comment">// è·å–æœ€åçš„é‚£ä¸ªå€¼</span></span><br><span class="line">    _ValueType __value = _GLIBCXX_MOVE(*(__last - <span class="number">1</span>));</span><br><span class="line">    <span class="built_in">std</span>::__push_heap(__first, _DistanceType((__last - __first) - <span class="number">1</span>),</span><br><span class="line">                     _DistanceType(<span class="number">0</span>), _GLIBCXX_MOVE(__value), __cmp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨é˜…è¯»è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æœ‰å¥½å¤šä¸ª <code>cmp</code> ï¼Œä»å­—é¢ä¸Šä¸éš¾ç†è§£æ˜¯ä¸€ä¸ªç”¨æ¥æ¯”è¾ƒçš„å‡½æ•° <code>compare</code> ï¼Œå®ƒçš„å®šä¹‰åœ¨ <code>predefined_ops.h</code> ä¸­ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> _<span class="title">Iter_less_iter</span> &#123;</span></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Iterator1, <span class="keyword">typename</span> _Iterator2&gt;</span><br><span class="line">    <span class="comment">// æ¯”è¾ƒå‡½æ•°ï¼Œå› ä¸ºæ˜¯ &lt; æ‰€ä»¥æœ€ç»ˆæ’åºç»“æœä¼šæ˜¯ä»å¤§åˆ°å°</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(_Iterator1 __it1, _Iterator2 __it2)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> *__it1 &lt; *__it2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å†å›åˆ°ä¸Šé¢çš„å…·ä½“å®ç°ä¸­å»ï¼Œå®ƒä»¬åœ¨æœ€åéƒ½è°ƒç”¨äº†ä¸€ä¸ª <code>__push_heap()</code> çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯çœŸæ­£å®Œæˆå…¥å †æ“ä½œçš„å‡½æ•°ï¼Œä¹‹æ‰€ä»¥å†™æˆè¿™æ ·å°±æ˜¯ä¸ºäº†éšè—æ¥å£ï¼Œå®ƒçš„å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// çœŸæ­£å®Œæˆæ“ä½œçš„å‡½æ•°ï¼Œæä¾›ç»™ä¸‹é¢ä¸¤ä¸ª push_heap æ¥è°ƒç”¨</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator, <span class="keyword">typename</span> _Distance, <span class="keyword">typename</span> _Tp,</span><br><span class="line">        <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line"><span class="keyword">void</span></span><br><span class="line">__push_heap(_RandomAccessIterator __first,</span><br><span class="line">            _Distance __holeIndex, _Distance __topIndex, _Tp __value,</span><br><span class="line">            _Compare &amp;__comp) &#123;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°çˆ¶èŠ‚ç‚¹ä½ç½®</span></span><br><span class="line">    _Distance __parent = (__holeIndex - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹è¿˜æ²¡åˆ°é¡¶ç‚¹å¤„ï¼Œè€Œä¸”å…ƒç´ æ¯”è¾ƒç»“æœä»ä¸ç¬¦åˆè¦æ±‚ï¼ˆä¼˜å…ˆçº§å¤§çš„åœ¨ä¸‹é¢ï¼‰</span></span><br><span class="line">    <span class="keyword">while</span> (__holeIndex &gt; __topIndex &amp;&amp; __comp(__first + __parent, __value)) &#123;</span><br><span class="line">        <span class="comment">// è°ƒæ•´çˆ¶èŠ‚ç‚¹å’Œå½“å‰å­èŠ‚ç‚¹çš„å…ƒç´ å†…å®¹</span></span><br><span class="line">        *(__first + __holeIndex) = _GLIBCXX_MOVE(*(__first + __parent));</span><br><span class="line">        __holeIndex = __parent;</span><br><span class="line">        __parent = (__holeIndex - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°äº†å…ƒç´ çš„ä½ç½®ï¼Œç„¶åæ”¾ä¸‹æ¥</span></span><br><span class="line">    *(__first + __holeIndex) = _GLIBCXX_MOVE(__value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-2-pop-heap-ç®—æ³•"><a href="#1-2-pop-heap-ç®—æ³•" class="headerlink" title="1.2 pop_heap ç®—æ³•"></a>1.2 <code>pop_heap</code> ç®—æ³•</h2><p>è¿™ä¸ªè¿‡ç¨‹å¯å°±æ²¡æœ‰ <code>push_heap</code> è¿‡ç¨‹ç®€å•äº†ã€‚å®ƒå…ˆæŠŠæ ¹èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯<code>vector</code> ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å–èµ°ï¼ˆå…¶å®æ˜¯æ”¾åˆ°äº†æœ«ç«¯ï¼‰ï¼ŒåŒæ—¶æŠŠæœ€åä¸€ä¸ªå…ƒç´ å–å‡ºæ¥ã€‚ç„¶åæ‰§è¡Œ<strong>ä¸‹æº¯ç¨‹åº</strong>ï¼š</p>
<blockquote>
<p>  å°†ç©ºé—´èŠ‚ç‚¹å’Œå…¶è¾ƒå¤§å­èŠ‚ç‚¹å¯¹è°ƒï¼Œå¹¶æŒç»­ä¸‹æ”¾ï¼Œç›´åˆ°å¶å­èŠ‚ç‚¹ã€‚</p>
</blockquote>
<p>è¿™ä¸ªè¿‡ç¨‹å®Œæˆçš„æ˜¯æŠŠç©ºå‡ºæ¥çš„ç¬¬ä¸€ä¸ªä½ç½®å¡«å……ä¸Šåˆé€‚çš„æ ¹èŠ‚ç‚¹ã€‚</p>
<p>æ‰§è¡Œå®Œä¹‹åï¼Œå†æ‰§è¡Œ<strong>ä¸Šæº¯ç¨‹åº</strong>ï¼Œè¿™ä¸ªè¿‡ç¨‹å®Œæˆçš„æ˜¯æŠŠä¹‹å‰å–å‡ºæ¥çš„æœ€åä¸€ä¸ªå…ƒç´ æ”¾å›åˆ°åˆé€‚çš„ä½ç½®å»ã€‚</p>
<p>ä¸‹é¢æ˜¯å®ƒçš„å®ç°ç»†èŠ‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">void</span></span><br><span class="line">pop_heap(_RandomAccessIterator __first, _RandomAccessIterator __last) &#123;</span><br><span class="line">    <span class="comment">// åˆ æ‰äº†ä¸€äº›å¹¶ä¸å½±å“é˜…è¯»çš„ç¨‹åº</span></span><br><span class="line">    <span class="keyword">if</span> (__last - __first &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// é¦–å…ˆï¼Œç¼©å‡ç©ºé—´æŒ‡ç¤ºå™¨</span></span><br><span class="line">        --__last;</span><br><span class="line">        <span class="comment">// ç„¶åï¼Œå¯¼å…¥é»˜è®¤çš„æ¯”è¾ƒå‡½æ•°ï¼Œè§ä¸Šæ–‡</span></span><br><span class="line">        __gnu_cxx::__ops::_Iter_less_iter __comp;</span><br><span class="line">        <span class="comment">// è°ƒç”¨çœŸæ­£çš„å…¥å †å‡½æ•°</span></span><br><span class="line">        <span class="built_in">std</span>::__pop_heap(__first, __last, __last, __comp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">void</span></span><br><span class="line">pop_heap(_RandomAccessIterator __first,</span><br><span class="line">         _RandomAccessIterator __last, _Compare __comp) &#123;</span><br><span class="line">    <span class="comment">// è¿˜æ˜¯åˆ æ‰äº†ä¸€äº›å¹¶ä¸å½±å“é˜…è¯»çš„ç¨‹åº</span></span><br><span class="line">    <span class="keyword">if</span> (__last - __first &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// å¼•å…¥è¿›æ¥æ¯”è¾ƒå‡½æ•°ï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„å™¢~</span></span><br><span class="line">        <span class="keyword">typedef</span> __decltype(__comp)</span><br><span class="line">        _Cmp;</span><br><span class="line">        __gnu_cxx::__ops::_Iter_comp_iter&lt;_Cmp&gt; __cmp(_GLIBCXX_MOVE(__comp));</span><br><span class="line">        <span class="comment">// ç¼©å‡ç©ºé—´æŒ‡ç¤ºå™¨</span></span><br><span class="line">        --__last;</span><br><span class="line">        <span class="comment">// æ”¾åˆ°å †é‡Œ</span></span><br><span class="line">        <span class="built_in">std</span>::__pop_heap(__first, __last, __last, __cmp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®çœ‹åˆ° <code>__pop_heap()</code> ï¼Œä¸éš¾çŒœæµ‹å’Œ <code>push_heap()</code> ä¸€æ ·çš„æ“ä½œï¼šå®šä¹‰äº†ä¸€ä¸ªâ€œç§˜å¯†â€ä½†â€œçœŸæ­£â€å®ŒæˆæŠŠå…ƒç´ æ”¾åˆ°å †é‡Œé¢çš„æ“ä½œã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">void</span></span><br><span class="line">__pop_heap(_RandomAccessIterator __first, _RandomAccessIterator __last,</span><br><span class="line">           _RandomAccessIterator __result, _Compare &amp;__comp) &#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰äº†ä¸€äº›æ— å…³ç´§è¦çš„ç¨‹åºï¼Œä¸çœ‹å¹¶ä¸å½±å“é˜…è¯»</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_RandomAccessIterator&gt;::value_type _ValueType;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_RandomAccessIterator&gt;::difference_type _DistanceType;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å–å‡ºæ¥æœ«å°¾å€¼ï¼ˆ__last == __resultï¼‰</span></span><br><span class="line">    _ValueType __value = _GLIBCXX_MOVE(*__result);</span><br><span class="line">    <span class="comment">// ç„¶åæŠŠæœ«å°¾å€¼ç½®æˆé¦–éƒ¨å€¼</span></span><br><span class="line">    *__result = _GLIBCXX_MOVE(*__first);</span><br><span class="line">    <span class="comment">// æ­¤æ—¶å †å¤´å·²ç»ä¸å†æ˜¯æœ€å°å€¼äº†ï¼Œè€Œæ˜¯æœ€åˆçš„æœ«å°¾å€¼ï¼Œæ‰€ä»¥éœ€è¦è°ƒæ•´æ•´ä¸ªå †</span></span><br><span class="line">    <span class="built_in">std</span>::__adjust_heap(__first, _DistanceType(<span class="number">0</span>),</span><br><span class="line">                       _DistanceType(__last - __first),</span><br><span class="line">                       _GLIBCXX_MOVE(__value), __comp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°è¿™é‡Œï¼Œå°±åˆçŠ¯æ„äº†ğŸ˜£ï¼Œè¿™ä¸ª <code>__adjust_heap()</code> å‡½æ•°æ˜¯ä¸ªä»€ä¹ˆä¸œä¸œï¼Ÿè¿™ä¸ª <code>__adjust_heap()</code> å‡½æ•°å°±æ˜¯ç”¨æ¥è°ƒæ•´æ•´ä¸ªå †çš„å‡½æ•°ï¼Œå®Œæˆäº†<strong>ä¸Šæº¯</strong>å’Œ<strong>ä¸‹æº¯</strong>æ“ä½œï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator, <span class="keyword">typename</span> _Distance,</span><br><span class="line">        <span class="keyword">typename</span> _Tp, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line"><span class="keyword">void</span></span><br><span class="line">__adjust_heap(_RandomAccessIterator __first, _Distance __holeIndex,</span><br><span class="line">              _Distance __len, _Tp __value, _Compare __comp) &#123;</span><br><span class="line">    <span class="keyword">const</span> _Distance __topIndex = __holeIndex;   <span class="comment">// è®°ä¸‹æ¥æ´èŠ‚ç‚¹æ‰€æŒ‡å‘çš„èŠ‚ç‚¹</span></span><br><span class="line">    _Distance __secondChild = __holeIndex;      <span class="comment">// ç”¨æ¥æŒ‡å‘æ´èŠ‚ç‚¹å³è¾¹çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> (__secondChild &lt; (__len - <span class="number">1</span>) / <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="comment">// æ‰¾å‡ºæ–°æ´èŠ‚ç‚¹çš„å³èŠ‚ç‚¹</span></span><br><span class="line">        __secondChild = <span class="number">2</span> * (__secondChild + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// æ¯”è¾ƒä¸€ä¸‹æ´èŠ‚ç‚¹å·¦å³ä¸¤è¾¹çš„å€¼ï¼Œç„¶åç”¨ __secondChild æŒ‡å‘è¾ƒå¤§çš„å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (__comp(__first + __secondChild, __first + (__secondChild - <span class="number">1</span>))) __secondChild--;</span><br><span class="line">        <span class="comment">// ä¸‹æº¯è¿‡ç¨‹ï¼Œæ›´æ–°æ´èŠ‚ç‚¹çš„å€¼ï¼Œä½¿ä¹‹æˆä¸ºè¾ƒå¤§å€¼</span></span><br><span class="line">        *(__first + __holeIndex) = _GLIBCXX_MOVE(*(__first + __secondChild));</span><br><span class="line">        <span class="comment">// ç„¶åå†æŠŠæ´å·ä¸‹ç§»åˆ°è¾ƒå¤§èŠ‚ç‚¹å¤„</span></span><br><span class="line">        __holeIndex = __secondChild;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰å³å­èŠ‚ç‚¹ï¼Œåªæœ‰å·¦å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> ((__len &amp; <span class="number">1</span>) == <span class="number">0</span> &amp;&amp; __secondChild == (__len - <span class="number">2</span>) / <span class="number">2</span>) &#123;</span><br><span class="line">        __secondChild = <span class="number">2</span> * (__secondChild + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// è®©å·¦å­èŠ‚ç‚¹ä½æ´å€¼ï¼Œç„¶åå†è®©æ´å·ä¸‹ç§»åˆ°å·¦å­èŠ‚ç‚¹å¤„</span></span><br><span class="line">        *(__first + __holeIndex) = _GLIBCXX_MOVE(*(__first + (__secondChild - <span class="number">1</span>)));</span><br><span class="line">        __holeIndex = __secondChild - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¯¼å…¥æ¯”è¾ƒå‡½æ•°ä¹‹ç±»çš„æ‚ä¸ƒæ‚å…«</span></span><br><span class="line">    __decltype(__gnu_cxx::__ops::__iter_comp_val(_GLIBCXX_MOVE(__comp)))</span><br><span class="line">    __cmp(_GLIBCXX_MOVE(__comp));</span><br><span class="line">    <span class="comment">// å†è¿›è¡Œä¸€æ¬¡ä¸Šæº¯æ“ä½œ</span></span><br><span class="line">    <span class="built_in">std</span>::__push_heap(__first, __holeIndex, __topIndex, _GLIBCXX_MOVE(__value), __cmp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®æ•´ä¸ªåˆ é™¤å †é¡¶å…ƒç´ çš„æ“ä½œåˆ°æ­¤å°±ç»“æŸäº†ï¼Œä½†æ˜¯ï¼å›è¿‡å¤´æ¥çœ‹çœ‹ï¼Œå…¶å®è¯¥å…ƒç´ å¹¶æ²¡æœ‰çœŸæ­£è¢«åˆ é™¤æ‰ï¼Œè€Œæ˜¯æ”¾åœ¨å †çš„æœ«å°¾ç»§ç»­å­˜åœ¨ç€ï¼Œéœ€è¦äººä¸ºè¿›è¡Œåˆ é™¤ï¼ŒéªŒè¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; iv = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    make_heap(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; iv &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// 9 5 8 3 4 0 2 3 1</span></span><br><span class="line">    pop_heap(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; iv.back() &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// 9</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; iv &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// 8 7 4 3 5 0 2 3 1 ã€9ã€‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆè¿™æ ·ï¼Ÿä¸ºä»€ä¹ˆä¸ç›´æ¥åˆ é™¤æ‰é‡Šæ”¾ç©ºé—´ï¼Ÿè¯·ç»§ç»­çœ‹ä¸‹é¢çš„ <code>sort_heap</code> ç®—æ³•ã€‚</p>
<h2 id="1-3-sort-heap-ç®—æ³•"><a href="#1-3-sort-heap-ç®—æ³•" class="headerlink" title="1.3 sort_heap ç®—æ³•"></a>1.3 <code>sort_heap</code> ç®—æ³•</h2><p>ç»“åˆ <code>pop_heap</code> ç®—æ³•ä¸éš¾çœ‹å‡ºï¼Œæ¯ä¸€æ¬¡çš„ <code>pop_heap</code> æ“ä½œéƒ½ä¼šæŠŠå½“å‰å †çš„æœ€å¤§å€¼æ‰”åˆ° <code>vector</code> å®¹å™¨å°¾éƒ¨å»ï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·è€ƒè™‘ï¼šæŒç»­å¯¹æ•´ä¸ª <code>heap</code> è¿›è¡Œ <code>pop_heap</code> æ“ä½œï¼Œé‚£ä¹ˆæ¯æ¬¡å°†æ“ä½œèŒƒå›´ä»åå‘å‰å¯ä»¥ç¼©å‡ä¸€ä¸ªå…ƒç´ ï¼Œå½“è¯¥è¿‡ç¨‹æ‰§è¡Œå®Œåï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; iv = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    make_heap(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">end</span>());</span><br><span class="line">    sort_heap(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; iv &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// 0 1 2 3 3 4 5 7 8 9</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹æ˜¯æ€æ ·å®ç°çš„ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line"><span class="keyword">void</span></span><br><span class="line">__sort_heap(_RandomAccessIterator __first, _RandomAccessIterator __last, _Compare &amp;__comp) &#123;</span><br><span class="line">    <span class="keyword">while</span> (__last - __first &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// ä¸åœåœ°å» pop_heap ï¼ŒåŒæ—¶è¦æŠŠæœ«å°¾æŒ‡é’ˆä¸æ–­å‰ç§»</span></span><br><span class="line">        --__last;</span><br><span class="line">        <span class="built_in">std</span>::__pop_heap(__first, __last, __last, __comp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">void</span></span><br><span class="line">sort_heap(_RandomAccessIterator __first, _RandomAccessIterator __last) &#123;</span><br><span class="line">    <span class="comment">// åˆ æ‰äº†ä¸€äº›å¯¹ç†è§£æ•´ä¸ªç¨‹åºæ— å…³ç´§è¦çš„æ£€æŸ¥ç¨‹åº</span></span><br><span class="line">    __gnu_cxx::__ops::_Iter_less_iter __comp;</span><br><span class="line">    <span class="built_in">std</span>::__sort_heap(__first, __last, __comp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">void</span></span><br><span class="line">sort_heap(_RandomAccessIterator __first, _RandomAccessIterator __last, _Compare __comp) &#123;</span><br><span class="line">    <span class="comment">// æˆ‘åˆåˆ æ‰äº†ä¸€äº›å¯¹ç†è§£æ•´ä¸ªç¨‹åºæ— å…³ç´§è¦çš„æ£€æŸ¥ç¨‹åº</span></span><br><span class="line">    <span class="keyword">typedef</span> __decltype(__comp)    _Cmp;</span><br><span class="line">    __gnu_cxx::__ops::_Iter_comp_iter&lt;_Cmp&gt; __cmp(_GLIBCXX_MOVE(__comp));</span><br><span class="line">    <span class="built_in">std</span>::__sort_heap(__first, __last, __cmp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç®€å•æ˜äº†ï¼Œå°±æ˜¯ â€œä¸åœåœ°å» pop_heap ï¼ŒåŒæ—¶è¦æŠŠæœ«å°¾æŒ‡é’ˆä¸æ–­å‰ç§»â€ğŸ˜ã€‚</p>
<h2 id="1-4-make-heap-ç®—æ³•"><a href="#1-4-make-heap-ç®—æ³•" class="headerlink" title="1.4 make_heap ç®—æ³•"></a>1.4 <code>make_heap</code> ç®—æ³•</h2><p>å°†ä¸€ä¸ªç°æœ‰æ•°æ®è½¬æ¢æˆä¸€ä¸ª <code>heap</code> ï¼Œå…¶ä¸»è¦ä¾æ®å°±æ˜¯å®Œå…¨äºŒå‰æ ‘çš„éšå¼è¡¨è¿°ã€‚å…·ä½“ç®—æ³•å®ç°ç»†èŠ‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _RandomAccessIterator, <span class="keyword">typename</span> _Compare&gt;</span><br><span class="line"><span class="keyword">void</span> __make_heap(_RandomAccessIterator __first, _RandomAccessIterator __last, _Compare &amp;__comp) &#123;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_RandomAccessIterator&gt;::value_type _ValueType;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> iterator_traits&lt;_RandomAccessIterator&gt;::difference_type _DistanceType;</span><br><span class="line">    <span class="comment">// å¦‚æœæ•´ä¸ªåºåˆ—å¤§å°éƒ½ä¸è¶³ 2ï¼Œé‚£æ’å®ƒå¹²å•¥ï¼ŸğŸ˜</span></span><br><span class="line">    <span class="keyword">if</span> (__last - __first &lt; <span class="number">2</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// è®°å½•ä¸‹æ¥éœ€è¦æ“ä½œçš„èŒƒå›´</span></span><br><span class="line">    <span class="keyword">const</span> _DistanceType __len = __last - __first;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°æœ«å°¾å…ƒç´ çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    _DistanceType __parent = (__len - <span class="number">2</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="comment">// é‡æ–°æ’å¸ƒä»¥ parent ä¸ºé¦–çš„å­æ ‘ï¼Œ</span></span><br><span class="line">        _ValueType __value = _GLIBCXX_MOVE(*(__first + __parent));</span><br><span class="line">        <span class="built_in">std</span>::__adjust_heap(__first, __parent, __len, _GLIBCXX_MOVE(__value), __comp</span><br><span class="line">        );</span><br><span class="line">        <span class="comment">// å¦‚æœèµ°å®Œäº†æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±ç»“æŸè¿”å›</span></span><br><span class="line">        <span class="keyword">if</span> (__parent == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// å·²ç»æ‹å¥½åºçš„å­æ ‘å¤´å‘å‰ç§»åŠ¨ä¸€ä¸ªæŒ‡é’ˆ</span></span><br><span class="line">        __parent--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-ä¸€äº›ä¾‹å­"><a href="#2-ä¸€äº›ä¾‹å­" class="headerlink" title="2. ä¸€äº›ä¾‹å­"></a>2. ä¸€äº›ä¾‹å­</h1><p>ç®€å•æ˜äº†ï¼Œçœ‹çœ‹å°±å¥½ğŸ˜‰</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/11/21.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/11/21 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line">ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;v) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : v) os &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; iv = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    make_heap(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; iv &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// 9 5 8 3 4 0 2 3 1</span></span><br><span class="line"></span><br><span class="line">    iv.push_back(<span class="number">7</span>);</span><br><span class="line">    push_heap(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; iv &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// 9 7 8 3 5 0 2 3 1 4</span></span><br><span class="line"></span><br><span class="line">    pop_heap(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; iv.back() &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// 9</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; iv &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// 8 7 4 3 5 0 2 3 1 ã€9ã€‘</span></span><br><span class="line">    iv.pop_back();</span><br><span class="line"></span><br><span class="line">    sort_heap(iv.<span class="built_in">begin</span>(), iv.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; iv &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// 0 1 2 3 3 4 5 7 8</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>STL</tag>
        <tag>å®¹å™¨</tag>
        <tag>æºç åˆ†æ</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>å¹¶æŸ¥é›†ç®—æ³•</title>
    <url>/2020/12/13/%E5%B9%B6%E6%9F%A5%E9%9B%86%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<p>å¹¶æŸ¥é›†æ•°æ®ç»“æ„æ˜¯ä¹‹å‰åœ¨åšç®—æ³•é¢˜æ—¶è½ä¸‹çš„ä¸€å—å„¿å†…å®¹ï¼Œç°åœ¨æƒ³æŠŠå®ƒè¡¥ä¸Šæ¥ã€‚</p>
<a id="more"></a>
<h2 id="1-ç®€è¿°"><a href="#1-ç®€è¿°" class="headerlink" title="1. ç®€è¿°"></a>1. ç®€è¿°</h2><p>ç›´å¥”ä¸»é¢˜ï¼Œè€ƒè™‘è¿™æ ·ä¸€ä¸ªå›¾ï¼š</p>
<p><img data-src="https://s3.ax1x.com/2020/12/13/rexBbd.png" alt="å›¾èŠ‚ç‚¹åˆ†å¸ƒçŠ¶å†µ"></p>
<p>ç¿»è¿‡æ¥å€’è¿‡å»æŒ æŒ å¤´ğŸ¤”ï¼Œå…¶å®è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„<strong>æ— å‘å›¾</strong>ğŸ˜…ï¼Œä¸Šé¢å›¾ä¸­æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ»¡è¶³è¿™æ ·ä¸‰ä¸ªæ€§è´¨ï¼š</p>
<ul>
<li><strong>è‡ªåæ€§ï¼š</strong> <code>0</code> å’Œ <code>0</code> æ˜¯è¿æ¥çš„ï¼ŒåŒç†ï¼Œå…¶ä»–èŠ‚ç‚¹ä¹Ÿæ˜¯ã€‚</li>
<li><strong>å¯¹ç§°æ€§ï¼š</strong>å¦‚æœ <code>0</code> å’Œ <code>1</code> æ˜¯è¿æ¥çš„ï¼Œé‚£ä¹ˆ <code>1</code> å’Œ <code>0</code> ä¹Ÿæ˜¯è¿æ¥çš„ã€‚</li>
<li><strong>ä¼ é€’æ€§ï¼š</strong>å¦‚æœ <code>0</code> å’Œ <code>1</code> ç›¸è¿ï¼Œ<code>1</code> åˆå’Œ <code>2</code> ç›¸è¿ï¼Œé‚£ä¹ˆ <code>0</code> å’Œ <code>2</code> ä¹Ÿæ˜¯ç›¸è¿çš„ï¼ŒåŒç†ï¼Œ <code>0</code> å’Œ <code>7</code> ä¹Ÿæ˜¯ç›¸è¿çš„ã€‚</li>
</ul>
<p>ä¸éš¾æƒ³åˆ°ï¼Œåœ¨è¿™æ ·ä¸€ä¸ªæ— å‘å›¾ä¸­ï¼Œæœ‰è¿™æ ·ä¸€ç§é—®é¢˜ï¼š</p>
<p><strong>ä»èŠ‚ç‚¹</strong> <code>1</code> <strong>å‡ºå‘ï¼Œæ˜¯å¦èƒ½åˆ°è¾¾ç›®æ ‡èŠ‚ç‚¹</strong> <code>9</code>ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿä»…ä»…æ˜¯æ£€æŸ¥æ˜¯å¦èƒ½åˆ°ï¼Œè€Œä¸è®¨è®ºå…·ä½“å¯è¾¾è·¯å¾„ä¸Šçš„ç‚¹æ˜¯ä»€ä¹ˆã€‚è¿™æ ·ç®€åŒ–é—®é¢˜åï¼Œå°±å’Œè¿™æ ·ä¸€ä¸ªæŠ½è±¡é—®é¢˜ç›¸å…³è”èµ·æ¥äº†ï¼š</p>
<p><strong>å¦‚ä½•æŠŠä¸€äº›å…ƒç´ åˆ†æˆä¸¤ç»„ä¸ç›¸äº¤çš„é›†åˆ</strong>ã€‚</p>
<p>è¿™æ ·ä¸€ä¸ªå…ƒç´ åˆ†ç»„é—®é¢˜ä¹Ÿå°±æ˜¯<strong>å¹¶æŸ¥é›†</strong>çš„ç ”ç©¶å¯¹è±¡ï¼Œ<strong>å¹¶æŸ¥é›†</strong>ç®—æ³•ç®€æ´ä¼˜é›…ï¼Œæ˜“äºåˆ†æï¼ŒåŒæ—¶ä¹Ÿåº”ç”¨å¹¿èŒƒï¼Œä¾‹å¦‚ä¸Šé¢å›¾çš„å¯è¾¾æ€§é—®é¢˜ç ”ç©¶ä¸­ï¼Œå°±ç”¨åˆ°äº†è¿™æ ·çš„ç®—æ³•ã€‚å½“ç„¶ï¼Œè¯¥ç®—æ³•åœ¨ä»¥ä¸‹åœºæ™¯ä¸­éƒ½æœ‰åº”ç”¨ï¼š</p>
<ol>
<li>ç½‘ç»œåˆ†æï¼šçœ‹çœ‹ä½ çš„ç¤¾äº¤åœˆå’Œä»–çš„ç¤¾äº¤åœˆæ˜¯å¦æ˜¯ç›¸å…³è”çš„ğŸ¤­ï¼Œçœ‹çœ‹ç½‘ç»œä¸Šä¸¤æ¡ä¿¡é“æ˜¯å¦æ˜¯ç›¸è¿é€šçš„ç­‰ç­‰ç­‰ç­‰</li>
<li>ç¨‹åºè®¾è®¡è¯­è¨€ï¼šçœ‹çœ‹ä¸¤ä¸ªå˜é‡åœ¨è¯­æ³•å¥æ³•ä¸Šæ˜¯å¦æ˜¯åŒä¸€ä¸ªå˜é‡ã€‚</li>
<li>æ•°å­¦é›†åˆï¼šæ­£å¦‚ä¸Šé¢æ‰€è¿°ï¼Œçœ‹çœ‹æ€æ ·åˆå¿«åˆå¥½æŠŠä¸€äº›å…ƒç´ åˆ†æˆå¤šä¸ªä¸ç›¸äº¤çš„åˆ†ç»„ã€‚</li>
</ol>
<h2 id="2-å®ç°"><a href="#2-å®ç°" class="headerlink" title="2. å®ç°"></a>2. å®ç°</h2><p>é‚£ä¹ˆæ˜ç¡®äº†è¦å®Œæˆçš„äº‹ï¼ˆå¦‚ä½•åˆ¤æ–­å›¾ä¸­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯è¿é€šçš„ï¼‰ï¼Œå°±è¦å¼€å§‹ç€æ‰‹å®ç°ï¼Œä¸€å¦‚æ—¢å¾€åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼ˆæ•°æ®ç»“æ„å’Œç®—æ³•ï¼‰ï¼Œ</p>
<ol>
<li>å®šä¹‰ä»€ä¹ˆæ ·çš„æ•°æ®ç»“æ„èƒ½å¤Ÿè¡¨ç¤ºè¿™æ ·çš„è¿æ¥å…³ç³»ã€‚</li>
<li>å¦‚ä½•å»å®ç°åˆ¤æ–­è¿æ¥å…³ç³»ï¼Œå¦‚ä½•æ·»åŠ æ–°çš„è¿æ¥ã€‚</li>
</ol>
<p>å¯¹äºç¬¬ä¸€éƒ¨åˆ†çš„å®ç°ï¼Œå¯ä»¥å®šä¹‰è¿™æ ·æ•°æ®ç»“æ„ï¼š<code>id[index] = identifier</code>ï¼Œå…¶ä¸­ <code>index</code> è¡¨ç¤ºå›¾ä¸­ç¬¬ <code>index</code> ä¸ªèŠ‚ç‚¹ï¼Œ<code>identifier</code> è¡¨ç¤ºè¿™ä¸ªå›¾çš„æ ‡è¯†ç¬¦ï¼Œæ ¹æ®è¿™ä¸ªæ ‡è¯†ç¬¦æ¥åˆ¤æ–­è¯¥èŠ‚ç‚¹å…·ä½“å±äºå“ªä¸€ç±»ã€‚</p>
<p>é‚£ä¹ˆè°ˆåˆ°ç¬¬äºŒéƒ¨åˆ†çš„å®ç°ï¼Œä¸å¦¨å®šä¹‰å¦‚ä¸‹APIæ¥å£åˆ—è¡¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ  p å’Œ q ä¹‹é—´çš„è¿æ¥</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»Ÿè®¡è¿é€šå—çš„ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥ p åˆ° q æ˜¯å¦æ˜¯å¯è¾¾çš„</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">connected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ç¬¬ p ä¸ªèŠ‚ç‚¹çš„ identifier</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶è¿˜åº”è¯¥æœ‰å›¾æ•°æ®ç‚¹çš„åˆå§‹åŒ–éƒ¨åˆ†ï¼Œä¸è¿‡è¿™éƒ¨åˆ†ä¸ç›´æ¥ç›¸å…³è”çš„é—®é¢˜ç›¸è¿ï¼Œæœ¬ç€å…·ä½“é—®é¢˜å…·ï¼ˆå°±ï¼‰ä½“ï¼ˆæ˜¯ï¼‰è®¨ï¼ˆå·ï¼‰è®ºï¼ˆæ‡’ï¼‰çš„åŸåˆ™ğŸ˜¶ï¼Œç»“åˆä¸Šé¢çš„å›¾æ¥çœ‹ä¸‹é¢çš„ç¤ºä¾‹ç¨‹åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UnionFindAlgorithm</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickFind</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span>[] id;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> count;</span><br><span class="line">        QuickFind(<span class="keyword">int</span> sz) &#123;</span><br><span class="line">            id = <span class="keyword">new</span> <span class="keyword">int</span>[sz];</span><br><span class="line">            count = sz;</span><br><span class="line">            <span class="comment">// åˆå§‹åŒ–ï¼ŒæŠŠæ‰€æœ‰èŠ‚ç‚¹çš„ identifier æ ‡è®°ä¸ºå®ƒä»¬æœ¬èº«</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sz; ++i) id[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è·å–ç¬¬ p ä¸ªèŠ‚ç‚¹çš„ identifier</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> id[p];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ·»åŠ  p å’Œ q ä¹‹é—´çš„è¿æ¥</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (connected(p, q)) <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">int</span> pid = id[p];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; id.length; ++i)</span><br><span class="line">                <span class="keyword">if</span> (id[i] == pid) id[i] = id[q];</span><br><span class="line">            --count;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç»Ÿè®¡è¿é€šå—çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> count; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥ p åˆ° q æ˜¯å¦æ˜¯å¯è¾¾çš„</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">connected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickUnion</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span>[] id;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> count;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">QuickUnion</span><span class="params">(<span class="keyword">int</span> sz)</span> </span>&#123;</span><br><span class="line">            id = <span class="keyword">new</span> <span class="keyword">int</span>[sz];</span><br><span class="line">            count = sz;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sz; ++i)</span><br><span class="line">                id[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// é¦–å…ˆè·å–åˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ£€æŸ¥æ˜¯å¦ä¸€æ ·ï¼ˆè¿é€šï¼‰</span></span><br><span class="line">            <span class="keyword">int</span> pRoot = find(p);</span><br><span class="line">            <span class="keyword">int</span> qRoot = find(q);</span><br><span class="line">            <span class="keyword">if</span> (pRoot == qRoot) <span class="keyword">return</span>;</span><br><span class="line">            <span class="comment">// å¦‚æœä¸è¿é€šï¼Œé‚£ä¹ˆå°±æŠŠå®ƒä»¬çš„æ ¹ä¿®æ”¹ä¸ºå…¶ä¸­åŒä¸€ä¸ª</span></span><br><span class="line">            id[pRoot] = qRoot;</span><br><span class="line">            --count;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// å›æŸ¥æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">while</span> (p != id[p]) p = id[p];</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">connected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> count; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€çœ‹å°±æ˜ç™½ï¼Œè¿™æ˜¯ä¸¤ç§ä¸åŒçš„ç®—æ³•ï¼Œä»åå­—ä¸Šä¸éš¾çœ‹å‡ºä¸€ä¸ªæ˜¯ <code>union</code> å¿«é€Ÿï¼ˆ<code>quick_union</code>ï¼‰ä¸€ä¸ªæ˜¯æŸ¥æ‰¾ <code>identifier</code> å¿«é€Ÿï¼ˆ<code>quick_find</code>ï¼‰ã€‚</p>
<h3 id="2-1-å¿«é€ŸæŸ¥æ‰¾ï¼ˆquick-findï¼‰"><a href="#2-1-å¿«é€ŸæŸ¥æ‰¾ï¼ˆquick-findï¼‰" class="headerlink" title="2.1 å¿«é€ŸæŸ¥æ‰¾ï¼ˆquick_findï¼‰"></a>2.1 å¿«é€ŸæŸ¥æ‰¾ï¼ˆ<code>quick_find</code>ï¼‰</h3><p>å¯¹äºæ·»åŠ çš„ <code>p</code> å’Œ <code>q</code> ä¹‹é—´çš„æ–°è¿æ¥ï¼Œä»¤ <code>id[p] = id[q]</code> åŒæ—¶ä»¤æ‰€æœ‰ä¸ <code>id[p]</code> ç›¸åŒçš„ <code>id[i]</code> æ›´æ–°ä¸º <code>id[q]</code>ï¼Œæ€»è€Œè¨€ä¹‹ï¼šæŠŠæ‰€æœ‰çš„è¿æ¥ä¸æœ€ååŠ å…¥é›†åˆä¸­çš„ç‚¹çš„ <code>identifier</code> ä¿æŒä¸€è‡´å°±å¥½äº†ã€‚</p>
<p>ä¸éš¾å‘ç°ï¼Œåœ¨å¿«é€ŸæŸ¥æ‰¾ç®—æ³•ä¸­ï¼Œ<code>find</code> åªéœ€è¦è®¿é—®æ•°ç»„ <code>id[]</code> ä¸€æ¬¡ï¼Œä½†æ˜¯è¿›è¡Œä¸€æ¬¡ <code>union</code> éœ€è¦ <code>3</code> æ¬¡ <code>find</code> æ“ä½œå’Œä¸€æ¬¡ æ£€æŸ¥ <code>n</code> ä¸ªå…ƒç´ çš„æ“ä½œï¼Œå³ <code>n + 3</code> æ¬¡è®¿é—®æ•°ç»„ã€‚é‚£ä¹ˆæœ€åçš„æƒ…å†µå¯å°±ä¸å®¹ä¹è§‚äº†ï¼šå‡è®¾æ‰€æœ‰èŠ‚ç‚¹æœ€åéƒ½è¿é€šäº†ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œ </p>
<p><code>(n - 1) * (n + 3) â‰ˆ n ^ 2</code> æ¬¡ï¼Œ</p>
<p>è¿™ä¸ªæ—¶å€™ç®—æ³•å¤æ‚åº¦å°±é£™å‡åˆ°äº† <code>n ^ 2</code>ï¼Œè¿™è‡ªç„¶æ˜¯ä¸å¤§åˆç†çš„ğŸ˜”ï¼Œäºæ˜¯å°±æœ‰äº†ä¸‹é¢ä¸€ç§æ–¹æ³•ğŸ¤¨ğŸ˜®ã€‚</p>
<h3 id="2-2-å¿«é€Ÿåˆå¹¶ï¼ˆquick-unionï¼‰"><a href="#2-2-å¿«é€Ÿåˆå¹¶ï¼ˆquick-unionï¼‰" class="headerlink" title="2.2 å¿«é€Ÿåˆå¹¶ï¼ˆquick_unionï¼‰"></a>2.2 å¿«é€Ÿåˆå¹¶ï¼ˆ<code>quick_union</code>ï¼‰</h3><p>æˆ‘ä»¬ä¸å†æŠŠæ‰€æœ‰çš„è¿é€šèŠ‚ç‚¹çš„ <code>identifier</code> æ ‡è®°æˆä¸€è‡´çš„äº†ğŸ˜¯ï¼è€Œæ˜¯è®©åŸæ¥çš„ <code>id[index] = neighbor</code>ï¼Œè¡¨ç¤º <code>index</code> ä¸ <code>neighbor</code> ç›¸è¿æ¥ï¼Œä¹Ÿå°±æ˜¯å½¢æˆäº†ç±»ä¼¼äºé“¾è¡¨ä¸€æ ·çš„ç»“æ„ã€‚è¿™æ ·ä¸€æ¥ï¼Œè°ƒç”¨ <code>find(p)</code> æ–¹æ³•æ—¶ï¼Œå¯ä»¥ä» <code>p</code> ä¸€ç›´ç›¸ä¸ŠæŸ¥æ‰¾åˆ°ä¸€ä¸ª<strong>æ ¹èŠ‚ç‚¹</strong><code>root</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªæ ¹èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯è¿é€šçš„ï¼Œåœ¨åˆ¤æ–­æ˜¯å¦è¿é€šæ—¶ï¼Œç›´æ¥å‘ä¸Šå›æŸ¥è‡³è¿™ä¸ª <code>root</code> æ˜¯å¦ä¸€æ ·å°±å¥½äº†ã€‚</p>
<p>è¿™ä¸ªç®—æ³•å®é™…ä¸Šæ˜¯ <code>find</code> ä¸ <code>union</code> çš„å¹³è¡¡ï¼Œæ²¡æœ‰è¿‡æ…¢çš„é—®é¢˜ä¹Ÿæ²¡æœ‰å¾ˆå¿«ï¼Œä¸è¿‡å¯¹äºå¤§æ•°æ®é‡è€Œè¨€æå‡è¿˜æ˜¯å¾ˆæ˜æ˜¾ã€‚</p>
<p>è¿™ä¸¤ç§ç®—æ³•é€‚ç”¨äºä¸åŒçš„åœºåˆã€‚</p>
<ul>
<li>å½“æ•°æ®è¾ƒå°è€Œä¸”éœ€è¦ä¸éœ€è¦é¢‘ç¹æ·»åŠ æ–°è¿æ¥ï¼Œé‚£ä¹ˆå°±ç”¨ <code>quick_find</code>ã€‚</li>
<li>å½“æ•°æ®å¤§ï¼Œè€Œä¸”éœ€è¦é¢‘ç¹æ’å…¥æ–°çš„è¿æ¥ï¼Œé‚£ä¹ˆå°±ç”¨ <code>quick_union</code>ã€‚</li>
</ul>
<h3 id="2-3-æµ‹è¯•ä¸€ä¸‹ğŸ¤—"><a href="#2-3-æµ‹è¯•ä¸€ä¸‹ğŸ¤—" class="headerlink" title="2.3 æµ‹è¯•ä¸€ä¸‹ğŸ¤—"></a>2.3 æµ‹è¯•ä¸€ä¸‹ğŸ¤—</h3><p>æ•°æ®å°±æ˜¯ç”¨ä¸Šé¢å›¾ä¸­æ‰€ç¤ºæ•°æ®ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UnionFindAlgorithm</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickFind</span> </span>&#123; <span class="comment">// å¦‚ä¸Šæ‰€ç¤º</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickUnion</span> </span>&#123; <span class="comment">// å¦‚ä¸Šæ‰€ç¤º</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        QuickFind uf = new QuickFind(10);</span></span><br><span class="line">        QuickUnion uf = <span class="keyword">new</span> QuickUnion(<span class="number">10</span>);</span><br><span class="line">        uf.union(<span class="number">4</span>, <span class="number">3</span>);</span><br><span class="line">        uf.union(<span class="number">3</span>, <span class="number">8</span>);</span><br><span class="line">        uf.union(<span class="number">6</span>, <span class="number">5</span>);</span><br><span class="line">        uf.union(<span class="number">9</span>, <span class="number">4</span>);</span><br><span class="line">        uf.union(<span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">        uf.union(<span class="number">8</span>, <span class="number">9</span>);</span><br><span class="line">        uf.union(<span class="number">5</span>, <span class="number">0</span>);</span><br><span class="line">        uf.union(<span class="number">7</span>, <span class="number">2</span>);</span><br><span class="line">        uf.union(<span class="number">6</span>, <span class="number">1</span>);</span><br><span class="line">        uf.union(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        uf.union(<span class="number">6</span>, <span class="number">7</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;å…±è®¡ &quot;</span> + uf.count() + <span class="string">&quot; ä¸ªè¿é€šå—&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (uf.connected(<span class="number">7</span>, <span class="number">8</span>))</span><br><span class="line">            System.out.println(<span class="string">&quot;7 å’Œ 8 ç›¸è¿~&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            System.out.println(<span class="string">&quot;7 å’Œ 8 ä¸ç›¸è¿~&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (uf.connected(<span class="number">7</span>, <span class="number">0</span>))</span><br><span class="line">            System.out.println(<span class="string">&quot;7 å’Œ 0 ç›¸è¿~&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            System.out.println(<span class="string">&quot;7 å’Œ 0 ä¸ç›¸è¿~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸¤ä¸ªéƒ½èƒ½å¾—åˆ°è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å…±è®¡ 2 ä¸ªè¿é€šå—</span><br><span class="line">7 å’Œ 8 ä¸ç›¸è¿~</span><br><span class="line">7 å’Œ 0 ç›¸è¿~</span><br></pre></td></tr></table></figure>
<p>æ»¡æ„ğŸ˜‰ã€‚</p>
<h2 id="3-è§£å†³ä¸‹ç®—æ³•é¢˜ç›®"><a href="#3-è§£å†³ä¸‹ç®—æ³•é¢˜ç›®" class="headerlink" title="3. è§£å†³ä¸‹ç®—æ³•é¢˜ç›®"></a>3. è§£å†³ä¸‹ç®—æ³•é¢˜ç›®</h2><p>è¿™é“é¢˜æ¥è‡ª<strong>LeetCode</strong>çš„ç¬¬<strong>684</strong>é¢˜ï¼Œé¢˜ç›®éš¾åº¦ <code>medium</code> ï¼Œä¸è¿‡å½“æ—¶åšèµ·æ¥è¿˜æ˜¯æŒºä¸å®¹æ˜“çš„ï¼Œè´¹äº†è€å¤§åŠ²ğŸ¤£ã€‚ç°åœ¨æ˜ç™½äº†å¹¶æŸ¥é›†ç®—æ³•åè§‰å¾—ä¹Ÿå°±é‚£æ ·ï¼Œæœ‰ç‚¹æ‹¨äº‘è§æ—¥çš„æ„Ÿè§‰ã€‚</p>
<p>é¢˜ç›®æ˜¯è¿™æ ·è¯´çš„ï¼š</p>
<p>åœ¨æœ¬é—®é¢˜ä¸­, æ ‘æŒ‡çš„æ˜¯ä¸€ä¸ªè¿é€šä¸”æ— ç¯çš„æ— å‘å›¾ã€‚</p>
<p>è¾“å…¥ä¸€ä¸ªå›¾ï¼Œè¯¥å›¾ç”±ä¸€ä¸ªæœ‰ç€ <code>N</code> ä¸ªèŠ‚ç‚¹ (èŠ‚ç‚¹å€¼ä¸é‡å¤<code>1, 2, ..., N</code>) çš„æ ‘åŠä¸€æ¡é™„åŠ çš„è¾¹æ„æˆã€‚é™„åŠ çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åŒ…å«åœ¨<code>1</code>åˆ°<code>N</code>ä¸­é—´ï¼Œè¿™æ¡é™„åŠ çš„è¾¹ä¸å±äºæ ‘ä¸­å·²å­˜åœ¨çš„è¾¹ã€‚</p>
<p>ç»“æœå›¾æ˜¯ä¸€ä¸ªä»¥è¾¹ç»„æˆçš„äºŒç»´æ•°ç»„ã€‚æ¯ä¸€ä¸ªè¾¹çš„å…ƒç´ æ˜¯ä¸€å¯¹<code>[u, v]</code>ï¼Œæ»¡è¶³ <code>u &lt; v</code>ï¼Œè¡¨ç¤ºè¿æ¥é¡¶ç‚¹ <code>u</code> å’Œ<code>v</code>çš„æ— å‘å›¾çš„è¾¹ã€‚</p>
<p>è¿”å›ä¸€æ¡å¯ä»¥åˆ å»çš„è¾¹ï¼Œä½¿å¾—ç»“æœå›¾æ˜¯ä¸€ä¸ªæœ‰ç€<code>N</code>ä¸ªèŠ‚ç‚¹çš„æ ‘ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œåˆ™è¿”å›äºŒç»´æ•°ç»„ä¸­æœ€åå‡ºç°çš„è¾¹ã€‚ç­”æ¡ˆè¾¹ <code>[u, v]</code>åº”æ»¡è¶³ç›¸åŒçš„æ ¼å¼ <code>u &lt; v</code>ã€‚</p>
<p><strong>ä¾‹å¦‚ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [[1,2], [1,3], [2,3]]</span><br><span class="line">è¾“å‡º: [2,3]</span><br><span class="line">è§£é‡Š: ç»™å®šçš„æ— å‘å›¾ä¸º:</span><br><span class="line">  1</span><br><span class="line"> &#x2F; \</span><br><span class="line">2 - 3</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„:</strong></p>
<ul>
<li>è¾“å…¥çš„äºŒç»´æ•°ç»„å¤§å°åœ¨ 3 åˆ° 1000ã€‚</li>
<li>äºŒç»´æ•°ç»„ä¸­çš„æ•´æ•°åœ¨ <code>1</code> åˆ° <code>N</code> ä¹‹é—´ï¼Œå…¶ä¸­ <code>N</code> æ˜¯è¾“å…¥æ•°ç»„çš„å¤§å°ã€‚</li>
</ul>
<p><strong>é—®é¢˜åˆ†æï¼š</strong></p>
<p>ä»”ç»†è¯»é¢˜å…¶å®ä¸éš¾å‘ç°ï¼Œå°±æ˜¯æ‰¾æœ€åä¸€ä¸ªè¿æ¥ï¼Œè¿™ä¸ªè¿æ¥è®©å›¾æ„æˆä¸€ä¸ªç¯ã€‚æ”¾åˆ°å¹¶æŸ¥é›†ä¸­ï¼Œä¹Ÿå°±æ˜¯æ‰¾<strong>æœ€åä¸€ä¸ªå·²ç»è¿é€š</strong>çš„ä½†<strong>å†æ¬¡å°è¯•è¿é€šçš„</strong>èŠ‚ç‚¹å¯¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">No684</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å‡†å¤‡è¿”å›å€¼</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="comment">// ç”¨æ¥æ ‡è®°è¿é€š identifier çš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] id;</span><br><span class="line">    <span class="comment">// é¢˜ç›®æä¾›çš„æ¥å£ï¼Œç»™æˆ‘ä»¬ä¸€ä¸ª edges æ•°ç»„ï¼Œç”¨æ¥è¡¨ç¤ºè¾¹ã€‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] findRedundantConnection(<span class="keyword">int</span>[][] edges) &#123;</span><br><span class="line">        <span class="comment">// ä¸ºä»€ä¹ˆæ˜¯ n + 1ï¼Ÿè¿˜ä¸æ˜¯å› ä¸ºé¢˜ç›®æ²¡æœ‰ä» 0 å¼€å§‹è®¡æ•°ğŸ˜‘</span></span><br><span class="line">        id = <span class="keyword">new</span> <span class="keyword">int</span>[edges.length + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–å„ä¸ªè¾¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; id.length; ++i) id[i] = i;</span><br><span class="line">        <span class="comment">// æŠŠå„ä¸ªè¾¹éƒ½æ·»åŠ è¿›è¿é€šåˆ†é‡ä¸­å»</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] edge : edges) union(edge[<span class="number">0</span>], edge[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> pRoot = find(p);</span><br><span class="line">        <span class="keyword">int</span> qRoot = find(q);</span><br><span class="line">        <span class="comment">// p å’Œ q å¹¶æ²¡æœ‰è¿é€šï¼Œé‚£ä¹ˆå°±è®©ä»–ä»¬è¿é€š</span></span><br><span class="line">        <span class="keyword">if</span> (pRoot != qRoot) id[pRoot] = qRoot;</span><br><span class="line">        <span class="comment">// è¯´æ˜ p å’Œ q å·²ç»è¿é€šäº†å‘€ï¼Œé‚£ä¹ˆå°±ç›´æ¥æŠŠå®ƒä»¬è®°å½•ä¸‹æ¥</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            ans[<span class="number">0</span>] = p;</span><br><span class="line">            ans[<span class="number">1</span>] = q;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å‘ä¸Šå›æŸ¥æ ¹èŠ‚ç‚¹ç¼–å·</span></span><br><span class="line">        <span class="keyword">while</span> (id[p] != p) p = id[p];</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>è¿™ä¸ªæ•™å®¤æœ‰ä¸€ç‚¹ç‚¹å†·ğŸ¥¶ï¼Œæ€€å¿µåœ¨æœ¬ç§‘å­¦æ ¡ç¬¬ä¸€å¹´å› ä¸ºæš–æ°”è¢«çƒ­æˆğŸ±çš„æ—¥å­ï¼Œä¸è¿‡åæ¥å› ä¸ºå·å¬èŠ‚èƒ½å‡æ’ä¹Ÿæ—¶å¸¸å…³é—­æš–æ°”ï¼Œæƒ³åˆ°è¿™é‡Œï¼Œä¹Ÿå°±ä½œç½¢äº†ã€‚</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å¹¶æŸ¥é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆè¯†C++çš„ç±»</title>
    <url>/2020/10/08/%E5%88%9D%E8%AF%86CPP%E7%9A%84%E7%B1%BB/</url>
    <content><![CDATA[<p>è¿™ä¸¤å¤©è¡¥äº†è¡¥C++å…³äºç±»çš„å†…å®¹ï¼Œå‚è€ƒçš„æ˜¯  <a href="https://book.douban.com/subject/25708312/">C++ Primer (5th)</a>ã€‚</p>
<blockquote>
<p>   ç±»çš„åŸºæœ¬æ€æƒ³æ˜¯<strong>æ•°æ®æŠ½è±¡ï¼ˆData Abstractionï¼‰</strong>å’Œ<strong>å°è£…ï¼ˆencapsulationï¼‰</strong>ã€‚æ•°æ®æŠ½è±¡æ˜¯ä¸€ç§ä¾èµ–æ¥å£ï¼ˆinterfaceï¼‰å’Œå®ç°ï¼ˆimplementationï¼‰åˆ†ç¦»çš„ç¼–ç¨‹æŠ€æœ¯ã€‚å°è£…å®ç°äº†ç±»çš„æ¥å£å’Œå®ç°çš„åˆ†ç¦»ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="1-å®šä¹‰æŠ½è±¡æ•°æ®ç±»å‹"><a href="#1-å®šä¹‰æŠ½è±¡æ•°æ®ç±»å‹" class="headerlink" title="1. å®šä¹‰æŠ½è±¡æ•°æ®ç±»å‹"></a>1. å®šä¹‰æŠ½è±¡æ•°æ®ç±»å‹</h1><p>å‡è®¾æœ‰è¿™ä¹ˆä¸€ä¸ªç±»ï¼šå®ƒæ˜¯ä¹¦ç±çš„æŠ½è±¡ï¼ŒåŒ…æ‹¬ä¸‰ä¸ªå­—æ®µï¼š</p>
<ul>
<li><code>isbn</code>ï¼šä¹¦ç±çš„ <code>ISBN</code> å·</li>
<li><code>units_sold</code>ï¼šä¹¦ç±çš„é”€å”®æ•°é‡</li>
<li><code>revenue</code>ï¼šä¹¦ç±çš„é”€å”®é¢</li>
</ul>
<p>é‚£ä¹ˆè¿™ä¸ªç±»å¯ä»¥æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::istream;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::ostream;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sales_data</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">string</span> bookNo; 			<span class="comment">// isbn</span></span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;<span class="comment">// å–å‡ºå»å¤šå°‘æœ¬</span></span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;;	<span class="comment">// è¿™æœ¬ä¹¦æ‰€è·å¾—çš„æ”¶å…¥</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">avg_price</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å››ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line">    Sales_data() = <span class="keyword">default</span>;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s) : bookNo(s) &#123;&#125;;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s, <span class="keyword">unsigned</span> n, <span class="keyword">double</span> p) : bookNo(s), units_sold(n), revenue(p * n) &#123;&#125;;</span><br><span class="line">    Sales_data(istream &amp;);</span><br><span class="line">    <span class="comment">// ä¸¤ä¸ªæˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> bookNo; &#125;;	<span class="comment">// è·å–åˆ°è¿™æœ¬ä¹¦çš„ isbn å·ï¼Œé»˜è®¤ inline å‡½æ•°</span></span><br><span class="line">    <span class="function">Sales_data &amp;<span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;)</span></span>;<span class="comment">// å°†ä¸¤ä¸ª Sales_Data å‡ºå”®é‡ç›¸åŠ </span></span><br><span class="line">    <span class="comment">// å‹å…ƒå£°æ˜å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;, <span class="keyword">const</span> Sales_data &amp;)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">friend</span> ostream &amp;<span class="title">print</span><span class="params">(ostream &amp;, <span class="keyword">const</span> Sales_data &amp;)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">friend</span> istream &amp;<span class="title">read</span><span class="params">(istream &amp;, Sales_data &amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‰ä¸ªéæˆå‘˜æ¥å£å‡½æ•°</span></span><br><span class="line"><span class="function">istream &amp;<span class="title">read</span><span class="params">(istream &amp;is, Sales_data &amp;item)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> price = <span class="number">0</span>;</span><br><span class="line">    is &gt;&gt; item.bookNo &gt;&gt; item.units_sold &gt;&gt; price;</span><br><span class="line">    item.revenue = price * item.units_sold;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ostream &amp;<span class="title">print</span><span class="params">(ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span> </span>&#123;</span><br><span class="line">    os &lt;&lt; item.isbn() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; item.units_sold &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">       &lt;&lt; item.revenue &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; item.avg_price();</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span> </span>&#123;</span><br><span class="line">    Sales_data sum = lhs;</span><br><span class="line">    sum.combine(rhs);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-1-æˆå‘˜å‡½æ•°"><a href="#1-1-æˆå‘˜å‡½æ•°" class="headerlink" title="1.1 æˆå‘˜å‡½æ•°"></a>1.1 æˆå‘˜å‡½æ•°</h2><p>å…¶ä¸­çš„ <code>double avg_price() const;</code> ã€ <code>string isbn() const;</code>  ã€ <code>Sales_data &amp;combine(const Sales_data &amp;);</code> å‡åªæœ‰å£°æ˜ï¼Œå¹¶æœªå…·ä½“å®šä¹‰ã€‚</p>
<blockquote>
<p>  æˆå‘˜å‡½æ•°å¿…é¡»åœ¨ç±»çš„å†…éƒ¨<strong>å£°æ˜</strong>ï¼Œä½†æ˜¯ä¸æ˜¯å¿…é¡»åœ¨ç±»çš„å†…éƒ¨<strong>å®šä¹‰</strong>ã€‚è€Œä¸”å®šä¹‰åœ¨ç±»å†…éƒ¨çš„å‡½æ•°æ˜¯éšå¼ <code>inline</code> çš„ã€‚</p>
<p>  æˆå‘˜å‡½æ•°é€šè¿‡ä¸€ä¸ªåä¸º <code>this</code> çš„é¢å¤–éšå¼å‚æ•°æ¥è®¿é—®è°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬åœ¨è°ƒç”¨ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">total.isbn();</span><br></pre></td></tr></table></figure>
<p>å®é™…ä¸Šç¼–è¯‘å™¨ä¼šæŠŠ <code>total</code> çš„åœ°å€ä¼ é€’ç»™ <code>isbn()</code> çš„éšå¼å½¢å‚ <code>this</code>ï¼Œå¯ä»¥å½“ä½œä»¥ä¸‹è°ƒç”¨è¿‡ç¨‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Sales_data::isbn(&amp;total);</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸€ç‚¹å¯ä»¥ç±»æ¯” <code>Python</code> ä¸­æˆå‘˜å‡½æ•°çš„ <code>self</code> å˜é‡ã€‚åœ¨æˆå‘˜å‡½æ•°ä½“å†…éƒ¨å»ä½¿ç”¨ä»»ä½•å¯¹è±¡çš„æˆå‘˜ï¼Œéƒ½ä¼šè¢«çœ‹ä½œæ˜¯ <code>this</code> çš„éšå¼å¼•ç”¨è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œ <code>isbn()</code> å‡½æ•°çš„è°ƒç”¨å¯ä»¥ç­‰ä»·ä¸ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>-&gt;bookNo; &#125;;</span><br></pre></td></tr></table></figure>
<p>è€Œä¸”ï¼Œæ¯ä¸ªå¯¹è±¡çš„ <code>this</code> æŒ‡é’ˆæ€»æ˜¯æŒ‡å‘è¯¥å¯¹è±¡è‡ªå·±ï¼Œæ‰€ä»¥å®ƒæ˜¯é»˜è®¤ <code>const</code> çš„ï¼ˆä¸€ä¸ªå¸¸é‡æŒ‡é’ˆï¼‰ï¼Œä¸å…è®¸æ”¹å˜ <code>this</code> ä¸­çš„åœ°å€ã€‚</p>
<h2 id="1-2-const-æˆå‘˜å‡½æ•°"><a href="#1-2-const-æˆå‘˜å‡½æ•°" class="headerlink" title="1.2 const æˆå‘˜å‡½æ•°"></a>1.2 <code>const</code> æˆå‘˜å‡½æ•°</h2><blockquote>
<p>  ç´§éšå‚æ•°åˆ—è¡¨ä¹‹åçš„ <code>const</code> å…³é”®å­—ï¼Œä½œç”¨æ˜¯ä¿®æ”¹éšå¼ <code>this</code> æŒ‡é’ˆçš„ç±»å‹ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ <code>isbn()</code> å‡½æ•°ï¼Œå‡½æ•°ç­¾åæœ«å°¾é™„å¸¦äº†ä¸€ä¸ª <code>const</code> ï¼Œè¿™ä¸ª <code>const</code> æ„æ€æ˜¯è¯´ï¼Œåœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨ï¼Œä¸å…è®¸ä¿®æ”¹è°ƒç”¨è€…çš„å†…å®¹ï¼ˆå½“ç„¶ä¹Ÿæœ‰ä¾‹å¤–ï¼Œä¾‹å¦‚å£°æ˜äº† <code>mutable</code> çš„æˆå‘˜ğŸ˜®ï¼‰ã€‚ç®€è€Œè¨€ä¹‹ <code>const</code> æ”¾åœ¨å‡½æ•°ç­¾åä¹‹åæ„æ€æ˜¯ï¼šå¯¹è±¡åªèƒ½è¯»ä¸èƒ½å†™ã€‚</p>
<blockquote>
<p>  å¸¸é‡å¯¹è±¡ï¼Œä»¥åŠå¸¸é‡å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆéƒ½åªèƒ½è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°ã€‚</p>
</blockquote>
<h2 id="1-3-å®šä¹‰ä¸€ä¸ªè¿”å›-this-å¯¹è±¡çš„å‡½æ•°"><a href="#1-3-å®šä¹‰ä¸€ä¸ªè¿”å›-this-å¯¹è±¡çš„å‡½æ•°" class="headerlink" title="1.3 å®šä¹‰ä¸€ä¸ªè¿”å› this å¯¹è±¡çš„å‡½æ•°"></a>1.3 å®šä¹‰ä¸€ä¸ªè¿”å› <code>this</code> å¯¹è±¡çš„å‡½æ•°</h2><p>æ¥ï¼Œç›´æ¥çœ‹ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">Sales_data &amp;<span class="title">Sales_data::combine</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;rhs)</span> </span>&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼ŒåŠŸèƒ½ç±»ä¼¼äº <code>+=</code>ï¼Œå…¶è¿”å›å€¼ä¸º <code>Sales_data &amp;</code> ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆæœ€åè¿”å›å€¼ä¸º <code>*this</code>ï¼Œä¹Ÿå°±æŠŠè°ƒç”¨è€…ç»™å¸¦äº†å›æ¥ã€‚è¿™æ ·å†™çš„å¥½å¤„åœ¨äºï¼Œå¯ä»¥è¿™æ ·å­ç”¨ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">data.combine(b).combine(c).combine(e).......</span><br></pre></td></tr></table></figure>
<h2 id="1-4-å®šä¹‰ç±»ç›¸å…³çš„éæˆå‘˜å‡½æ•°"><a href="#1-4-å®šä¹‰ç±»ç›¸å…³çš„éæˆå‘˜å‡½æ•°" class="headerlink" title="1.4 å®šä¹‰ç±»ç›¸å…³çš„éæˆå‘˜å‡½æ•°"></a>1.4 å®šä¹‰ç±»ç›¸å…³çš„éæˆå‘˜å‡½æ•°</h2><p>ä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;, <span class="keyword">const</span> Sales_data &amp;)</span></span>;</span><br><span class="line"><span class="function">ostream &amp;<span class="title">print</span><span class="params">(ostream &amp;, <span class="keyword">const</span> Sales_data &amp;)</span></span>;</span><br><span class="line"><span class="function">istream &amp;<span class="title">read</span><span class="params">(istream &amp;, Sales_data &amp;)</span></span>;</span><br></pre></td></tr></table></figure>
<p>ä¸‰ä¸ªå‡½æ•°ï¼Œè¿™ä¸‰ä¸ªå‡½æ•°å¹¶ä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œä½†æ˜¯å®ƒä»¬åšäº†ä¸€äº›è¾…åŠ©å·¥ä½œï¼Œæ‰€ä»¥å®ƒä»¬å’Œ <code>Sales_data</code> ç±»ç›¸å…³ï¼Œè¿™æ ·çš„å‡½æ•°<strong>ä¸€èˆ¬éƒ½è¦æ”¾åˆ°ç±»å£°æ˜çš„å¤´æ–‡ä»¶å†…</strong>ï¼Œè¿™æ ·æ–¹ä¾¿ç”¨æˆ·å¼•å…¥ä¸€ä¸ªå¤´æ–‡ä»¶å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p>
<h2 id="1-5-å®šä¹‰æ„é€ å‡½æ•°"><a href="#1-5-å®šä¹‰æ„é€ å‡½æ•°" class="headerlink" title="1.5 å®šä¹‰æ„é€ å‡½æ•°"></a>1.5 å®šä¹‰æ„é€ å‡½æ•°</h2><p>å…³äºæ„é€ å‡½æ•°ï¼Œå’Œ <code>Java</code> å®ƒä»¬éƒ½ç±»ä¼¼ï¼šæ²¡è¿”å›å€¼ï¼Œå‡½æ•°åå’Œç±»ååŒåï¼Œå¯é‡è½½ï¼Œå¦‚æœä¸€ä¸ªéƒ½æ²¡æœ‰é‚£ä¹ˆç¼–è¯‘å™¨ä¼šé»˜è®¤ç»™è¡¥ä¸Šï¼Œå¦‚æœæœ‰ä»»æ„ä¸€ä¸ªé‚£ä¹ˆç¼–è¯‘å™¨ä¸è¡¥â€¦â€¦åœ¨è¿™é‡Œä¸»è¦è¯´ä¸€ä¸ªä¸åŒçš„ï¼š</p>
<p><code>= default</code> é»˜è®¤æ„é€ å‡½æ•°ï¼šè¿™æ˜¯ <code>C++11</code> å¸¦æ¥çš„æ–°ç‰¹æ€§ï¼Œå½“å®šä¹‰äº†å…¶ä»–ï¼ˆæœ‰å‚æ•°ï¼‰çš„æ„é€ å‡½æ•°åï¼Œå¦‚æœè¿˜éœ€è¦é»˜è®¤ç©ºå‚æ•°åˆ—è¡¨çš„æ„é€ å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ <code>Sales_data() = default;</code> æ¥è®©ç¼–è¯‘å™¨ç»§ç»­è¡¥ä¸Šã€‚åŒæ ·çš„ï¼Œå¦‚æœåœ¨ç±»å†…éƒ¨ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å°±æ˜¯ <code>inline</code> çš„ã€‚</p>
<p>åˆå§‹å€¼åˆ—è¡¨å¯ä»¥ä½¿ç”¨ <code>Sales_data(const string &amp;s) : bookNo(s) &#123;&#125;;</code> è¿™æ ·çš„å½¢å¼æ¥å®šä¹‰ï¼Œ<code>:</code> å†’å·åŠ  <code>()</code> å®šä¹‰æ³•ï¼ˆè‡ªå·±æƒ³çš„åå­—ğŸ˜Šï¼‰</p>
<h1 id="2-è®¿é—®æ§åˆ¶å’Œå°è£…"><a href="#2-è®¿é—®æ§åˆ¶å’Œå°è£…" class="headerlink" title="2. è®¿é—®æ§åˆ¶å’Œå°è£…"></a>2. è®¿é—®æ§åˆ¶å’Œå°è£…</h1><p>ä½¿ç”¨ <code>public</code> ã€<code>protected</code> ã€<code>private</code> è®¿é—®è¯´æ˜ç¬¦æ¥æ§åˆ¶ä¸‹é¢çš„å†…å®¹æ˜¯å¯ä»¥æ€æ ·è®¿é—®çš„ã€‚</p>
<p>ä½¿ç”¨ <code>struct</code> å’Œ <code>class</code> å…³é”®å­—æ¥å£°æ˜ç±»ï¼Œä»…ä»…åœ¨è®¿é—®æ–¹å¼ä¸Šæœ‰æ‰€å·®åˆ«ï¼š</p>
<blockquote>
<p>  ä½¿ç”¨ <code>struct</code> æ—¶ï¼Œé»˜è®¤ç±»çš„æˆå‘˜éƒ½æ˜¯ <code>public</code> çš„ï¼›ä½¿ç”¨ <code>class</code> æ—¶ï¼Œé»˜è®¤ç±»çš„æˆå‘˜éƒ½æ˜¯ <code>private</code> çš„ã€‚æ‰€ä»¥ä»…ä»…é€šè¿‡ç¼–ç¨‹é£æ ¼å°±å¯å†³å®šä½¿ç”¨å“ªä¸€ä¸ªã€‚</p>
</blockquote>
<h2 id="2-1-å‹å…ƒ"><a href="#2-1-å‹å…ƒ" class="headerlink" title="2.1 å‹å…ƒ"></a>2.1 å‹å…ƒ</h2><p>è¿™ä¸ªä¸œè¥¿å°±æ˜¯æ–¹ä¾¿äº†éæœ¬ç±»çš„å†…å®¹æ¥è®¿é—®æœ¬ç±»çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼šå…¶ä»–ç±»æˆ–è€…å…¶ä»–ä¸å±äºè‡ªå·±çš„å‡½æ•°ï¼Œä¾‹å¦‚çš„ä¾‹å¦‚ï¼šä¸Šé¢çš„</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‹å…ƒå£°æ˜å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">friend</span> Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;, <span class="keyword">const</span> Sales_data &amp;)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> ostream &amp;<span class="title">print</span><span class="params">(ostream &amp;, <span class="keyword">const</span> Sales_data &amp;)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> istream &amp;<span class="title">read</span><span class="params">(istream &amp;, Sales_data &amp;)</span></span>;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸‰ä¸ªæ–¹æ³•åŸæ¥æ˜¯æ²¡åŠæ³•è®¿é—®ç±»å†…çš„ç§æœ‰å˜é‡çš„ï¼Œä¾‹å¦‚ <code>revenue</code> æˆå‘˜ï¼Œä½†æ˜¯åŠ ä¸Š <code>friend</code> ä¹‹åå°±å¯ä»¥äº†ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">ostream &amp;<span class="title">print</span><span class="params">(ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span> </span>&#123;</span><br><span class="line">    os &lt;&lt; item.isbn() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; item.units_sold &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">       &lt;&lt; item.revenue &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; item.avg_price();</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‹å…ƒå£°æ˜åªèƒ½æ”¾åˆ°ç±»çš„å†…éƒ¨ï¼Œä½†æ˜¯ç±»å†…å‡ºç°çš„å…·ä½“ä½ç½®ä¸é™ã€‚è€Œä¸”å‹å…ƒä¸å—è®¿é—®æ§åˆ¶çš„é™åˆ¶ã€‚</p>
<blockquote>
<p>  ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¥½åœ¨ç±»çš„å®šä¹‰å¼€å§‹æˆ–è€…ç»“æŸå‰çš„ä½ç½®é›†ä¸­å£°æ˜å‹å…ƒã€‚</p>
</blockquote>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œå‹å…ƒä¸èƒ½ä¼ é€’ï¼Œä¾‹å¦‚ <code>B</code> æ˜¯ <code>A</code> çš„å‹å…ƒï¼Œ<code>C</code> æ˜¯ <code>B</code> çš„å‹å…ƒï¼Œé‚£ä¹ˆ <code>C</code> ä¹Ÿä¸èƒ½è®¿é—®äººå®¶ <code>A</code> çš„ç§æœ‰å˜é‡ï¼Œè°çš„æœ‹å‹å°±æ˜¯è°çš„ï¼Œä¸èƒ½ä¹±æ¥ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå‹å…ƒå‡½æ•°åœ¨ç±»å†…å£°æ˜ä¹‹åï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œå®ç°ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€ç§å°±æ˜¯ç›´æ¥åœ¨ç±»å†…å®ç°ï¼Œå¦ä¸€ä¸ªå°±æ˜¯ç±»å¤–å†…è”ã€‚å¦‚æœè¿™ä¸¤ä¸ªéƒ½ä¸æ»¡æ„ï¼Œéœ€è¦æ”¾åˆ°å¦å¤–çš„æ–‡ä»¶å¤¹é‡Œè¿›è¡Œå®ç°ï¼Œåœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œå¿…é¡»å†…è”ã€‚</p>
<p>è€Œä¸”ï¼Œå¦‚æœæ˜¯ç±»çš„æˆå‘˜å‡½æ•°å»è°ƒç”¨ç±»çš„å‹å…ƒå‡½æ•°ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯å¿…é¡»è¢«å£°æ˜è¿‡çš„ï¼ˆä¸è¿‡ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç¼–è¯‘å™¨éƒ½è¦æ±‚è¿™æ ·çš„è§„å®šï¼‰ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">//    X() &#123; f(); &#125; é”™è¯¯çš„ï¼f() è¿˜æ²¡æœ‰å£°æ˜ï¼</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">g</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">h</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// void X::g() &#123; return f(); &#125; é”™è¯¯çš„ï¼å› ä¸º f() è¿˜æ²¡æœ‰å¾—åˆ°å£°æ˜</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">X::h</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> f(); &#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆè¿™é‡Œ CLion æœ‰å‘ï¼æš‚æ—¶æ²¡å¡«ï¼å…·ä½“ç°è±¡å°±æ˜¯ï¼šæœ‰æ—¶å€™ä¸å•ç‹¬å†å£°æ˜ä¸€éä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å‹å…ƒå‡½æ•°ï¼Œå°±æ˜¯æ²¡è¯­æ³•æç¤ºï¼Œä½†æœ‰æ—¶å€™ç›´æ¥å°±æ˜¯æŠ¥é”™ï¼æ¢ä¸ªæ„é€ å‡½æ•°ã€å¡«å……åˆå§‹å€¼éƒ½èƒ½è®©è¿™ä¸ªé—®é¢˜è§£å†³ã€‚å…·ä½“å‚è€ƒä¸‹é¢çš„ <code>X.hh</code> å’Œ <code>X.cc</code>ï¼‰</p>
<h2 id="2-X-èŠç‚¹å¥½ç©çš„"><a href="#2-X-èŠç‚¹å¥½ç©çš„" class="headerlink" title="2.X èŠç‚¹å¥½ç©çš„"></a>2.X èŠç‚¹å¥½ç©çš„</h2><p><strong>å°è£…çš„å¥½å¤„</strong>ï¼Œä¸¤ä¸ªä¼˜ç‚¹ï¼š</p>
<ul>
<li>ç¡®ä¿ç”¨æˆ·ä»£ç ä¸ä¼šæ— æ„é—´ç ´åå°è£…å¯¹è±¡çš„çŠ¶æ€</li>
<li>è¢«å°è£…çš„å…·ä½“å®ç°ï¼Œå¯ä»¥éšæ—¶æ”¹å˜ï¼Œåªè¦å¯¹å¤–çš„æ¥å£æ²¡å˜å°±è¡Œ</li>
</ul>
<h1 id="3-å…¶ä»–ç‰¹æ€§"><a href="#3-å…¶ä»–ç‰¹æ€§" class="headerlink" title="3. å…¶ä»–ç‰¹æ€§"></a>3. å…¶ä»–ç‰¹æ€§</h1><h2 id="3-1-æˆå‘˜ç±»å‹åˆ«å"><a href="#3-1-æˆå‘˜ç±»å‹åˆ«å" class="headerlink" title="3.1 æˆå‘˜ç±»å‹åˆ«å"></a>3.1 æˆå‘˜ç±»å‹åˆ«å</h2><p>ä½¿ç”¨ <code>typedef type name</code> æˆ–è€… <code>using name = type</code> æ¥å®Œæˆå®šä¹‰ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::<span class="built_in">string</span>::size_type pos;</span><br><span class="line"><span class="keyword">using</span> ScreenIndex = <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Screen&gt;::size_type;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆåœ¨ä¸‹æ–‡ä¸­ï¼Œå°±å¯ä»¥è¿™æ ·ä½¿ç”¨äº†ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Screen(pos ht, pos wd, <span class="keyword">char</span> c) : <span class="built_in">height</span>(ht), <span class="built_in">width</span>(wd), contents(ht * wd, c) &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(ScreenIndex index)</span></span>;</span><br></pre></td></tr></table></figure>
<p>è€Œä¸”ç”¨æ¥å®šä¹‰ç±»å‹çš„æˆå‘˜å¿…é¡»æ”¾åœ¨æœ€å‰é¢ï¼Œå› ä¸º<strong>å…ˆå®šä¹‰åä½¿ç”¨</strong>ã€‚</p>
<h2 id="3-2-å†…è”å‡½æ•°-inline"><a href="#3-2-å†…è”å‡½æ•°-inline" class="headerlink" title="3.2 å†…è”å‡½æ•° inline"></a>3.2 å†…è”å‡½æ•° <code>inline</code></h2><blockquote>
<p>   åœ¨ç±»çš„å†…éƒ¨å®šä¹‰çš„æˆå‘˜å‡½æ•°é»˜è®¤ä¸º <code>inline</code> ç±»å‹ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸€äº›è§„æ¨¡è¾ƒå°çš„å‡½æ•°é€‚åˆäºè¢«å£°æ˜æˆå†…è”å‡½æ•°ï¼Œç„¶åæ”¾åœ¨ç±»å¤–è¿›è¡Œå®šä¹‰ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Screen</span> &#123;</span></span><br><span class="line">    <span class="comment">// å£°æ˜ä¸€ä¸ªå‹å…ƒ</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Windows_Mgr</span>;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ç±»å‹åˆ«åç­‰ä»·åœ°å»å£°æ˜ä¸€ä¸ªç±»å‹åå­—</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="built_in">std</span>::<span class="built_in">string</span>::size_type pos;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">get</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> contents[<span class="built_in">cursor</span>]; &#125;   <span class="comment">// éšå¼å†…è”å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">get</span><span class="params">(pos r, pos c)</span> <span class="keyword">const</span></span>;          	<span class="comment">// æ˜¾å¼å†…è”å‡½æ•°</span></span><br><span class="line">    <span class="function">Screen &amp;<span class="title">move</span><span class="params">(pos r, pos c)</span></span>;                     <span class="comment">// èƒ½åœ¨å¤–é¢è¢«è®¾ç½®ä¸ºå†…è”å‡½æ•°</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    pos <span class="built_in">cursor</span> = <span class="number">0</span>;</span><br><span class="line">    pos <span class="built_in">height</span> = <span class="number">0</span>, <span class="built_in">width</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> contents;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> Screen &amp;<span class="title">Screen::move</span><span class="params">(pos r, pos c)</span> </span>&#123;</span><br><span class="line">    pos row = r * <span class="built_in">width</span>;</span><br><span class="line">    <span class="built_in">cursor</span> = row + c;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;   <span class="comment">// æŠŠè‡ªå·±è¿”å›å›å»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡ï¼Œä½¿ç”¨å†…è”å‡½æ•°æ—¶è¦æ³¨æ„ï¼š</p>
<p>è¦ä¹ˆåœ¨ <code>.hh</code> å¤´æ–‡ä»¶ä¸­å†™å¥½ <code>inline</code> å‡½æ•°çš„å®šä¹‰ï¼ˆå’Œå£°æ˜åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼‰ï¼Œè¦ä¹ˆåœ¨ <code>.cc</code> æ–‡ä»¶ä¸­ä¸è¦å†™å½“ä½œä¸€ä¸ªæ™®é€šæˆå‘˜å‡½æ•°ã€‚</p>
<h2 id="3-3-å¯å˜æ•°æ®æˆå‘˜"><a href="#3-3-å¯å˜æ•°æ®æˆå‘˜" class="headerlink" title="3.3 å¯å˜æ•°æ®æˆå‘˜"></a>3.3 å¯å˜æ•°æ®æˆå‘˜</h2><p><code>mutable</code> æ‰­è½¬ä¸€åˆ‡ï¼Œå³ä¾¿è°ƒç”¨ä¸€ä¸ª <code>const</code> æ–¹æ³•ï¼Œå¦‚æœå†…éƒ¨ä¿®æ”¹çš„å˜é‡æ˜¯å£°æ˜ä¸º <code>mutable</code> çš„ï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯ä»¥æ­£å¸¸ä¿®æ”¹ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sales_data</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span></span><br><span class="line">    <span class="keyword">mutable</span> <span class="keyword">int</span> assess_ctr = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Sales_data() = <span class="keyword">default</span>;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">do_somethings</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">Sales_data::do_somethings</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    assess_ctr++; <span class="comment">// è¿™æ ·ä¹Ÿæ˜¯æˆç«‹çš„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¥½äº†~ğŸ¥±è¿™æ¬¡å°±å…ˆåˆ°è¿™é‡Œâ€¦â€¦ğŸ˜ªğŸ˜ªğŸ˜ª</p>
<h1 id="å‚è€ƒç¨‹åº"><a href="#å‚è€ƒç¨‹åº" class="headerlink" title="å‚è€ƒç¨‹åº"></a>å‚è€ƒç¨‹åº</h1><p><code>Sales_data.hh</code>:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/10/7.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/10/7 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CXX_EXE_SALES_DATA_HH</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CXX_EXE_SALES_DATA_HH</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::istream;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::ostream;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sales_data</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">mutable</span> <span class="keyword">int</span> assess_ctr = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">avg_price</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Sales_data() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s) : bookNo(s) &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s, <span class="keyword">unsigned</span> n, <span class="keyword">double</span> p) : bookNo(s), units_sold(n), revenue(p * n) &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    Sales_data(istream &amp;);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> bookNo; &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function">Sales_data &amp;<span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span> </span>&#123;</span><br><span class="line">        Sales_data sum = lhs;</span><br><span class="line">        sum.combine(rhs);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> ostream &amp;<span class="title">print</span><span class="params">(ostream &amp;, <span class="keyword">const</span> Sales_data &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> istream &amp;<span class="title">read</span><span class="params">(istream &amp;, Sales_data &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">unsigned</span> <span class="title">get_units</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">do_somethings</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">unsigned</span> <span class="title">Sales_data::get_units</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> units_sold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">Sales_data::do_somethings</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    assess_ctr++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> istream &amp;<span class="title">read</span><span class="params">(istream &amp;is, Sales_data &amp;item)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> price = <span class="number">0</span>;</span><br><span class="line">    is &gt;&gt; item.bookNo &gt;&gt; item.units_sold &gt;&gt; price;</span><br><span class="line">    item.revenue = price * item.units_sold;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> ostream &amp;<span class="title">print</span><span class="params">(ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span> </span>&#123;</span><br><span class="line">    os &lt;&lt; item.isbn() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; item.units_sold &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">       &lt;&lt; item.revenue &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; item.avg_price();</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//CXX_EXE_SALES_DATA_HH</span></span></span><br></pre></td></tr></table></figure>
<p><code>Sales_data.cc</code>:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/10/7.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/10/7 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Sales_data.hh&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Sales_data::avg_price</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (units_sold) <span class="keyword">return</span> revenue / units_sold;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data &amp;<span class="title">Sales_data::combine</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;rhs)</span> </span>&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Sales_data::Sales_data(istream &amp;is) &#123;</span><br><span class="line">    <span class="built_in">read</span>(is, *<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>X.cc</code>:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/10/8.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/10/8 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;X.hh&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">X::get_id</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>X.hh</code>:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Xiaozhong on 2020/10/8.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020/10/8 Xiaozhong. All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CXX_EXE_X_HH</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CXX_EXE_X_HH</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>, <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">helloX</span><span class="params">(<span class="keyword">const</span> X &amp;x)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;hello World!&quot;</span> &lt;&lt; x.id &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    X() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get_id</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//CXX_EXE_X_HH</span></span></span><br></pre></td></tr></table></figure>
<p><code>CMakeLists.txt</code>:</p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.17</span>)</span><br><span class="line"><span class="keyword">project</span>(CXX_Exe)</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">add_executable</span>(main main.cc</span><br><span class="line">        Sales_data.cc Sales_data.hh</span><br><span class="line">        Screen.hh Screen.cc</span><br><span class="line">        Windows_Mgr.hh Windows_Mgr.cc</span><br><span class="line">        X.hh X.cc</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title>é…ç½®Hexo</title>
    <url>/2020/08/29/%E9%85%8D%E7%BD%AEHexo/</url>
    <content><![CDATA[<p><strong>é…ç½®æ–‡ä»¶ <code>_config.yml</code></strong></p>
<p>åœ¨ <code>Hexo</code> çš„å®‰è£…ç›®å½•ä¸‹ï¼Œ æœ‰ä¸€ä¸ªæ–‡ä»¶ <code>_config.yml</code> ï¼ˆä»¥åç§°ä¸º <strong>Hexo é…ç½®æ–‡ä»¶</strong> ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œå¯ä»¥å¯¹ä»¥ä»¥ä¸‹å†…å®¹è¿›è¡Œé…ç½®ã€‚</p>
<a id="more"></a>
<h2 id="1-ç«™ç‚¹ä¿¡æ¯"><a href="#1-ç«™ç‚¹ä¿¡æ¯" class="headerlink" title="1. ç«™ç‚¹ä¿¡æ¯"></a>1. ç«™ç‚¹ä¿¡æ¯</h2><p>åœ¨è¿™ä¸ªé…ç½®ä¸­ï¼Œå¯ä»¥å¯¹ç«™ç‚¹çš„åŸºæœ¬ä¿¡æ¯è¿›è¡Œä¿®æ”¹ã€‚</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">CHerrY</span> <span class="comment"># ç«™ç‚¹æ ‡é¢˜</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;é—¨å‰å¤§æ¡¥ä¸‹ï¼ŒC#C++ï¼Œå¿«æ¥å¿«æ¥æ•°ä¸€æ•°ï¼ŒJavaç…®é’è›™~&#x27;</span>  <span class="comment"># å­æ ‡é¢˜</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;ç®—æ³•åˆ†æï¼ŒåŸºç¡€æ¶æ„&#x27;</span> <span class="comment"># ç«™ç‚¹æè¿°ï¼Œç”¨æ¥å±•ç¤ºç»™è®¿å®¢çš„</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">&#x27;ç®—æ³•åˆ†æåˆ†äº«ï¼ŒæŠ€æœ¯åšå®¢ï¼ŒLeetCodeï¼Œä¸ªäººåšå®¢&#x27;</span>  <span class="comment"># ç»™æœç´¢å¼•æ“ç”¨çš„</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">CHerrY</span>  <span class="comment"># ä½œè€…ä¿¡æ¯ï¼Œåšå®¢ä¸­çš„ä½œè€…é»˜è®¤ç½²å</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span> <span class="comment"># è¯­è¨€ä¿¡æ¯ï¼ŒHexoæ”¯æŒå¤šç§è¯­è¨€</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span>    <span class="comment"># æ—¶åŒºé…ç½®ï¼Œé»˜è®¤ä½¿ç”¨è®¡ç®—æœºçš„å½“åœ°æ—¶é—´</span></span><br></pre></td></tr></table></figure>
<h2 id="2-URL-é…ç½®"><a href="#2-URL-é…ç½®" class="headerlink" title="2. URL é…ç½®"></a>2. <code>URL</code> é…ç½®</h2><p>è¯¥é…ç½®å°†ä¼šå½±å“åˆ°åšå®¢å†… <strong>å›¾ç‰‡</strong> çš„è®¿é—®ã€å¤–é“¾ç­‰ä¿¡æ¯ã€‚</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="string">https://hxz1998.github.io/</span> <span class="comment"># ç«™ç‚¹åŸŸåï¼Œå¦‚æœæœ‰çš„è¯å¯ä»¥è®¾ç½®è‡ªå·±çš„åŸŸå</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span>                         <span class="comment"># é…ç½®æ ¹ç›®å½•</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span>  <span class="comment"># URL ç»„æˆæ ¼å¼</span></span><br></pre></td></tr></table></figure>
<h2 id="3-æ‰©å±•"><a href="#3-æ‰©å±•" class="headerlink" title="3. æ‰©å±•"></a>3. æ‰©å±•</h2><p>å¯¹ <code>Hexo</code> è¿›è¡Œæ‰©å±•æ‰€ç”¨åˆ°çš„é…ç½®ï¼Œæ¯ä¸€ä¸ªæ’ä»¶éœ€è¦å»æŸ¥çœ‹æ’ä»¶è‡ªå·±çš„è¯´æ˜æ–‡æ¡£ã€‚</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ’ä»¶æ‰©å±•åˆ°ï¼š https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment"># ä¸»é¢˜æ‰©å±•åˆ°ï¼š https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span> <span class="comment"># è®¾ç½®ä¸»é¢˜ä¸º next</span></span><br></pre></td></tr></table></figure>
<h2 id="4-éƒ¨ç½²åˆ†å‘"><a href="#4-éƒ¨ç½²åˆ†å‘" class="headerlink" title="4. éƒ¨ç½²åˆ†å‘"></a>4. éƒ¨ç½²åˆ†å‘</h2><p>å°†åšå®¢éƒ¨ç½²åˆ°å“ªé‡Œï¼Œå°±é…ç½®è¿™é‡Œ~</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span> <span class="comment"># éƒ¨ç½²æœåŠ¡ç±»å‹ï¼Œåœ¨è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ Github å’Œ Giteeï¼Œå› æ­¤é€‰ git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="comment"># ä»“åº“åç§°â€œä»¬â€ï¼Œä¹‹æ‰€ä»¥ä½¿ç”¨â€œä»¬â€ï¼Œæ˜¯å› ä¸ºå¯ä»¥åŒæ­¥å¤šä¸ªgitä»“åº“</span></span><br><span class="line">    <span class="attr">gitee:</span> <span class="string">https://gitee.com/hxz1998/hxz1998.git</span>  </span><br><span class="line">    <span class="attr">github:</span> <span class="string">https://github.com/hxz1998/hxz1998.github.io</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
<h2 id="5-å­—æ•°ç»Ÿè®¡ï¼Œé˜…è¯»æ—¶é•¿ï¼ˆå¯é€‰ï¼‰"><a href="#5-å­—æ•°ç»Ÿè®¡ï¼Œé˜…è¯»æ—¶é•¿ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="5. å­—æ•°ç»Ÿè®¡ï¼Œé˜…è¯»æ—¶é•¿ï¼ˆå¯é€‰ï¼‰"></a>5. å­—æ•°ç»Ÿè®¡ï¼Œé˜…è¯»æ—¶é•¿ï¼ˆå¯é€‰ï¼‰</h2><p><strong>ä¸‹é¢å†…å®¹åœ¨Hexoé…ç½®æ–‡ä»¶ä¸­å¹¶ä¸å­˜åœ¨ï¼Œåˆ«å®³æ€•ï¼Œè‡ªå·±æ·»åŠ å°±å®Œäº‹å„¿äº†ã€‚</strong> è¿™é‡Œä¸»è¦å¯¹åšå®¢çš„ä¸€äº›é¢å¤–çš„åŠŸèƒ½è¿›è¡Œé…ç½®ï¼Œéœ€è¦ç»“åˆ <code>hexo-symbols-count-time</code> æ’ä»¶è¿›è¡Œä½¿ç”¨ã€‚</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">symbols:</span> <span class="literal">true</span>                <span class="comment"># æ–‡ç« å­—æ•°ç»Ÿè®¡</span></span><br><span class="line">  <span class="attr">time:</span> <span class="literal">true</span>                   <span class="comment"># æ–‡ç« é˜…è¯»æ—¶é•¿</span></span><br><span class="line">  <span class="attr">total_symbols:</span> <span class="literal">true</span>          <span class="comment"># ç«™ç‚¹æ€»å­—æ•°ç»Ÿè®¡</span></span><br><span class="line">  <span class="attr">total_time:</span> <span class="literal">true</span>             <span class="comment"># ç«™ç‚¹æ€»é˜…è¯»æ—¶é•¿</span></span><br><span class="line">  <span class="attr">exclude_codeblock:</span> <span class="literal">false</span>     <span class="comment"># æ’é™¤ä»£ç å­—æ•°ç»Ÿè®¡</span></span><br></pre></td></tr></table></figure>
<h3 id="5-1-hexo-symbols-count-time-å®‰è£…"><a href="#5-1-hexo-symbols-count-time-å®‰è£…" class="headerlink" title="5.1 hexo-symbols-count-time å®‰è£…"></a>5.1 <code>hexo-symbols-count-time</code> å®‰è£…</h3><p>æ‰“å¼€å¿ƒå¿ƒå¿µå¿µçš„å‘½ä»¤è¡Œç»ˆç«¯ï¼Œè¾“å…¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-symbols-count-time	<span class="comment"># è¿‡ç¨‹å¾ˆå¿«ï¼Œæ²¡æœ‰å¤šå¤§</span></span><br></pre></td></tr></table></figure>
<p>ç­‰å¾…å®‰è£…å®Œæˆï¼Œ<strong>é‡æ–°ç”Ÿæˆ</strong> ã€å¯åŠ¨ <code>Hexo</code> å³å¯æŸ¥çœ‹æ•ˆæœã€‚</p>
<h3 id="5-2-é…ç½®-NexT-ä¸­çš„å†…å®¹"><a href="#5-2-é…ç½®-NexT-ä¸­çš„å†…å®¹" class="headerlink" title="5.2 é…ç½® NexT ä¸­çš„å†…å®¹"></a>5.2 é…ç½® <code>NexT</code> ä¸­çš„å†…å®¹</h3><p>å°† <code>symbol_count_time</code> å¯ç”¨ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span>   <span class="comment"># åˆ†éš”çš„å…ƒæ•°æ®</span></span><br><span class="line">  <span class="attr">item_text_post:</span> <span class="literal">true</span>   <span class="comment"># æ–‡ç« å­—æ•° </span></span><br><span class="line">  <span class="attr">item_text_total:</span> <span class="literal">false</span> <span class="comment"># æ€»å­—æ•°</span></span><br><span class="line">  <span class="attr">awl:</span> <span class="number">4</span>                 <span class="comment"># å¹³å‡å­—é•¿ï¼ˆå­—ç¬¦ä»¥å­—ä¸ºå•ä½ï¼‰</span></span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">275</span>               <span class="comment"># æ¯åˆ†é’Ÿå­—æ•°</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„æ•°å­—éƒ½å¯ä»¥ä¿®æ”¹ï¼Œå½“ç„¶ï¼Œè¿˜å¯ä»¥å‚è€ƒæ¥è‡ª <a href="https://github.com/theme-next/hexo-symbols-count-time">å®˜æ–¹</a> æŒ‡å¯¼ï¼š</p>
<blockquote>
<p><strong>æ³¨æ„å¯¹äºä¸­å›½ç”¨æˆ·ï¼š</strong>å› ä¸ºåœ¨æœ‰å…³ä¸­å›½è¯­æ–‡å¹³å‡å­—é•¿<code>~1.5</code>ï¼Œå¦‚æœä½ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå†™ä¸­å›½çš„èŒä½ï¼ˆä¸å«æ··åˆè‹±æ–‡ï¼‰ï¼Œå»ºè®®è®¾ç½®<code>awl</code>åˆ°<code>2</code>å’Œ<code>wpm</code>åˆ°<code>300</code>ã€‚<br>ä½†æ˜¯ï¼Œå¦‚æœæ‚¨é€šå¸¸å°†è‡ªå·±çš„å¸–å­ä¸è‹±è¯­æ··åœ¨ä¸€èµ·ï¼Œåˆ™<code>awl</code>to <code>4</code>å’Œ<code>wpm</code>to <code>275</code>ä¼šå¾ˆå¥½ã€‚</p>
</blockquote>
<h2 id="6-æœç´¢ï¼ˆå¯é€‰ï¼‰"><a href="#6-æœç´¢ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="6. æœç´¢ï¼ˆå¯é€‰ï¼‰"></a>6. æœç´¢ï¼ˆå¯é€‰ï¼‰</h2><p>åŒæ ·çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªåœ¨ <strong>Hexoé…ç½®æ–‡ä»¶ä¸­å¹¶ä¸å­˜åœ¨çš„å†…å®¹ï¼Œéœ€è¦é¢å¤–æ·»åŠ ã€‚</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span> </span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span>  <span class="comment"># å°†æœç´¢ç´¢å¼•æ”¾åˆ°å“ªé‡Œ</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span>       <span class="comment"># æœç´¢å­—æ®µ</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span>     <span class="comment"># æ˜¯å¦æ£€ç´¢å†…å®¹</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span>      <span class="comment"># ç”Ÿæˆæ ¼å¼</span></span><br></pre></td></tr></table></figure>
<p> é…ç½®å®Œä¹‹åï¼Œä»ç„¶éœ€è¦é¢å¤–é…ç½® <code>NexT</code> ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ <code>next\_config.xml</code> æ‰å¯ä»¥ç”Ÿæ•ˆã€‚</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span>	</span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>	</span><br></pre></td></tr></table></figure>
<h3 id="6-1-hexo-generator-searchdb-å®‰è£…"><a href="#6-1-hexo-generator-searchdb-å®‰è£…" class="headerlink" title="6.1 hexo-generator-searchdb å®‰è£…"></a>6.1 <code>hexo-generator-searchdb</code> å®‰è£…</h3><p>ç»§ç»­ä½¿ç”¨ä¸Šé¢å¿ƒå¿ƒå¿µå¿µçš„ç»ˆç«¯ï¼Œè¾“å…¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb</span><br></pre></td></tr></table></figure>
<p>ç­‰å¾…å®‰è£…å®Œæˆï¼Œ<strong>é‡æ–°ç”Ÿæˆ</strong> ã€å†æ¬¡å¯åŠ¨ <code>Hexo</code> å³å¯æŸ¥çœ‹æ•ˆæœã€‚</p>
<h2 id="7-æ ‡ç­¾äº‘"><a href="#7-æ ‡ç­¾äº‘" class="headerlink" title="7. æ ‡ç­¾äº‘"></a>7. æ ‡ç­¾äº‘</h2><p>é¦–å…ˆè¦å»ºç«‹å­˜æ”¾æ ‡ç­¾çš„é¡µé¢ï¼Œæ‰“å¼€å–œæ¬¢ç”¨çš„å‘½ä»¤è¡Œç»ˆç«¯ï¼Œå¹¶è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page &quot;tags&quot;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±å¯ä»¥åœ¨ <code>Hexo_home\source\</code> æ–‡ä»¶å¤¹ä¸‹çœ‹åˆ°æœ‰ <code>tags\index.md</code> æ–‡ä»¶ï¼Œå¯¹è¯¥æ–‡ä»¶è¿›è¡Œä¿®æ”¹æˆå¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">title: æ ‡ç­¾äº‘              # å±•ç¤ºæ ‡é¢˜</span><br><span class="line">date: 2020-08-27 23:03:38 # åˆ›å»ºæ—¶é—´ï¼Œä¸€èˆ¬ä¸éœ€è¦æ”¹</span><br><span class="line">type: &quot;tags&quot;              # <span class="xml"><span class="tag">&lt;<span class="name">---</span> è¿™ä¸ªæ‰æ˜¯æ·»åŠ çš„é‡ç‚¹ï¼</span></span></span><br></pre></td></tr></table></figure>
<p>ç„¶ååˆ·æ–°å°±å¯ä»¥åœ¨ä¸»é¡µé¢èœå•ä¸­çœ‹åˆ° <strong>æ ‡ç­¾</strong> è¿™ä¸€æ äº†ã€‚</p>
<h2 id="8-åˆ†ç±»"><a href="#8-åˆ†ç±»" class="headerlink" title="8. åˆ†ç±»"></a>8. åˆ†ç±»</h2><p>å¯¹äºåˆ†ç±»é¡µé¢çš„å»ºç«‹ï¼Œå’Œä¸Šé¢ <strong>ç¬¬ä¸ƒæ¡</strong> ä¸€æ ·ã€‚</p>
]]></content>
      <categories>
        <category>æ£é¼“å°ç©æ„å„¿</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>å†æ¢C++çš„ç±»ï¼ˆæ„é€ å‡½æ•°ï¼‰</title>
    <url>/2020/10/18/%E5%86%8D%E6%8E%A2CPP%E7%9A%84%E7%B1%BB%EF%BC%88%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%EF%BC%89/</url>
    <content><![CDATA[<blockquote>
<p>  ä»¥ä¸‹å†…å®¹å‚è€ƒè‡ª <a href="https://book.douban.com/subject/25708312/">C++ Primer (5th)</a></p>
</blockquote>
<a id="more"></a>
<h1 id="1-æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨"><a href="#1-æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨" class="headerlink" title="1. æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨"></a>1. æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨</h1><p>åœ¨ä¹‹å‰ä½¿ç”¨Javaæ—¶å€™ï¼Œç»å¸¸è¿™æ ·åˆå§‹åŒ–æˆå‘˜ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InitData</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> id = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">string</span> desc = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    InitData(<span class="keyword">int</span> _id, <span class="built_in">string</span> &amp;_desc) &#123;</span><br><span class="line">        id = _id;</span><br><span class="line">        desc = _desc;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§åˆå§‹åŒ–æ–¹æ³•ç»“æœæ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯æ²¡æœ‰ç”¨åˆ°C++çš„æ„é€ å‡½æ•°<strong>åˆå§‹å€¼æ“ä½œ</strong>ï¼Œç”¨çš„æ˜¯<strong>èµ‹å€¼æ“ä½œ</strong>ï¼Œæ‰€ä»¥æ•ˆç‡æ¯”è¾ƒé«˜çš„æ˜¯è¿™æ ·çš„ç”¨æ³•ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InitData</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> id = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">string</span> desc = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    InitData(<span class="keyword">int</span> _id, <span class="built_in">string</span> &amp;_desc) : id(_id), desc(_desc) &#123;&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ„é€ å‡½æ•°æœ‰æ—¶å€™ä¸èƒ½ç¼ºå°‘ï¼Œä¾‹å¦‚ä½¿ç”¨åˆ°äº†<strong>å¸¸é‡å€¼</strong>å’Œ<strong>å¼•ç”¨ç±»å‹çš„åˆå§‹å€¼</strong>ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConstRef</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ConstRef(<span class="keyword">int</span> ii) : i(ii), const_i(ii), ref_i(i) &#123;&#125;</span><br><span class="line">    <span class="comment">// å¦‚æœè¿™ä¸ªæ—¶å€™ä½¿ç”¨èµ‹å€¼æ“ä½œçš„è¯ï¼Œå°±ä¼šå‡ºé—®é¢˜ï¼Œä¾‹å¦‚ï¼š</span></span><br><span class="line">    ConstRef(<span class="keyword">int</span> ii) &#123;</span><br><span class="line">        i = ii;</span><br><span class="line">        const_i = ii; <span class="comment">// æŠ¥é”™ï¼Œä¸èƒ½å¯¹ const è¿›è¡Œèµ‹å€¼æ“ä½œ</span></span><br><span class="line">        ref_i = i;   <span class="comment">// æŠ¥é”™ï¼Œæ²¡æœ‰åˆå§‹åŒ–</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> const_i;</span><br><span class="line">    <span class="keyword">int</span> &amp;ref_i;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>  å¦‚æœæˆå‘˜æ˜¯ <code>const</code> ã€å¼•ç”¨ï¼Œæˆ–è€…å±äºæŸç§æœªæä¾›é»˜è®¤æ„é€ å‡½æ•°çš„ç±»ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨æ¥ä¸ºè¿™äº›æˆå‘˜æä¾›åˆå§‹å€¼ã€‚</p>
</blockquote>
<p>è€Œä¸”ï¼Œè¿™ä¸¤ç§æ–¹æ³•è¿˜ä¼šå½±å“åˆ°æ€§èƒ½é—®é¢˜ï¼Œåˆå§‹åŒ–å’Œèµ‹å€¼ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œå‰è€…ç›´æ¥åˆå§‹åŒ–æ•°æ®æˆå‘˜ï¼Œè€Œåè€…å…ˆåˆå§‹åŒ–ï¼Œå†èµ‹å€¼ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯å…»æˆä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨çš„æ–¹æ³•ã€‚</p>
<p><strong>åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨çš„é¡ºåº</strong>ä¹Ÿå¾ˆé‡è¦ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> j, i;</span><br><span class="line">    <span class="comment">// ä¸‹é¢è¿™ä¸ªé¡ºåºæ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºéœ€è¦å…ˆåˆå§‹åŒ– iï¼Œä½†å®é™…ä¸Šåˆå§‹åŒ–äº† j</span></span><br><span class="line"><span class="comment">//    int i, j;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    X(<span class="keyword">int</span> val) : j(val), i(j) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡~æœ€å¥½ä¸ä½¿ç”¨åŒä¸€ä¸ªå¯¹è±¡çš„å…¶ä»–æˆå‘˜æ¥åˆå§‹åŒ–ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å®å‚å’Œæ„é€ å‡½æ•°ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Delegating_Constructor</span> &#123;</span></span><br><span class="line">    <span class="built_in">string</span> _name = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> _age = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å®é™…ä¸Šï¼Œå¦‚æœæ¯ä¸€ä¸ªå‚æ•°éƒ½æä¾›äº†é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå°±ç­‰äºæä¾›äº†é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    Delegating_Constructor(<span class="built_in">string</span> name = <span class="string">&quot;name&quot;</span>, <span class="keyword">int</span> age = <span class="number">0</span>) : _name(name), _age(age) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="2-å§”æ‰˜æ„é€ å‡½æ•°"><a href="#2-å§”æ‰˜æ„é€ å‡½æ•°" class="headerlink" title="2. å§”æ‰˜æ„é€ å‡½æ•°"></a>2. å§”æ‰˜æ„é€ å‡½æ•°</h1><p>åœ¨ <code>C++11</code> ä¸­ï¼Œæä¾›äº†æ„é€ å‡½æ•°çš„å¦ä¸€ç§ä½¿ç”¨æ–¹æ³•ï¼Œæ„é€ å‡½æ•°Aä½¿ç”¨æ„é€ å‡½æ•°Bæ¥ä¼ é€’æ„é€ ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Delegating_Constructor</span> &#123;</span></span><br><span class="line">    <span class="built_in">string</span> _name = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> _age = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// éå§”æ‰˜æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="comment">// å®é™…ä¸Šï¼Œå¦‚æœæ¯ä¸€ä¸ªå‚æ•°éƒ½æä¾›äº†é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå°±ç­‰äºæä¾›äº†é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    Delegating_Constructor(<span class="built_in">string</span> name = <span class="string">&quot;name&quot;</span>, <span class="keyword">int</span> age = <span class="number">0</span>) : _name(name), _age(age) &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­¤æ—¶å¦‚æœå†æä¾›è¿™æ ·çš„å‡½æ•°ï¼Œé‚£ä¹ˆå°†ä¼šæŠ¥é”™</span></span><br><span class="line">    <span class="comment">// call of overloaded &#x27;Delegating_Constructor()&#x27; is ambiguous</span></span><br><span class="line">    <span class="comment">// Delegating_Constructor() &#123;&#125;</span></span><br><span class="line">    <span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°ï¼Œå§”æ‰˜ä¸Šé¢çš„æ„é€ å‡½æ•°</span></span><br><span class="line">    Delegating_Constructor(<span class="keyword">int</span> age) : Delegating_Constructor(<span class="string">&quot;&quot;</span>, age) &#123;&#125;</span><br><span class="line">    Delegating_Constructor(<span class="built_in">string</span> name) : Delegating_Constructor(name, <span class="number">0</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="3-é»˜è®¤æ„é€ å‡½æ•°"><a href="#3-é»˜è®¤æ„é€ å‡½æ•°" class="headerlink" title="3. é»˜è®¤æ„é€ å‡½æ•°"></a>3. é»˜è®¤æ„é€ å‡½æ•°</h1><blockquote>
<p>  å¦‚æœåœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæä¾›äº†å…¶ä»–æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆæœ€å¥½ä¹Ÿæä¾›ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚</p>
</blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¹¶æ²¡æœ‰ä½¿ç”¨åˆ°é»˜è®¤æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯å£°æ˜äº†ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªç©ºå‚æ•°åˆ—è¡¨ï¼Œè¿”å›ä¸€ä¸ª Sales_Data å¯¹è±¡</span></span><br><span class="line"><span class="function">Sales_Data <span class="title">obj</span><span class="params">()</span></span>; </span><br><span class="line">obj.isbn(); <span class="comment">// æŠ¥é”™ï¼Œå› ä¸º obj æ˜¯ä¸€ä¸ªå‡½æ•°</span></span><br></pre></td></tr></table></figure>
<h1 id="4-éšå¼ç±»å‹è½¬æ¢"><a href="#4-éšå¼ç±»å‹è½¬æ¢" class="headerlink" title="4. éšå¼ç±»å‹è½¬æ¢"></a>4. éšå¼ç±»å‹è½¬æ¢</h1><p>è¿™ä¸ªæ˜¯ä¸‡ä¸‡æ²¡æƒ³åˆ°çš„ï¼Œè¿˜æœ‰è¿™ä¸ªæ“ä½œï¼ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sales_Data</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">int</span> id = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Sales_Data() = <span class="keyword">default</span>;</span><br><span class="line">    Sales_Data(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s) : bookNo(s) &#123;&#125;</span><br><span class="line">    Sales_Data(<span class="keyword">int</span> _id) : id(_id) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨ (int _id) æ„é€ å‡½æ•°æ¥åˆ›å»ºè¿™ä¸ªå¯¹è±¡</span></span><br><span class="line">    Sales_Data sdint = (Sales_Data) <span class="number">1</span>;</span><br><span class="line">    Sales_Data sdstring = (Sales_Data) name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªéšå¼ç±»å‹è½¬æ¢ï¼Œåªèƒ½<strong>è½¬æ¢ä¸€æ¬¡</strong>ï¼Œä¸èƒ½è¿ç»­ä¸¤æ¬¡è½¬æ¢ï¼Œä¾‹å¦‚ï¼š<code>&quot;abc&quot; -&gt; string -&gt; const string</code>ï¼Œè¿™æ ·æ˜¯ä¸è¡Œçš„ã€‚</p>
<p>ä¹Ÿå¯ä½¿ç”¨ <code>explicit</code> å…³é”®å­—æ¥å£°æ˜ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°<strong>ä¸èƒ½</strong>ç”¨æ¥éšå¼ç±»å‹è½¬æ¢ï¼ä½†æ˜¯ä»ç„¶å¯ä»¥ä½¿ç”¨<strong>æ„é€ å‡½æ•°</strong>æ–¹æ³•ä»¥åŠ <code>static_cast&lt;&gt;()</code> å‡½æ•°æ¥å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>é˜…è¯»ç¬”è®°</tag>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title>è½¯è€ƒï¼ˆè½¯ä»¶è®¾è®¡å¸ˆï¼‰éƒ¨åˆ†çŸ¥è¯†ç‚¹æ€»ç»“</title>
    <url>/2020/11/04/%E8%BD%AF%E8%80%83%EF%BC%88%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88%EF%BC%89%E9%83%A8%E5%88%86%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p>è½¯è€ƒé€šè¿‡å•¦ğŸ˜‰~</p>
<p><img data-src="https://s3.ax1x.com/2020/12/18/rJzscF.png" alt="è½¯è€ƒæˆç»©å•" style="zoom:50%;" /></p>
<p>è¯¥æ–‡æ¡£æ€»ç»“äº†è½¯è€ƒå‰çš„ä¸€äº›é‡è¦çŸ¥è¯†ç‚¹ã€‚</p>
<a id="more"></a>
<h2 id="æ–‡ä»¶ç³»ç»Ÿå¤šçº§ç´¢å¼•æ€ä¹ˆç®—æ–‡ä»¶æœ€å¤§é•¿åº¦ï¼Ÿ"><a href="#æ–‡ä»¶ç³»ç»Ÿå¤šçº§ç´¢å¼•æ€ä¹ˆç®—æ–‡ä»¶æœ€å¤§é•¿åº¦ï¼Ÿ" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿå¤šçº§ç´¢å¼•æ€ä¹ˆç®—æ–‡ä»¶æœ€å¤§é•¿åº¦ï¼Ÿ"></a>æ–‡ä»¶ç³»ç»Ÿå¤šçº§ç´¢å¼•æ€ä¹ˆç®—æ–‡ä»¶æœ€å¤§é•¿åº¦ï¼Ÿ</h2><p>é¦–å…ˆè®¡ç®—æ¯ä¸€ä¸ªç£ç›˜å—å¯ä»¥æœ‰è¡¨ç¤ºå¤šå°‘ä¸ªå—ï¼Œå‡è®¾å¯ä»¥ä¿å­˜ <code>n</code> ä¸ªï¼Œé‚£ä¹ˆå°±å¥½åŠäº†ï¼ŒäºŒçº§ç´¢å¼•å¯ä»¥ä¿å­˜ï¼š<code>n * n * å•ä¸ªç£ç›˜å—å¤§å°</code>ã€‚</p>
<h2 id="å…¥ä¾µæ£€æµ‹æŠ€æœ¯æœ‰å“ªäº›ï¼Ÿ"><a href="#å…¥ä¾µæ£€æµ‹æŠ€æœ¯æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="å…¥ä¾µæ£€æµ‹æŠ€æœ¯æœ‰å“ªäº›ï¼Ÿ"></a>å…¥ä¾µæ£€æµ‹æŠ€æœ¯æœ‰å“ªäº›ï¼Ÿ</h2><p>ä¸“å®¶ç³»ç»Ÿï¼Œæ¨¡å‹æ£€æµ‹ï¼Œç®€å•åŒ¹é…ã€‚</p>
<h2 id="è¢«åŠ¨æ”»å‡»çš„å½¢å¼ï¼Ÿ"><a href="#è¢«åŠ¨æ”»å‡»çš„å½¢å¼ï¼Ÿ" class="headerlink" title="è¢«åŠ¨æ”»å‡»çš„å½¢å¼ï¼Ÿ"></a>è¢«åŠ¨æ”»å‡»çš„å½¢å¼ï¼Ÿ</h2><p>ä¿¡æ¯æœé›†ï¼Œä¾‹å¦‚ï¼šç³»ç»Ÿå¹²æ¶‰ï¼Œæµé‡åˆ†æã€‚</p>
<h2 id="é‚£ä¹ˆä¸»åŠ¨æ”»å‡»çš„å½¢å¼ï¼Ÿ"><a href="#é‚£ä¹ˆä¸»åŠ¨æ”»å‡»çš„å½¢å¼ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆä¸»åŠ¨æ”»å‡»çš„å½¢å¼ï¼Ÿ"></a>é‚£ä¹ˆä¸»åŠ¨æ”»å‡»çš„å½¢å¼ï¼Ÿ</h2><p>ä¸»åŠ¨æ”»å‡»æ˜¯æŒ‡é€šè¿‡ä¸€ç³»åˆ—çš„æ–¹æ³•ï¼Œä¸»åŠ¨å‘è¢«æ”»å‡»å¯¹è±¡å®æ–½ç ´åçš„ä¸€ç§æ”»å‡»æ–¹å¼ï¼Œä¾‹å¦‚é‡æ”¾æ”»å‡»ã€IPåœ°å€æ¬ºéª—ã€æ‹’ç»æœåŠ¡æ”»å‡»ç­‰å‡å±äºæ”»å‡»è€…ä¸»åŠ¨å‘æ”»å‡»å¯¹è±¡å‘èµ·ç ´åæ€§æ”»å‡»çš„æ–¹å¼ã€‚</p>
<h2 id="é‡‡ç”¨ä»€ä¹ˆæ§åˆ¶æŠ€æœ¯å¯ä»¥è®©CPUå¯ä»¥ä¸å¤–è®¾å¹¶è¡Œå·¥ä½œï¼Ÿ"><a href="#é‡‡ç”¨ä»€ä¹ˆæ§åˆ¶æŠ€æœ¯å¯ä»¥è®©CPUå¯ä»¥ä¸å¤–è®¾å¹¶è¡Œå·¥ä½œï¼Ÿ" class="headerlink" title="é‡‡ç”¨ä»€ä¹ˆæ§åˆ¶æŠ€æœ¯å¯ä»¥è®©CPUå¯ä»¥ä¸å¤–è®¾å¹¶è¡Œå·¥ä½œï¼Ÿ"></a>é‡‡ç”¨ä»€ä¹ˆæ§åˆ¶æŠ€æœ¯å¯ä»¥è®©CPUå¯ä»¥ä¸å¤–è®¾å¹¶è¡Œå·¥ä½œï¼Ÿ</h2><p>ä¸­æ–­æ–¹å¼å’ŒDMAæ–¹å¼ï¼Œè€Œä¸”DMAæ–¹å¼ä¸éœ€è¦CPUæ‰§è¡Œç¨‹åºæŒ‡ä»¤æ¥ä¼ é€æ•°æ®ã€‚</p>
<h2 id="é…ç½®ç®¡ç†çš„å†…å®¹ï¼Ÿ"><a href="#é…ç½®ç®¡ç†çš„å†…å®¹ï¼Ÿ" class="headerlink" title="é…ç½®ç®¡ç†çš„å†…å®¹ï¼Ÿ"></a>é…ç½®ç®¡ç†çš„å†…å®¹ï¼Ÿ</h2><p>ç‰ˆæœ¬æ§åˆ¶ï¼Œå˜æ›´æ§åˆ¶ï¼Œé…ç½®æ§åˆ¶ï¼Œé…ç½®å®¡è®¡ï¼ŒçŠ¶æ€æŠ¥å‘Šã€‚</p>
<h2 id="æé™ç¼–ç¨‹XPçš„ä¸€äº›å†…å®¹ï¼Ÿ"><a href="#æé™ç¼–ç¨‹XPçš„ä¸€äº›å†…å®¹ï¼Ÿ" class="headerlink" title="æé™ç¼–ç¨‹XPçš„ä¸€äº›å†…å®¹ï¼Ÿ"></a>æé™ç¼–ç¨‹XPçš„ä¸€äº›å†…å®¹ï¼Ÿ</h2><ul>
<li>å››å¤§ä»·å€¼è§‚ï¼šæ²Ÿé€šï¼Œç®€å•ï¼Œåé¦ˆï¼Œå‹‡æ°”ã€‚</li>
<li>äº”å¤§åŸåˆ™ï¼šå¿«é€Ÿåé¦ˆï¼Œç®€å•æ€§å‡è®¾ï¼Œé€æ­¥ä¿®æ”¹ï¼Œæå€¡æ›´æ”¹ï¼Œä¼˜è´¨å·¥ä½œã€‚</li>
<li>åäºŒä¸ªæœ€ä½³å®è·µï¼šè®¡åˆ’æ¸¸æˆï¼Œå°å‹å‘å¸ƒï¼Œéšå–»ï¼Œç®€å•è®¾è®¡ï¼Œæµ‹è¯•å…ˆè¡Œï¼Œé‡æ„ï¼Œç»“å¯¹ç¼–ç¨‹ï¼Œé›†ä½“ä»£ç æ‰€æœ‰åˆ¶ï¼ŒæŒç»­é›†æˆï¼Œæ¯å‘¨å·¥ä½œ40å°æ—¶ï¼Œç°åœºå®¢æˆ·ï¼Œç¼–ç æ ‡å‡†ã€‚</li>
</ul>
<h2 id="æ•æ·æ–¹æ³•ï¼Ÿ"><a href="#æ•æ·æ–¹æ³•ï¼Ÿ" class="headerlink" title="æ•æ·æ–¹æ³•ï¼Ÿ"></a>æ•æ·æ–¹æ³•ï¼Ÿ</h2><p>æé™ç¼–ç¨‹ï¼ˆè½»é‡é«˜æ•ˆä½é£é™©æŸ”æ€§å¯é¢„æµ‹ï¼‰ï¼Œæ°´æ™¶æ³•ï¼ˆæ¯ä¸€ä¸ªé¡¹ç›®éœ€è¦ä¸€ä¸ªä¸åŒçš„ç­–ç•¥çº¦å®šå’Œæ–¹æ³•ï¼‰ï¼Œå¹¶åˆ—äº‰çƒæ³•ï¼ˆScrumï¼Œ30å¤©ä¸€ä¸ªå°å†²åˆºï¼‰ï¼Œè‡ªé€‚åº”è½¯ä»¶å¼€å‘ï¼ˆASDï¼Œ6ä¸ªåŸºæœ¬åŸåˆ™ï¼‰ï¼Œæ•æ·ç»Ÿä¸€è¿‡ç¨‹ï¼ˆAUPï¼Œå¤§å‹ä¸Šè¿ç»­ï¼Œå°å‹ä¸Šè¿­ä»£ï¼‰ã€‚</p>
<h2 id="æ€æ ·åˆ¤æ–­è¾¾åˆ°äº†å“ªä¸€ä¸ªè§„èŒƒåŒ–ç¨‹åº¦ï¼Ÿ"><a href="#æ€æ ·åˆ¤æ–­è¾¾åˆ°äº†å“ªä¸€ä¸ªè§„èŒƒåŒ–ç¨‹åº¦ï¼Ÿ" class="headerlink" title="æ€æ ·åˆ¤æ–­è¾¾åˆ°äº†å“ªä¸€ä¸ªè§„èŒƒåŒ–ç¨‹åº¦ï¼Ÿ"></a>æ€æ ·åˆ¤æ–­è¾¾åˆ°äº†å“ªä¸€ä¸ªè§„èŒƒåŒ–ç¨‹åº¦ï¼Ÿ</h2><ul>
<li>ç¬¬ä¸€èŒƒå¼ï¼šå…ƒç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ å‡ä¸å¯å†åˆ†ã€‚</li>
<li>ç¬¬äºŒèŒƒå¼ï¼šå…ƒç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¾èµ–äºä¸»å±æ€§ã€‚</li>
<li>ç¬¬ä¸‰èŒƒå¼ï¼šæ²¡æœ‰ä¼ é€’ä¾èµ–ã€‚</li>
</ul>
<h2 id="å„ç§æ’åºç®—æ³•æ¯”è¾ƒï¼Œä»¥åŠé€‚ç”¨åœºåˆï¼Ÿ"><a href="#å„ç§æ’åºç®—æ³•æ¯”è¾ƒï¼Œä»¥åŠé€‚ç”¨åœºåˆï¼Ÿ" class="headerlink" title="å„ç§æ’åºç®—æ³•æ¯”è¾ƒï¼Œä»¥åŠé€‚ç”¨åœºåˆï¼Ÿ"></a>å„ç§æ’åºç®—æ³•æ¯”è¾ƒï¼Œä»¥åŠé€‚ç”¨åœºåˆï¼Ÿ</h2><p><img data-src="https://s1.ax1x.com/2020/11/06/BhsNh6.jpg" alt="æ’åºç®—æ³•"></p>
<ul>
<li><p>å¦‚æœæ•°æ®è§„æ¨¡å°ï¼Œé‚£ä¹ˆä½¿ç”¨æ’å…¥æ’åºæˆ–è€…é€‰æ‹©æ’åºã€‚</p>
</li>
<li><p>å¦‚æœæ•°æ®åŸºæœ¬æœ‰åºï¼Œé‚£ä¹ˆæ’å…¥ã€å†’æ³¡éƒ½å¾ˆå¥½ã€‚</p>
</li>
<li>å¦‚æœæ•°æ®è§„æ¨¡å¤§ï¼Œé‚£ä¹ˆä½¿ç”¨å¿«é€Ÿæ’åºã€å †æ’åºã€å½’å¹¶æ’åºéƒ½å¾ˆå¥½ã€‚</li>
</ul>
<h2 id="å†…èšä»é«˜åˆ°ä½ï¼Ÿ"><a href="#å†…èšä»é«˜åˆ°ä½ï¼Ÿ" class="headerlink" title="å†…èšä»é«˜åˆ°ä½ï¼Ÿ"></a>å†…èšä»é«˜åˆ°ä½ï¼Ÿ</h2><p>åŠŸèƒ½ã€é¡ºåºã€é€šä¿¡ã€è¿‡ç¨‹ã€æ—¶é—´ã€é€»è¾‘ã€å¶ç„¶ã€‚</p>
<h2 id="è€¦åˆä»ä½åˆ°é«˜ï¼Ÿ"><a href="#è€¦åˆä»ä½åˆ°é«˜ï¼Ÿ" class="headerlink" title="è€¦åˆä»ä½åˆ°é«˜ï¼Ÿ"></a>è€¦åˆä»ä½åˆ°é«˜ï¼Ÿ</h2><p>æ— ç›´æ¥ã€æ•°æ®ã€æ ‡è®°ã€æ§åˆ¶ã€å¤–éƒ¨ã€å…¬å…±ã€å†…å®¹ã€‚</p>
<h2 id="å…³è”ï¼Œèšé›†ï¼Œç»„åˆï¼Œä¾èµ–ï¼Ÿ"><a href="#å…³è”ï¼Œèšé›†ï¼Œç»„åˆï¼Œä¾èµ–ï¼Ÿ" class="headerlink" title="å…³è”ï¼Œèšé›†ï¼Œç»„åˆï¼Œä¾èµ–ï¼Ÿ"></a>å…³è”ï¼Œèšé›†ï¼Œç»„åˆï¼Œä¾èµ–ï¼Ÿ</h2><ul>
<li>å…³è”ï¼šå®çº¿ã€‚</li>
<li>èšé›†ï¼šå®çº¿+ç©ºå¿ƒæ£±å½¢ï¼Œæˆå‘˜å¯ä»¥è„±ç¦»æ•´ä½“å­˜åœ¨ã€‚</li>
<li>ç»„åˆï¼šå®çº¿+å®å¿ƒæ£±å½¢ï¼Œç”Ÿæ­»ä¸å…±çš„å…³ç³»ã€‚</li>
<li>ä¾èµ–ï¼šè™šçº¿ï¼Œä¸€ä¸ªå˜åŒ–ä¼šå½±å“å¦ä¸€ä¸ªã€‚</li>
<li>æ³›åŒ–ï¼šå®çº¿+ç©ºå¿ƒç®­å¤´ã€‚</li>
<li>å®çº¿ï¼šè™šçº¿+ç©ºå¿ƒç®­å¤´ã€‚</li>
</ul>
<h2 id="è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼Ÿ"><a href="#è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼Ÿ" class="headerlink" title="è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼Ÿ"></a>è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼Ÿ</h2><p>åˆ›å»ºå‹ï¼šæŠ½è±¡å·¥å‚ï¼Œå·¥å‚æ–¹æ³•ï¼Œå»ºé€ å™¨ï¼Œå•ä¾‹ï¼ŒåŸå‹</p>
<p>ç»“æ„å‹ï¼šé€‚é…å™¨ï¼Œç»„åˆï¼Œè£…é¥°å™¨ï¼Œäº«å…ƒï¼Œæ¡¥æ¥ï¼Œå¤–è§‚ï¼Œä»£ç†</p>
<p>è¡Œä¸ºå‹ï¼šè®¿é—®è€…ï¼Œè´£ä»»é“¾ï¼Œå‘½ä»¤ï¼Œè§£é‡Šå™¨ï¼Œè¿­ä»£å™¨ï¼Œä¸­ä»‹è€…ï¼Œå¤‡å¿˜å½•ï¼Œè§‚å¯Ÿè€…ï¼ŒçŠ¶æ€ï¼Œç­–ç•¥ï¼Œæ¨¡æ¿æ–¹æ³•</p>
<h2 id="ç½‘ç»œå„å±‚è®¾å¤‡åŠåè®®ï¼Ÿ"><a href="#ç½‘ç»œå„å±‚è®¾å¤‡åŠåè®®ï¼Ÿ" class="headerlink" title="ç½‘ç»œå„å±‚è®¾å¤‡åŠåè®®ï¼Ÿ"></a>ç½‘ç»œå„å±‚è®¾å¤‡åŠåè®®ï¼Ÿ</h2><p><img data-src="https://s1.ax1x.com/2020/11/04/BgRcL9.jpg" alt=""></p>
<h2 id="å„ç§æœåŠ¡å ç”¨çš„ç«¯å£å·ï¼Ÿ"><a href="#å„ç§æœåŠ¡å ç”¨çš„ç«¯å£å·ï¼Ÿ" class="headerlink" title="å„ç§æœåŠ¡å ç”¨çš„ç«¯å£å·ï¼Ÿ"></a>å„ç§æœåŠ¡å ç”¨çš„ç«¯å£å·ï¼Ÿ</h2><ul>
<li>FTPï¼š21</li>
<li>Telnetï¼š23</li>
<li>SSHï¼š22</li>
<li>POP3ï¼š110ï¼ŒSMTPï¼š25</li>
<li>MySQLï¼š3306</li>
<li>HTTPï¼š80ï¼ŒHTTPSï¼š443</li>
<li>DNSï¼š53</li>
<li>SNMPï¼š161</li>
</ul>
<h2 id="ç»“æ„åŒ–åˆ†æä¸è®¾è®¡-amp-é¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ï¼Ÿ"><a href="#ç»“æ„åŒ–åˆ†æä¸è®¾è®¡-amp-é¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ï¼Ÿ" class="headerlink" title="ç»“æ„åŒ–åˆ†æä¸è®¾è®¡&amp;é¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ï¼Ÿ"></a>ç»“æ„åŒ–åˆ†æä¸è®¾è®¡&amp;é¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ï¼Ÿ</h2><ul>
<li>ç»“æ„åŒ–åˆ†æä¸è®¾è®¡ï¼š<ul>
<li>æ•°æ®æµå›¾ï¼Œæ•°æ®å­—å…¸ï¼ŒåŠ å·¥é€»è¾‘è¯´æ˜ï¼Œè¡¥å……ææ–™ã€‚</li>
</ul>
</li>
<li>é¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ï¼š<ul>
<li>å¯¹è±¡+åˆ†ç±»+ç»§æ‰¿+é€šè¿‡æ¶ˆæ¯çš„é€šä¿¡ã€‚</li>
<li>è®¤å®šå¯¹è±¡ï¼Œç»„ç»‡å¯¹è±¡ï¼Œæè¿°å¯¹è±¡ä¹‹é—´çš„ä½œç”¨ï¼Œç¡®å®šå¯¹è±¡çš„æ“ä½œï¼Œå®šä¹‰å¯¹è±¡å†…éƒ¨ä¿¡æ¯ã€‚</li>
<li>åŸåˆ™ï¼šé‡Œæ°æ›¿æ¢ï¼Œå•ä¸€è´£ä»»ï¼Œå¼€æ”¾å°é—­ï¼Œä¾èµ–å€’ç½®ï¼Œæ¥å£åˆ†ç¦»ã€‚</li>
</ul>
</li>
</ul>
<h2 id="æ¦‚è¦è®¾è®¡å’Œè¯¦ç»†è®¾è®¡ï¼Ÿ"><a href="#æ¦‚è¦è®¾è®¡å’Œè¯¦ç»†è®¾è®¡ï¼Ÿ" class="headerlink" title="æ¦‚è¦è®¾è®¡å’Œè¯¦ç»†è®¾è®¡ï¼Ÿ"></a>æ¦‚è¦è®¾è®¡å’Œè¯¦ç»†è®¾è®¡ï¼Ÿ</h2><ul>
<li>æ¦‚è¦è®¾è®¡ï¼šè½¯ä»¶æ€»ä½“ç»“æ„ï¼Œæ•°æ®ç»“æ„å’Œæ•°æ®åº“è®¾è®¡ï¼Œç¼–å†™æ–‡æ¡£ï¼Œè¯„å®¡ã€‚</li>
<li>è¯¦ç»†è®¾è®¡ï¼šç®—æ³•è®¾è®¡ï¼Œå¯¹æ¨¡å—å†…çš„æ•°æ®ç»“æ„è®¾è®¡ï¼Œæ•°æ®åº“ç‰©ç†è®¾è®¡ï¼Œè¯´æ˜ä¹¦ï¼Œè¯„å®¡ã€‚</li>
</ul>
<h2 id="ç»“æ„åŒ–åˆ†ææ–¹æ³•ä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Ÿ"><a href="#ç»“æ„åŒ–åˆ†ææ–¹æ³•ä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Ÿ" class="headerlink" title="ç»“æ„åŒ–åˆ†ææ–¹æ³•ä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Ÿ"></a>ç»“æ„åŒ–åˆ†ææ–¹æ³•ä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Ÿ</h2><ul>
<li>æ•°æ®è®¾è®¡ï¼šæ•°æ®åº“è®¾è®¡ã€‚</li>
<li>æ¥å£è®¾è®¡ï¼šæ¨¡å—å†…äº¤äº’å’Œè°ƒç”¨ã€‚</li>
<li>è¿‡ç¨‹è®¾è®¡ï¼šæ•°æ®ç»“æ„å’Œç®—æ³•è®¾è®¡ã€‚</li>
</ul>
<h2 id="å¦‚æœè·¯ç”±å™¨æ”¶åˆ°äº†å¤šä¸ªè·¯ç”±åè®®è½¬å‘çš„å…³äºæŸä¸ªç›®æ ‡çš„å¤šæ¡è·¯ç”±ï¼Œé‚£ä¹ˆå†³å®šé‡‡ç”¨å“ªæ¡è·¯ç”±çš„ç­–ç•¥æ˜¯ï¼Ÿ"><a href="#å¦‚æœè·¯ç”±å™¨æ”¶åˆ°äº†å¤šä¸ªè·¯ç”±åè®®è½¬å‘çš„å…³äºæŸä¸ªç›®æ ‡çš„å¤šæ¡è·¯ç”±ï¼Œé‚£ä¹ˆå†³å®šé‡‡ç”¨å“ªæ¡è·¯ç”±çš„ç­–ç•¥æ˜¯ï¼Ÿ" class="headerlink" title="å¦‚æœè·¯ç”±å™¨æ”¶åˆ°äº†å¤šä¸ªè·¯ç”±åè®®è½¬å‘çš„å…³äºæŸä¸ªç›®æ ‡çš„å¤šæ¡è·¯ç”±ï¼Œé‚£ä¹ˆå†³å®šé‡‡ç”¨å“ªæ¡è·¯ç”±çš„ç­–ç•¥æ˜¯ï¼Ÿ"></a>å¦‚æœè·¯ç”±å™¨æ”¶åˆ°äº†å¤šä¸ªè·¯ç”±åè®®è½¬å‘çš„å…³äºæŸä¸ªç›®æ ‡çš„å¤šæ¡è·¯ç”±ï¼Œé‚£ä¹ˆå†³å®šé‡‡ç”¨å“ªæ¡è·¯ç”±çš„ç­–ç•¥æ˜¯ï¼Ÿ</h2><p>æ¯”è¾ƒå„ä¸ªè·¯ç”±çš„ç®¡ç†è·ç¦»ã€‚</p>
<h2 id="IPåœ°å€åˆ’åˆ†ï¼Ÿ"><a href="#IPåœ°å€åˆ’åˆ†ï¼Ÿ" class="headerlink" title="IPåœ°å€åˆ’åˆ†ï¼Ÿ"></a>IPåœ°å€åˆ’åˆ†ï¼Ÿ</h2><p>å…¨0ä»£è¡¨ç½‘ç»œåœ°å€ï¼Œå…¨1ä»£è¡¨ç»„æ’­åœ°å€ã€‚</p>
<h2 id="åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒCPUéœ€è¦å°†æŒ‡ä»¤ä»å†…å­˜ä¸­å–å‡ºæ¥å¹¶åŠ ä»¥åˆ†æå’Œæ‰§è¡Œï¼ŒCPUä¾æ®ï¼ˆä»€ä¹ˆï¼‰æ¥åŒºåˆ†åœ¨å†…å­˜ä¸­ä»¥äºŒè¿›åˆ¶ç¼–ç å½¢å¼å­˜æ”¾çš„æŒ‡ä»¤å’Œæ•°æ®ï¼Ÿ"><a href="#åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒCPUéœ€è¦å°†æŒ‡ä»¤ä»å†…å­˜ä¸­å–å‡ºæ¥å¹¶åŠ ä»¥åˆ†æå’Œæ‰§è¡Œï¼ŒCPUä¾æ®ï¼ˆä»€ä¹ˆï¼‰æ¥åŒºåˆ†åœ¨å†…å­˜ä¸­ä»¥äºŒè¿›åˆ¶ç¼–ç å½¢å¼å­˜æ”¾çš„æŒ‡ä»¤å’Œæ•°æ®ï¼Ÿ" class="headerlink" title="åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒCPUéœ€è¦å°†æŒ‡ä»¤ä»å†…å­˜ä¸­å–å‡ºæ¥å¹¶åŠ ä»¥åˆ†æå’Œæ‰§è¡Œï¼ŒCPUä¾æ®ï¼ˆä»€ä¹ˆï¼‰æ¥åŒºåˆ†åœ¨å†…å­˜ä¸­ä»¥äºŒè¿›åˆ¶ç¼–ç å½¢å¼å­˜æ”¾çš„æŒ‡ä»¤å’Œæ•°æ®ï¼Ÿ"></a>åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒCPUéœ€è¦å°†æŒ‡ä»¤ä»å†…å­˜ä¸­å–å‡ºæ¥å¹¶åŠ ä»¥åˆ†æå’Œæ‰§è¡Œï¼ŒCPUä¾æ®ï¼ˆä»€ä¹ˆï¼‰æ¥åŒºåˆ†åœ¨å†…å­˜ä¸­ä»¥äºŒè¿›åˆ¶ç¼–ç å½¢å¼å­˜æ”¾çš„æŒ‡ä»¤å’Œæ•°æ®ï¼Ÿ</h2><p>æŒ‡ä»¤å‘¨æœŸçš„ä¸åŒé˜¶æ®µã€‚</p>
<h2 id="äººè€³èƒ½å¬åˆ°çš„å£°éŸ³é¢‘ç‡èŒƒå›´ï¼Ÿäººå£°éŸ³çš„é¢‘ç‡èŒƒå›´ï¼Ÿ"><a href="#äººè€³èƒ½å¬åˆ°çš„å£°éŸ³é¢‘ç‡èŒƒå›´ï¼Ÿäººå£°éŸ³çš„é¢‘ç‡èŒƒå›´ï¼Ÿ" class="headerlink" title="äººè€³èƒ½å¬åˆ°çš„å£°éŸ³é¢‘ç‡èŒƒå›´ï¼Ÿäººå£°éŸ³çš„é¢‘ç‡èŒƒå›´ï¼Ÿ"></a>äººè€³èƒ½å¬åˆ°çš„å£°éŸ³é¢‘ç‡èŒƒå›´ï¼Ÿäººå£°éŸ³çš„é¢‘ç‡èŒƒå›´ï¼Ÿ</h2><p>äººè€³ï¼š20HZ - 20KHZ</p>
<p>äººå£°ï¼š300HZ - 3400KHZ</p>
<h2 id="ä¸æ˜¯æ¯ä¸ªç¼–è¯‘å™¨å¿…é¡»è¦åšçš„å·¥ä½œæ˜¯ï¼Ÿ"><a href="#ä¸æ˜¯æ¯ä¸ªç¼–è¯‘å™¨å¿…é¡»è¦åšçš„å·¥ä½œæ˜¯ï¼Ÿ" class="headerlink" title="ä¸æ˜¯æ¯ä¸ªç¼–è¯‘å™¨å¿…é¡»è¦åšçš„å·¥ä½œæ˜¯ï¼Ÿ"></a>ä¸æ˜¯æ¯ä¸ªç¼–è¯‘å™¨å¿…é¡»è¦åšçš„å·¥ä½œæ˜¯ï¼Ÿ</h2><p>ä¸­é—´ä»£ç ç”Ÿæˆå’Œä»£ç ä¼˜åŒ–ã€‚</p>
<h2 id="åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹ä»€ä¹ˆå¯ä»¥å…±äº«ï¼Œä»€ä¹ˆä¸å¯ä»¥ï¼Ÿ"><a href="#åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹ä»€ä¹ˆå¯ä»¥å…±äº«ï¼Œä»€ä¹ˆä¸å¯ä»¥ï¼Ÿ" class="headerlink" title="åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹ä»€ä¹ˆå¯ä»¥å…±äº«ï¼Œä»€ä¹ˆä¸å¯ä»¥ï¼Ÿ"></a>åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹ä»€ä¹ˆå¯ä»¥å…±äº«ï¼Œä»€ä¹ˆä¸å¯ä»¥ï¼Ÿ</h2><p>åœ¨åŒä¸€è¿›ç¨‹ä¸­çš„å„ä¸ªçº¿ç¨‹éƒ½å¯ä»¥å…±äº«è¯¥è¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºï¼Œå¦‚è®¿é—®è¿›ç¨‹åœ°å€ç©ºé—´ä¸­çš„æ¯ä¸€ä¸ªè™šåœ°å€ï¼›è®¿é—®è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å·²æ‰“å¼€æ–‡ä»¶ã€å®šæ—¶å™¨ã€ä¿¡å·é‡æœºæ„ç­‰ï¼Œä½†æ˜¯ä¸èƒ½å…±äº«è¿›ç¨‹ä¸­æŸçº¿ç¨‹çš„æ ˆæŒ‡é’ˆã€‚</p>
<h2 id="é‡è½½ï¼Œé‡ç½®ï¼Œç»§æ‰¿ï¼Ÿ"><a href="#é‡è½½ï¼Œé‡ç½®ï¼Œç»§æ‰¿ï¼Ÿ" class="headerlink" title="é‡è½½ï¼Œé‡ç½®ï¼Œç»§æ‰¿ï¼Ÿ"></a>é‡è½½ï¼Œé‡ç½®ï¼Œç»§æ‰¿ï¼Ÿ</h2><ul>
<li><p>é‡è½½ï¼šä½¿ç”¨åŒä¸€ä¸ªå‡½æ•°åï¼Œæä¾›ä¸åŒçš„å‚æ•°åˆ—è¡¨ã€‚</p>
</li>
<li><p>é‡ç½®ï¼šå¯¹åŸºç±»ä¸­çš„å‡½æ•°è¿›è¡Œé‡æ–°å®ç°ã€‚</p>
</li>
<li>ç»§æ‰¿ï¼šçˆ¶ç±»ä¸­å‡ºç°çš„å‡½æ•°ï¼Œåœ¨å­ç±»ä¸­æ²¡æœ‰å†æ¬¡å‡ºç°ã€‚</li>
</ul>
<h2 id="åˆ†ç‰‡é€æ˜ï¼Œé€»è¾‘é€æ˜ï¼Œä½ç½®é€æ˜ï¼Œå¤åˆ¶é€æ˜ï¼Ÿ"><a href="#åˆ†ç‰‡é€æ˜ï¼Œé€»è¾‘é€æ˜ï¼Œä½ç½®é€æ˜ï¼Œå¤åˆ¶é€æ˜ï¼Ÿ" class="headerlink" title="åˆ†ç‰‡é€æ˜ï¼Œé€»è¾‘é€æ˜ï¼Œä½ç½®é€æ˜ï¼Œå¤åˆ¶é€æ˜ï¼Ÿ"></a>åˆ†ç‰‡é€æ˜ï¼Œé€»è¾‘é€æ˜ï¼Œä½ç½®é€æ˜ï¼Œå¤åˆ¶é€æ˜ï¼Ÿ</h2><ul>
<li>åˆ†ç‰‡é€æ˜æ˜¯æŒ‡ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºä¸éœ€è¦çŸ¥é“é€»è¾‘ä¸Šè®¿é—®çš„è¡¨å…·ä½“æ˜¯æ€ä¹ˆåˆ†å—å­˜å‚¨çš„ã€‚</li>
<li>å¤åˆ¶é€æ˜æ˜¯æŒ‡é‡‡ç”¨å¤åˆ¶æŠ€æœ¯çš„åˆ†å¸ƒæ–¹æ³•ï¼Œç”¨æˆ·ä¸éœ€è¦çŸ¥é“æ•°æ®æ˜¯å¤åˆ¶åˆ°å“ªäº›èŠ‚ç‚¹ï¼Œå¦‚ä½•å¤åˆ¶çš„ã€‚</li>
<li>ä½ç½®é€æ˜æ˜¯æŒ‡ç”¨æˆ·æ— é¡»çŸ¥é“æ•°æ®å­˜æ”¾çš„ç‰©ç†ä½ç½®ã€‚</li>
<li>é€»è¾‘é€æ˜ï¼Œå³å±€éƒ¨æ•°æ®æ¨¡å‹é€æ˜ï¼Œæ˜¯æŒ‡ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºæ— é¡»çŸ¥é“å±€éƒ¨åœºåœ°ä½¿ç”¨çš„æ˜¯å“ªç§æ•°æ®æ¨¡å‹ã€‚</li>
</ul>
<h2 id="TCPä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯ï¼Ÿ"><a href="#TCPä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯ï¼Ÿ" class="headerlink" title="TCPä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯ï¼Ÿ"></a>TCPä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯ï¼Ÿ</h2><p>å¯å˜å¤§å°çš„æ»‘åŠ¨çª—å£åè®®ã€‚</p>
<h2 id="ä¸»æœºè·¯ç”±çš„é»˜è®¤å­ç½‘æ©ç æ˜¯ï¼Ÿ"><a href="#ä¸»æœºè·¯ç”±çš„é»˜è®¤å­ç½‘æ©ç æ˜¯ï¼Ÿ" class="headerlink" title="ä¸»æœºè·¯ç”±çš„é»˜è®¤å­ç½‘æ©ç æ˜¯ï¼Ÿ"></a>ä¸»æœºè·¯ç”±çš„é»˜è®¤å­ç½‘æ©ç æ˜¯ï¼Ÿ</h2><p>255.255.255.255</p>
<p>é‚£ä¹ˆé»˜è®¤è·¯ç”±ï¼ˆé™æ€è·¯ç”±ï¼‰çš„å­ç½‘æ©ç é»˜è®¤æ˜¯0.0.0.0</p>
<h2 id="åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œåªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®çš„èµ„æºç§°ä¸ºï¼Ÿ"><a href="#åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œåªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®çš„èµ„æºç§°ä¸ºï¼Ÿ" class="headerlink" title="åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œåªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®çš„èµ„æºç§°ä¸ºï¼Ÿ"></a>åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œåªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®çš„èµ„æºç§°ä¸ºï¼Ÿ</h2><p>ä¸´ç•Œèµ„æºã€‚</p>
<h2 id="CPUç¹å¿™å‹ä½œä¸šç”¨ä»€ä¹ˆè°ƒåº¦ç®—æ³•æ¯”è¾ƒå¥½ï¼Ÿ"><a href="#CPUç¹å¿™å‹ä½œä¸šç”¨ä»€ä¹ˆè°ƒåº¦ç®—æ³•æ¯”è¾ƒå¥½ï¼Ÿ" class="headerlink" title="CPUç¹å¿™å‹ä½œä¸šç”¨ä»€ä¹ˆè°ƒåº¦ç®—æ³•æ¯”è¾ƒå¥½ï¼Ÿ"></a>CPUç¹å¿™å‹ä½œä¸šç”¨ä»€ä¹ˆè°ƒåº¦ç®—æ³•æ¯”è¾ƒå¥½ï¼Ÿ</h2><p>CPUç¹å¿™å‹ä½œä¸šä½¿ç”¨FCFSã€‚</p>
<h2 id="è¿›ç¨‹é—´åŒæ­¥æ˜¯æŒ‡è¿›ç¨‹é—´åœ¨é€»è¾‘ä¸Šçš„ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#è¿›ç¨‹é—´åŒæ­¥æ˜¯æŒ‡è¿›ç¨‹é—´åœ¨é€»è¾‘ä¸Šçš„ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="è¿›ç¨‹é—´åŒæ­¥æ˜¯æŒ‡è¿›ç¨‹é—´åœ¨é€»è¾‘ä¸Šçš„ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>è¿›ç¨‹é—´åŒæ­¥æ˜¯æŒ‡è¿›ç¨‹é—´åœ¨é€»è¾‘ä¸Šçš„ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><p>ç›¸äº’åˆ¶çº¦ä½œç”¨ã€‚</p>
<h2 id="è®¾å¤‡ä¸CPUä¹‹é—´æ•°æ®ä¼ é€æ§åˆ¶æœ‰å››ç§ï¼Œåˆ†åˆ«æ˜¯ï¼Ÿ"><a href="#è®¾å¤‡ä¸CPUä¹‹é—´æ•°æ®ä¼ é€æ§åˆ¶æœ‰å››ç§ï¼Œåˆ†åˆ«æ˜¯ï¼Ÿ" class="headerlink" title="è®¾å¤‡ä¸CPUä¹‹é—´æ•°æ®ä¼ é€æ§åˆ¶æœ‰å››ç§ï¼Œåˆ†åˆ«æ˜¯ï¼Ÿ"></a>è®¾å¤‡ä¸CPUä¹‹é—´æ•°æ®ä¼ é€æ§åˆ¶æœ‰å››ç§ï¼Œåˆ†åˆ«æ˜¯ï¼Ÿ</h2><p>ç›´æ¥å†…å­˜è®¿é—®ï¼ˆDMAï¼‰ï¼Œç¨‹åºç›´æ¥æ§åˆ¶ï¼Œä¸­æ–­æ§åˆ¶ï¼Œé€šé“æ§åˆ¶ã€‚</p>
<h2 id="è¿›ç¨‹çš„åŸºæœ¬ç‰¹æ€§ï¼Ÿ"><a href="#è¿›ç¨‹çš„åŸºæœ¬ç‰¹æ€§ï¼Ÿ" class="headerlink" title="è¿›ç¨‹çš„åŸºæœ¬ç‰¹æ€§ï¼Ÿ"></a>è¿›ç¨‹çš„åŸºæœ¬ç‰¹æ€§ï¼Ÿ</h2><p>åŠ¨æ€æ€§ï¼Œå¹¶å‘æ€§ï¼Œç‹¬ç«‹æ€§ï¼Œå¼‚æ­¥æ€§ï¼Œç»“æ„ç‰¹å¾ã€‚</p>
<h2 id="å„ç§å¼€å‘æ¨¡å¼é€‚ç”¨çš„åœºåˆï¼Ÿ"><a href="#å„ç§å¼€å‘æ¨¡å¼é€‚ç”¨çš„åœºåˆï¼Ÿ" class="headerlink" title="å„ç§å¼€å‘æ¨¡å¼é€‚ç”¨çš„åœºåˆï¼Ÿ"></a>å„ç§å¼€å‘æ¨¡å¼é€‚ç”¨çš„åœºåˆï¼Ÿ</h2><ul>
<li>ç€‘å¸ƒæ¨¡å‹ï¼šéå¸¸æ˜ç¡®çš„éœ€æ±‚ï¼Œä¸¥æ ¼çš„æ–‡æ¡£ï¼Œè¯„å®¡ã€‚</li>
<li>å–·æ³‰æ¨¡å‹ï¼šé¢å‘å¯¹è±¡ã€‚</li>
<li>å¿«é€ŸåŸå‹ï¼šéœ€æ±‚ä¸å¤Ÿæ˜ç¡®ï¼Œé¡¹ç›®ä¸æ˜¯å¾ˆå¤§ï¼Œâ€œæŠ›å¼ƒâ€å¼å¼€å‘ã€‚</li>
<li>æ¼”åŒ–æ¨¡å‹ï¼šæ¸è¿›å¼å¼€å‘ã€‚</li>
<li>èºæ—‹æ¨¡å‹ï¼šå¼•å…¥é£é™©è¯„ä¼°ï¼Œå¤§ä¸­å‹å¼€å‘ï¼Œèåˆäº†ç€‘å¸ƒæ¨¡å‹å’Œæ¼”åŒ–æ¨¡å‹ã€‚</li>
<li>ç»Ÿä¸€è¿‡ç¨‹ï¼šç”¨ä¾‹é©±åŠ¨ï¼Œæ¶æ„ä¸ºä¸­å¿ƒå’Œå—æ§çš„è¿­ä»£å¼å¢é‡å¼€å‘ã€‚<ul>
<li>å››ä¸ªé˜¶æ®µï¼šåˆå§‹é˜¶æ®µï¼Œç²¾åŒ–é˜¶æ®µï¼Œæ„å»ºé˜¶æ®µï¼Œæäº¤é˜¶æ®µã€‚</li>
</ul>
</li>
</ul>
<h2 id="å¸¸è§å¯»å€æ–¹å¼ï¼Ÿ"><a href="#å¸¸è§å¯»å€æ–¹å¼ï¼Ÿ" class="headerlink" title="å¸¸è§å¯»å€æ–¹å¼ï¼Ÿ"></a>å¸¸è§å¯»å€æ–¹å¼ï¼Ÿ</h2><p>ç«‹å³å¯»å€ï¼Œç›´æ¥å¯»å€ï¼Œé—´æ¥å¯»å€ï¼Œå¯„å­˜å™¨å¯»å€ï¼Œå¯„å­˜å™¨é—´æ¥å¯»å€ï¼Œç›¸å¯¹å¯»å€ï¼ŒåŸºå€å¯»å€ï¼Œå˜å€å¯»å€ã€‚</p>
<h2 id="å…³ç³»ä»£æ•°è¿ç®—çš„ç¬¦å·å’Œå«ä¹‰ï¼Ÿ"><a href="#å…³ç³»ä»£æ•°è¿ç®—çš„ç¬¦å·å’Œå«ä¹‰ï¼Ÿ" class="headerlink" title="å…³ç³»ä»£æ•°è¿ç®—çš„ç¬¦å·å’Œå«ä¹‰ï¼Ÿ"></a>å…³ç³»ä»£æ•°è¿ç®—çš„ç¬¦å·å’Œå«ä¹‰ï¼Ÿ</h2><p><img data-src="https://s1.ax1x.com/2020/11/06/Bhcjv8.jpg" alt=""></p>
<h2 id="ï¼ˆæ•°æ®åº“ï¼‰äº‹åŠ¡æ‰€å…·æœ‰çš„ç‰¹æ€§ï¼Ÿ"><a href="#ï¼ˆæ•°æ®åº“ï¼‰äº‹åŠ¡æ‰€å…·æœ‰çš„ç‰¹æ€§ï¼Ÿ" class="headerlink" title="ï¼ˆæ•°æ®åº“ï¼‰äº‹åŠ¡æ‰€å…·æœ‰çš„ç‰¹æ€§ï¼Ÿ"></a>ï¼ˆæ•°æ®åº“ï¼‰äº‹åŠ¡æ‰€å…·æœ‰çš„ç‰¹æ€§ï¼Ÿ</h2><ul>
<li>åŸå­æ€§ï¼šæ•°æ®åº“çš„é€»è¾‘å·¥ä½œå•ä½ã€‚</li>
<li>ä¸€è‡´æ€§ï¼šä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚</li>
<li>éš”ç¦»æ€§ï¼šä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°ã€‚</li>
<li>æŒä¹…æ€§ï¼šä¸€æ—¦æäº¤ï¼Œæ”¹å˜å°±æ˜¯æ°¸ä¹…çš„ã€‚</li>
</ul>
<h2 id="ç½‘ç»œç®¡ç†äº”å¤§åŠŸèƒ½ï¼Ÿ"><a href="#ç½‘ç»œç®¡ç†äº”å¤§åŠŸèƒ½ï¼Ÿ" class="headerlink" title="ç½‘ç»œç®¡ç†äº”å¤§åŠŸèƒ½ï¼Ÿ"></a>ç½‘ç»œç®¡ç†äº”å¤§åŠŸèƒ½ï¼Ÿ</h2><p>é…ç½®ç®¡ç†ï¼Œæ•…éšœç®¡ç†ï¼Œè®¡è´¹ç®¡ç†ï¼Œæ€§èƒ½ç®¡ç†ï¼Œå®‰å…¨ç®¡ç†ã€‚</p>
<h2 id="å¸¸è§çš„äº¤æ¢æœºäº¤æ¢æ¨¡å¼æœ‰ï¼Ÿ"><a href="#å¸¸è§çš„äº¤æ¢æœºäº¤æ¢æ¨¡å¼æœ‰ï¼Ÿ" class="headerlink" title="å¸¸è§çš„äº¤æ¢æœºäº¤æ¢æ¨¡å¼æœ‰ï¼Ÿ"></a>å¸¸è§çš„äº¤æ¢æœºäº¤æ¢æ¨¡å¼æœ‰ï¼Ÿ</h2><p>å­˜å‚¨è½¬å‘ï¼Œå¿«é€Ÿè½¬å‘ï¼Œç¢ç‰‡ä¸¢å¼ƒã€‚</p>
<hr>
<p>å¥½è¿ğŸ¥°ğŸ¤©ğŸ˜˜~</p>
]]></content>
      <categories>
        <category>åˆå‡ºèŒ…åº</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
        <tag>å¼€å‘è§„èŒƒ</tag>
        <tag>C/C++</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
        <tag>ä¿¡æ¯å®‰å…¨</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>Effective C++ï¼ˆé˜…è¯»ç¬”è®°ï¼‰</title>
    <url>/2020/10/14/Effective-CPP-55/</url>
    <content><![CDATA[<blockquote>
<p>   æ”¹å–„ç¨‹åºä¸è®¾è®¡çš„55ä¸ªå…·ä½“åšæ³•ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="1-è®©è‡ªå·±ä¹ æƒ¯C"><a href="#1-è®©è‡ªå·±ä¹ æƒ¯C" class="headerlink" title="1. è®©è‡ªå·±ä¹ æƒ¯C++"></a>1. è®©è‡ªå·±ä¹ æƒ¯C++</h1><blockquote>
<p>  C++é«˜æ•ˆç¼–ç¨‹å®ˆåˆ™è§†çŠ¶å†µè€Œå˜åŒ–ï¼Œå–å†³äºä½¿ç”¨C++çš„å“ªä¸€éƒ¨åˆ†ã€‚</p>
</blockquote>
<p>C++å››å¤§å—ï¼š</p>
<ul>
<li>C</li>
<li>Object-Oriented C++ï¼šé¢å‘å¯¹è±¡</li>
<li>Template C++ï¼šæ³›å‹ç¼–ç¨‹ï¼Œæ¨¡æ¿å…ƒç¼–ç¨‹</li>
<li>STLï¼šå®¹å™¨ï¼Œè¿­ä»£å™¨ï¼Œç®—æ³•ï¼Œå‡½æ•°å¯¹è±¡</li>
</ul>
<h1 id="2-å°½é‡ä»¥constï¼Œenumï¼Œinlineæ›¿æ¢-define"><a href="#2-å°½é‡ä»¥constï¼Œenumï¼Œinlineæ›¿æ¢-define" class="headerlink" title="2. å°½é‡ä»¥constï¼Œenumï¼Œinlineæ›¿æ¢ #define"></a>2. å°½é‡ä»¥constï¼Œenumï¼Œinlineæ›¿æ¢ #define</h1><blockquote>
<ul>
<li>å¯¹äºå•çº¯å¸¸é‡ï¼Œæœ€å¥½ä½¿ç”¨ <code>const</code> æˆ–è€… <code>enums</code> æ¥æ›¿æ¢ <code>#define</code> </li>
<li>å¯¹äºå½¢ä¼¼å‡½æ•°çš„å®ï¼ˆmacrosï¼‰ï¼Œæœ€å¥½ä½¿ç”¨ <code>inline</code> å‡½æ•°æ¥æ›¿æ¢ <code>#define</code> </li>
</ul>
</blockquote>
<p>æœ‰ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥è·å¾—å®å¸¦æ¥çš„æ•ˆç‡ï¼Œä»¥åŠä¸€èˆ¬å‡½æ•°å¸¦æ¥çš„å¯é¢„æ–™è¡Œä¸ºä»¥åŠç±»å‹å®‰å…¨æ€§ï¼ˆType Safetyï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> T <span class="title">callWithMax</span><span class="params">(<span class="keyword">const</span> T &amp;a, <span class="keyword">const</span> T &amp;b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = callWithMax&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-å°½å¯èƒ½ä½¿ç”¨-const"><a href="#3-å°½å¯èƒ½ä½¿ç”¨-const" class="headerlink" title="3. å°½å¯èƒ½ä½¿ç”¨ const"></a>3. å°½å¯èƒ½ä½¿ç”¨ const</h1><blockquote>
<ul>
<li>å£°æ˜ä¸º <code>const</code> å¯ä»¥è®©ç¼–è¯‘å™¨å¸®åŠ©æ£€æŸ¥é”™è¯¯ã€‚</li>
<li><code>const</code> å¯ä»¥æ–½åŠ äºä»»ä½•ä½œç”¨åŸŸå†…çš„å¯¹è±¡ã€å‡½æ•°å‚æ•°ã€å‡½æ•°è¿”å›ç±»å‹ã€æˆå‘˜å‡½æ•°ã€‚</li>
<li>ç¼–è¯‘å™¨å¼ºåˆ¶å®æ–½<em>bitwise constness</em>ï¼Œä½†ç¼–å†™ç¨‹åºæ—¶ï¼Œåº”è¯¥ä½¿ç”¨â€œæ¦‚å¿µä¸Šçš„å¸¸é‡æ€§â€<em>conceptual constness</em>ã€‚</li>
<li>å½“ <code>const</code> å’Œ <code>non-const</code> æˆå‘˜å‡½æ•°æœ‰å®è´¨ç­‰ä»·çš„å®ç°æ—¶ï¼Œè¦ç”¨ <code>non-const</code> ç‰ˆæœ¬å»è°ƒç”¨ <code>const</code> ç‰ˆæœ¬ï¼Œè¿™æ ·å¯å‡å°‘ä»£ç é‡å¤ã€‚</li>
</ul>
</blockquote>
<p><code>const</code> å¦‚æœå‡ºç°åœ¨ <code>*</code> å·¦è¾¹ï¼Œé‚£ä¹ˆè¡¨ç¤ºè¢«æŒ‡ç‰©æ˜¯å¸¸é‡ï¼›å¦‚æœåœ¨ <code>*</code> å³è¾¹ï¼Œé‚£ä¹ˆè¡¨ç¤ºæŒ‡é’ˆæ˜¯å¸¸é‡ï¼›å¦‚æœå‡ºç°åœ¨ä¸¤è¾¹ï¼Œé‚£ä¹ˆè¡¨ç¤ºæŒ‡é’ˆå’Œè¢«æŒ‡ç‰©éƒ½æ˜¯å¸¸é‡ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">0</span>, b = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> <span class="keyword">const</span> *p1 = &amp;a;</span><br><span class="line">    <span class="keyword">int</span> *<span class="keyword">const</span> p2 = &amp;a;</span><br><span class="line"></span><br><span class="line">    *p1 = <span class="number">2</span>;    <span class="comment">// ä¸è¡Œï¼å› ä¸º p1 æŒ‡å‘çš„å†…å®¹æ˜¯å¸¸é‡</span></span><br><span class="line">    *p2 = <span class="number">2</span>;    <span class="comment">// å¯ä»¥ï¼Œp2 è‡ªèº«æ˜¯å¸¸é‡ï¼Œp2 åªèƒ½æŒ‡å‘aï¼Œä½†æ˜¯ a ä¸­çš„å†…å®¹å¯ä»¥å˜</span></span><br><span class="line">    p1 = &amp;b;    <span class="comment">// å¯ä»¥ï¼Œp1 æŒ‡å‘å¦ä¸€ä¸ªå†…å®¹ï¼Œå¹¶å£°ç§°è¿™ä¸ªå†…å®¹ä¸å¯å˜</span></span><br><span class="line">    p2 = &amp;b;    <span class="comment">// ä¸å¯ä»¥ï¼Œp2 è‡ªèº«æ˜¯å¸¸é‡ï¼Œä¸èƒ½æŒ‡å‘å…¶ä»–ä¸œè¥¿äº†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯•ç€ä¹ æƒ¯è¿™æ ·çš„å†™æ³•ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f1</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> *i)</span></span>; <span class="comment">// æŒ‡å‘ä¸€ä¸ªä¸èƒ½ä¿®æ”¹å†…å®¹çš„ i</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f2</span><span class="params">(<span class="keyword">int</span> <span class="keyword">const</span> *i)</span></span>; <span class="comment">// ä¸€çŒ«çŒ«ä¸€æ ·</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¿©å†™æ³•æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æŒ‡å‘ä¸€ä¸ªå†…å®¹ä¸å¯å˜çš„æ•°æ®ï¼ˆæŒ‡é’ˆæœ¬èº«å¯ä»¥å†ä¿®æ”¹æŒ‡å‘çš„å¯¹è±¡ï¼‰ã€‚</p>
<p>å¯¹äºç¬¬ä¸‰ç‚¹ï¼Œä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Text</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> <span class="built_in">text</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> &amp;<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> pos) <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">text</span>[pos];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> &amp;<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> pos) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> &amp;&gt; (         <span class="comment">// ä½¿ç”¨ const_cast å»æ‰ const å£°æ˜</span></span><br><span class="line">                <span class="keyword">static_cast</span>&lt;<span class="keyword">const</span> Text &amp;&gt;   <span class="comment">// ä½¿ç”¨ static_cast æŠŠ *this è½¬æ¢æˆ const å¯¹è±¡</span></span><br><span class="line">                (*<span class="keyword">this</span>)[pos]);              <span class="comment">// ä½¿ç”¨ (*this)[] æ–¹æ³•è¿”å›ï¼ˆè¿™ä¸ªæ—¶å€™æ˜¯ const ç»“æœï¼Œç»è¿‡ const_cast å»æ‰ const å£°æ˜</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="4-ç¡®å®šå¯¹è±¡è¢«ä½¿ç”¨å‰å·²è¢«åˆå§‹åŒ–"><a href="#4-ç¡®å®šå¯¹è±¡è¢«ä½¿ç”¨å‰å·²è¢«åˆå§‹åŒ–" class="headerlink" title="4. ç¡®å®šå¯¹è±¡è¢«ä½¿ç”¨å‰å·²è¢«åˆå§‹åŒ–"></a>4. ç¡®å®šå¯¹è±¡è¢«ä½¿ç”¨å‰å·²è¢«åˆå§‹åŒ–</h1><blockquote>
<ul>
<li>ä¸ºå†…ç½®å¯¹è±¡è¿›è¡Œæ‰‹å·¥åˆå§‹åŒ–ï¼Œå› ä¸ºC++å¹¶ä¸èƒ½ä¿è¯å®Œå…¨åˆå§‹åŒ–å¥½å®ƒä»¬ã€‚</li>
<li>æ„é€ å‡½æ•°æœ€å¥½ä½¿ç”¨æˆå‘˜åˆå€¼åˆ—ï¼ˆmember initialization listï¼‰ï¼Œè€Œä¸è¦åœ¨æ„é€ å‡½æ•°æœ¬ä½“å†…ä½¿ç”¨èµ‹å€¼æ“ä½œï¼ˆassignmentï¼‰ã€‚</li>
<li>åˆå§‹åˆ—åˆ—å‡ºçš„æˆå‘˜å˜é‡ï¼Œå…¶æ’åˆ—é¡ºåºè¦å’Œå®ƒä»¬åœ¨ç±»å£°æ˜ä¸­çš„ä¸€è‡´ã€‚</li>
<li>ä¸ºå…é™¤â€œè·¨ç¼–è¯‘å•å…ƒåˆå§‹åŒ–æ¬¡åºâ€é—®é¢˜ï¼Œä½¿ç”¨ local static å¯¹è±¡æ¥ä»£æ›¿ non-local static å¯¹è±¡ã€‚</li>
</ul>
</blockquote>
<p>å¦‚æœæˆå‘˜å˜é‡æ˜¯ <code>const</code> çš„æˆ–è€… <code>references</code> çš„ï¼Œé‚£ä¹ˆå®ƒä»¬ä¸€å®šéœ€è¦æœ‰åˆå€¼ï¼Œä¸èƒ½è¢«èµ‹å€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">int</span> &amp;re_val;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    X(<span class="keyword">int</span> val_, <span class="keyword">int</span> &amp;re_val_) : val(val_), re_val(re_val_) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åŸºç±»æ€»æ˜¯æ¯”æ´¾ç”Ÿç±»è¦å…ˆåˆå§‹åŒ–å¥½ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">int</span> &amp;re_val;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    X(<span class="keyword">int</span> val_, <span class="keyword">int</span> &amp;re_val_) : val(val_), re_val(re_val_) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;X initialization...&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Y</span> :</span> <span class="keyword">public</span> X &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Y(<span class="keyword">int</span> val, <span class="keyword">int</span> &amp;re_val) : X(val, re_val) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Y initialization...&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> re_v = <span class="number">1</span>;</span><br><span class="line">    <span class="function">Y <span class="title">y</span><span class="params">(<span class="number">1</span>, re_v)</span></span>;</span><br><span class="line">    <span class="comment">// &gt;: X initialization...</span></span><br><span class="line">    <span class="comment">//    Y initialization...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”±äºå®šä¹‰äºä¸åŒç¼–è¯‘å•å…ƒå†…çš„ <code>non-local static</code> å¯¹è±¡çš„åˆå§‹åŒ–é¡ºåºå¹¶æœªæ˜ç¡®å®šä¹‰ï¼Œå› æ­¤ä¼šå‡ºç°è¿™æ ·æƒ…å†µï¼š</p>
<ul>
<li>å®šä¹‰åœ¨ <code>File1.hh</code> ä¸­ä¸€ä¸ªé™æ€å…¨å±€å˜é‡ <code>tfs</code></li>
<li>åœ¨ <code>File2.cc</code> ä¸­ä½¿ç”¨ <code>tfs</code> </li>
</ul>
<p>é‚£ä¹ˆå¦‚æœ <code>File1.hh</code> ä¸­çš„ <code>tfs</code> è¿˜æ²¡åˆå§‹åŒ–å¥½å‘¢ï¼Œ<code>File2.cc</code> ä¸­å°±æƒ³ä½¿ç”¨äº†ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°å¤§é—®é¢˜ï¼ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// File1.hh</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileSystem</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">size_t</span> <span class="title">numDisks</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">extern</span> <span class="built_in">FileSystem</span> tfs;</span><br><span class="line"></span><br><span class="line"><span class="comment">// File2.cc</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;File1.hh&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Directory</span> &#123;</span></span><br><span class="line">    <span class="keyword">size_t</span> disks;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Directory() &#123; disks = tfs.numDisks(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">size_t</span> <span class="title">getDisks</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> disks; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Directory directory;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; directory.getDisks();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CMakeFiles\local_static.dir&#x2F;objects.a(File2.cc.obj):File2.cc:(.rdata$.refptr.tfs[.refptr.tfs]+0x0): undefined reference to &#96;tfs&#39;</span><br></pre></td></tr></table></figure>
<p>å¾ˆæ˜æ˜¾ï¼Œåœ¨ <code>local_static</code> ç›®å½•ä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥å¼•ç”¨ï¼Œå› æ­¤æŠ¥é”™äº†ï¼Œé‚£ä¹ˆè¯¥æ€æ ·åšå‘¢ï¼Ÿ</p>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼ˆç±»ä¼¼äºå·¥å‚æ–¹æ³•ï¼‰æ¥è·å–è¿™ä¸ªå€¼ï¼Œè€Œä¸æ˜¯ä¾èµ–ç¼–è¯‘å™¨åˆå§‹åŒ–</strong></p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// File1.hh</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileSystem</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">size_t</span> <span class="title">numDisks</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="built_in">FileSystem</span> &amp;<span class="title">getFS</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">FileSystem</span> tfs;</span><br><span class="line">    <span class="keyword">return</span> tfs;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// File2.cc</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Directory</span> &#123;</span></span><br><span class="line">    <span class="keyword">size_t</span> disks;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Directory() &#123; disks = getFS().numDisks(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">size_t</span> <span class="title">getDisks</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> disks; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Directory directory;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; directory.getDisks();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¸€æ¥ï¼Œå°±ä¸ç”¨æ‹…å¿ƒäº†â˜ºã€‚</p>
<p>ä¸è¿‡ï¼Œè¿™æ ·è¿˜æ˜¯æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œä¾‹å¦‚å¤šçº¿ç¨‹ç¯å¢ƒä¸‹è¿˜æ˜¯æœ‰ä¸ç¡®å®šæƒ…å†µï¼Œå¤„ç†è¿™ç§éº»çƒ¦æƒ…å†µçš„åšæ³•ä¹‹ä¸€æ˜¯ï¼šåœ¨å•çº¿ç¨‹å¯åŠ¨é˜¶æ®µï¼Œæ‰‹åŠ¨è°ƒç”¨ä¸€éæ‰€æœ‰çš„ <code>reference-returning</code> æ–¹æ³•ã€‚è¿™æ ·å¯ä»¥æ¶ˆé™¤ä¸åˆå§‹åŒ–æœ‰å…³çš„â€œç«é€Ÿå½¢å¼ï¼ˆrace conditionsï¼‰â€</p>
<h1 id="5-äº†è§£C-é»˜é»˜ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•°ï¼Ÿ"><a href="#5-äº†è§£C-é»˜é»˜ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•°ï¼Ÿ" class="headerlink" title="5. äº†è§£C++é»˜é»˜ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•°ï¼Ÿ"></a>5. äº†è§£C++é»˜é»˜ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•°ï¼Ÿ</h1><blockquote>
<p>  ç¼–è¯‘å™¨å¯ä»¥æš—è‡ªä¸º <code>class</code> åˆ›å»º <code>default</code> æ„é€ å‡½æ•°ã€<code>copy</code> æ„é€ å‡½æ•°ï¼Œ<code>copy assignment</code> æ“ä½œç¬¦ï¼Œä»¥åŠææ„å‡½æ•°ã€‚</p>
</blockquote>
<p>é¦–å…ˆï¼Œå¼€é—¨è§å±±åœ°è¯´ï¼ŒC++é»˜è®¤ç¼–å†™äº†<strong>é»˜è®¤æ„é€ å‡½æ•°ã€é»˜è®¤ææ„å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ï¼Œä»¥åŠæ‹·è´èµ‹å€¼å‡½æ•°</strong>ï¼Œè€Œä¸”å®ƒä»¬é»˜è®¤éƒ½æ˜¯ <code>inline</code> çš„ã€‚å½“ç„¶ï¼Œè¿™äº›å‡½æ•°çš„é»˜è®¤åˆ›å»ºåœ¨ä¸€å®šæ—¶æœŸæ˜¯å¤±æ•ˆçš„ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>é»˜è®¤æ„é€ å‡½æ•°ï¼šå½“æä¾›äº†ä¸€ä¸ªæ„é€ å‡½æ•°åï¼Œç¼–è¯‘å™¨ä¸å†ä¸ºç±»æä¾›é»˜è®¤æ„é€ å‡½æ•°ï¼Œè€Œä¸”é»˜è®¤ã€‚</li>
<li>é»˜è®¤ææ„å‡½æ•°ï¼šå½“æä¾›äº†ä¸€ä¸ªææ„å‡½æ•°åï¼Œç¼–è¯‘å™¨å°±ä¸å†æä¾›é»˜è®¤ææ„å‡½æ•°ï¼Œé»˜è®¤ææ„å‡½æ•°æ˜¯ <code>non-virtual</code> çš„ã€‚</li>
<li>æ‹·è´æ„é€ å‡½æ•°ï¼šåªè¦æ²¡æä¾›ï¼Œè€Œä¸”æ»¡è¶³<strong>å¯æ‹·è´æ„é€ </strong>çš„æ¡ä»¶ï¼Œé‚£ä¹ˆå°±æä¾›ï¼Œå¦åˆ™ä¸æä¾›ã€‚</li>
<li>æ‹·è´èµ‹å€¼å‡½æ•°ï¼šåªè¦æ²¡æä¾›ï¼Œè€Œä¸”æ»¡è¶³<strong>å¯æ‹·è´å¤åˆ¶</strong>çš„æ¡ä»¶ï¼Œé‚£ä¹ˆå°±æä¾›ï¼Œå¦åˆ™ä¸æä¾›ã€‚</li>
</ul>
<p>ä¸Šé¢è¯´äº†ä¸¤ä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆå…·ä½“æ˜¯ä»€ä¹ˆæ¡ä»¶å‘¢ï¼Ÿ</p>
<h2 id="5-1-å¯æ‹·è´æ„é€ -amp-å¯æ‹·è´èµ‹å€¼ï¼Ÿ"><a href="#5-1-å¯æ‹·è´æ„é€ -amp-å¯æ‹·è´èµ‹å€¼ï¼Ÿ" class="headerlink" title="5.1 å¯æ‹·è´æ„é€ &amp;å¯æ‹·è´èµ‹å€¼ï¼Ÿ"></a>5.1 å¯æ‹·è´æ„é€ &amp;å¯æ‹·è´èµ‹å€¼ï¼Ÿ</h2><p>å…ˆæ¥çœ‹ä¸€ä¸‹æ»¡è¶³è¿™ä¿©æ¡ä»¶çš„ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamedObject</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T objectValue;</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NamedObject(<span class="built_in">string</span> n, T val) : name(n), objectValue(val) &#123;&#125;</span><br><span class="line">    NamedObject(<span class="keyword">const</span> NamedObject&lt;T&gt; &amp;rhs) &#123;</span><br><span class="line">        objectValue = rhs.objectValue;</span><br><span class="line">        name = rhs.name + <span class="string">&quot; copy &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="keyword">const</span> NamedObject&lt;T&gt; &amp;rhs) &#123;</span><br><span class="line">        os &lt;&lt; rhs.objectValue &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; rhs.name;</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">    NamedObject &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> NamedObject&lt;T&gt; &amp;rhs) &#123;</span><br><span class="line">        objectValue = rhs.objectValue;</span><br><span class="line">        name = rhs.name + <span class="string">&quot; = &quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> newDog = <span class="string">&quot;newDog&quot;</span>;</span><br><span class="line">    <span class="built_in">string</span> oldDog = <span class="string">&quot;oldDog&quot;</span>;</span><br><span class="line">    <span class="function">NamedObject&lt;<span class="keyword">int</span>&gt; <span class="title">od</span><span class="params">(oldDog, <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="function">NamedObject&lt;<span class="keyword">int</span>&gt; <span class="title">nd</span><span class="params">(newDog, <span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; nd &lt;&lt; <span class="string">&quot; : &quot;</span> &lt;&lt; od &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 2 newDog : 1 oldDog</span></span><br><span class="line">    nd = od;    </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; nd; <span class="comment">// &gt;: 1 oldDog =</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæ­¤æ—¶ï¼Œå³ä¾¿è‡ªå·±ä¸æä¾›æ‹·è´æ„é€ ä»¥åŠæ‹·è´èµ‹å€¼æ„é€ æ“ä½œç¬¦ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šå¯¹æˆå‘˜å˜é‡è¿›è¡Œé€’å½’çš„æ‹·è´èµ‹å€¼è¿‡æ¥ã€‚ä½†æ˜¯åœ¨é‡åˆ°æˆå‘˜å˜é‡æ˜¯ <code>const</code> æˆ–è€… <code>reference</code> ç±»å‹æ—¶ï¼Œç¼–è¯‘å™¨å°±ä¸¤æ‰‹ä¸€æ‘Šï¼Œæ— èƒ½ä¸ºåŠ›äº†ï¼ˆå…·ä½“å¯å‚è€ƒ<em>Effective C++, 3th, P37</em>ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamedObject</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">const</span> T objectValue;</span><br><span class="line">    <span class="built_in">string</span>&amp; name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å…¶ä»–å‡½æ•°éƒ½ä¸€æ ·</span></span><br><span class="line">    NamedObject(<span class="keyword">const</span> NamedObject&lt;T&gt; &amp;rhs) &#123;</span><br><span class="line">        objectValue = rhs.objectValue;</span><br><span class="line">        name = rhs.name + <span class="string">&quot; copy &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    NamedObject &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> NamedObject&lt;T&gt; &amp;rhs) &#123;</span><br><span class="line">        objectValue = rhs.objectValue; <span class="comment">// ä¸èƒ½å¯¹ä¸€ä¸ª const å¯¹è±¡èµ‹å€¼ï¼</span></span><br><span class="line">        name = rhs.name + <span class="string">&quot; = &quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> newDog = <span class="string">&quot;newDog&quot;</span>;</span><br><span class="line">    <span class="built_in">string</span> oldDog = <span class="string">&quot;oldDog&quot;</span>;</span><br><span class="line">    <span class="function">NamedObject&lt;<span class="keyword">int</span>&gt; <span class="title">od</span><span class="params">(oldDog, <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="function">NamedObject&lt;<span class="keyword">int</span>&gt; <span class="title">nd</span><span class="params">(newDog, <span class="number">2</span>)</span></span>;</span><br><span class="line">    nd = od;    <span class="comment">// &gt;: error: use of deleted function &#x27;NamedObject&lt;int&gt;&amp; NamedObject&lt;int&gt;::operator=(const NamedObject&lt;int&gt;&amp;)&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œè¿™åªæ˜¯ç¼–è¯‘å™¨ä¸å†æä¾›äº†è€Œå·²ï¼Œç”¨æˆ·è‡ªå·±è¿˜æ˜¯å¯ä»¥è®¾è®¡å¦‚ä½•å»å¤åˆ¶æ‹·è´ä»¥åŠæ„é€ æ‹·è´çš„ï¼Œè¿™å®Œå…¨å–å†³äºè‡ªå·±æ€ä¹ˆå¤„ç†æˆå‘˜å˜é‡ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœåŸºç±»æŠŠæ‹·è´æ„é€ å‡½æ•°è®¾ç½®æˆäº† <code>private</code> é‚£ä¹ˆåœ¨æ´¾ç”Ÿç±»ä¸­ä¹Ÿæ˜¯æ²¡åŠæ³•æ“ä½œçš„ã€‚</p>
<h1 id="6-è‹¥ä¸æƒ³ä½¿ç”¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ï¼Œé‚£è¯¥æ˜ç¡®æ‹’ç»"><a href="#6-è‹¥ä¸æƒ³ä½¿ç”¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ï¼Œé‚£è¯¥æ˜ç¡®æ‹’ç»" class="headerlink" title="6. è‹¥ä¸æƒ³ä½¿ç”¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ï¼Œé‚£è¯¥æ˜ç¡®æ‹’ç»"></a>6. è‹¥ä¸æƒ³ä½¿ç”¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ï¼Œé‚£è¯¥æ˜ç¡®æ‹’ç»</h1><blockquote>
<p>  ä¸ºé©³å›ç¼–è¯‘å™¨è‡ªåŠ¨ï¼ˆæš—è‡ªï¼‰æä¾›çš„æœºèƒ½ï¼Œå¯å°†ç›¸åº”çš„æˆå‘˜å‡½æ•°å£°æ˜ä¸º <code>private</code> å¹¶ä¸”ä¸äºˆå®ç°ã€‚æˆ–è€…ä½¿ç”¨ç»§æ‰¿ <code>Uncopyable</code> è¿™æ ·çš„åŸºç±»ã€‚</p>
</blockquote>
<p>å¦‚æœä¸æƒ³è®©ä¸€ä¸ªç±»æ”¯æŒæ‹·è´æ„é€ æˆ–è€…èµ‹å€¼æ„é€ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°å£°æ˜ä½†ä¸å®ç°ï¼Œä¾‹å¦‚è¿™æ ·å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Uncopyable</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Uncopyable(<span class="keyword">const</span> Uncopyable&amp;);</span><br><span class="line">    Uncopyable&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> Uncopyable&amp;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œå¯¹äºæ¯ä¸€ä¸ªæƒ³å®ç°è¿™ä¸ªåŠŸèƒ½çš„ç±»éƒ½èƒ½å»å•ç‹¬è¿™æ ·å£°æ˜ï¼Œä¸è¿‡ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç»§æ‰¿æ–¹æ³•å»å®ç°ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Uncopyable</span> &#123;</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    Uncopyable() = <span class="keyword">default</span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Uncopyable(<span class="keyword">const</span> Uncopyable &amp;);</span><br><span class="line">    Uncopyable &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> Uncopyable &amp;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> :</span> <span class="keyword">public</span> Uncopyable &#123;</span><br><span class="line">    <span class="comment">// é»˜è®¤ä¸å…è®¸æ‹·è´æ„é€ å’Œèµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    SubClass s1, s2;</span><br><span class="line">    s1 = s2;    <span class="comment">// error!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="7-ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•°"><a href="#7-ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•°" class="headerlink" title="7. ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•°"></a>7. ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•°</h1><blockquote>
<ul>
<li>å¸¦å¤šæ€æ€§è´¨çš„åŸºç±»åº”è¯¥å£°æ˜ä¸€ä¸ª <code>virtual</code> ææ„å‡½æ•°ã€‚</li>
<li>å¦‚æœç±»å¸¦æœ‰ä»»ä½• <code>virtual</code> å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒå°±åº”è¯¥æ‹¥æœ‰ä¸€ä¸ª <code>virtual</code> ææ„å‡½æ•°ã€‚</li>
<li>å¦‚æœç±»çš„è®¾è®¡ç›®çš„ä¸æ˜¯ç”¨æ¥åšåŸºç±»çš„ï¼Œé‚£ä¹ˆå°±ä¸åº”è¯¥å£°æ˜ <code>virtual</code> ææ„å‡½æ•°ã€‚</li>
</ul>
</blockquote>
<p>å½“ä½¿ç”¨åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯è¦æ˜¯æƒ³æŠŠè¿™ä¸ªåŸºç±»æŒ‡é’ˆç»™åˆ æ‰ï¼Œè¿™æ—¶å€™é—®é¢˜å°±æ¥äº†ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BaseClass(<span class="keyword">int</span> <span class="built_in">size</span>) &#123;</span><br><span class="line">        name = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">size</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; ++i) name[i] = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// åŸºç±»çš„ææ„å‡½æ•°</span></span><br><span class="line">    ~BaseClass() &#123; <span class="keyword">delete</span> [] name; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeriveClass</span> :</span> <span class="keyword">public</span> BaseClass &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *count;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    DeriveClass(<span class="keyword">int</span> <span class="built_in">size</span>) : BaseClass(<span class="built_in">size</span>) &#123;</span><br><span class="line">        count = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">size</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; ++i) count[i] = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°</span></span><br><span class="line">    ~DeriveClass() &#123; <span class="keyword">delete</span> [] count; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¤šæ€ç”¨æ³•ï¼ŒåŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œæ²¡æ¯›ç—…</span></span><br><span class="line">    BaseClass *obj = <span class="keyword">new</span> DeriveClass(<span class="number">16</span>);</span><br><span class="line">    <span class="comment">// åˆ é™¤åŸºç±»æŒ‡é’ˆï¼Œå‡ºç°äº†é—®é¢˜ï¼</span></span><br><span class="line">    <span class="keyword">delete</span> obj;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ç¨‹åºä¹ä¸€çœ‹çœ‹ä¸å‡ºä¸ªæ¯›ç—…æ¥ï¼Œç°åœ¨å¯¹ <code>BaseClass *obj = new DeriveClass(16);</code> è®¾ç½®æ–­ç‚¹ï¼Œè¿›è¡Œå•æ­¥è°ƒè¯•ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°æ„é€ å‡½æ•°è¿‡ç¨‹æ˜¯ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> DeriveClass(<span class="number">16</span>)</span><br><span class="line">    |</span><br><span class="line">BaseClass(<span class="number">16</span>)</span><br><span class="line">    |</span><br><span class="line">DeriveClass(<span class="number">16</span>)</span><br><span class="line">    |</span><br><span class="line">    <span class="built_in">end</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªé¡ºåºå®Œå…¨æ­£ç¡®ï¼Œå…ˆæ„é€ åŸºç±»å†æ„é€ æ´¾ç”Ÿç±»å˜›ï¼Œæ‰§è¡Œå®Œåï¼Œå†…å­˜çŠ¶æ€æ˜¯è¿™æ ·çš„ï¼š</p>
<p><img data-src="https://s1.ax1x.com/2020/11/09/BToAnH.png" alt="å†…å­˜çŠ¶æ€è¡¨ç¤º"></p>
<p>å¯ä»¥å¾—çŸ¥æ“ä½œç³»ç»Ÿç»™è¿™ä¸¤ä¸ªå¯¹è±¡ä¸­çš„æˆå‘˜åˆ†é…å†…å­˜åˆ°äº† <code>name : 0x1061980</code> å’Œ <code>count : 0x10619c0</code> ã€‚</p>
<p>é‚£ä¹ˆæ‰§è¡Œ <code>delete obj;</code> æ—¶ï¼Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> obj</span><br><span class="line">    |</span><br><span class="line">~BaseClass()</span><br><span class="line">    |</span><br><span class="line">    <span class="built_in">end</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºæ¥ï¼Œç«Ÿç„¶åªæ‰§è¡Œäº†åŸºç±»çš„ææ„å‡½æ•°ï¼Œè€Œæ²¡æœ‰æ‰§è¡Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œé‚£ä¹ˆè¿™æ—¶çš„å†…å­˜è¡¨ç¤ºæ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿè§ä¸‹å›¾ï¼š</p>
<p><img data-src="https://s1.ax1x.com/2020/11/09/BToeAI.png" alt=""></p>
<p>ç”±æ­¤å¯è§ï¼Œåœ¨ä¸ç»æ„é—´ï¼Œå°±é€ æˆäº†å†…å­˜æ³„æ¼é—®é¢˜ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p>
<p>å¾ˆç®€å•ï¼Œ<strong>åªéœ€è¦æŠŠåŸºç±»çš„ææ„å‡½æ•°å£°æ˜ä¸º</strong> <code>virtual</code> <strong>å°±å¯ä»¥äº†</strong>ï¼Œè¿™æ ·å¼ºåˆ¶å»æ‰§è¡Œå­ç±»çš„ææ„å‡½æ•°ã€‚</p>
<p>ä¸è¿‡ï¼Œè¿™æ ·è¿˜æ˜¯æœ‰ä¸¤ç§ç»“æœï¼Œä¾‹å¦‚ä¸‹é¢æ˜¯ä¸€ç§ç»“æœï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> &#123;</span></span><br><span class="line">    <span class="comment">// å…¶ä»–éƒ½ä¸€æ ·</span></span><br><span class="line">    <span class="keyword">virtual</span> ~BaseClass() &#123; <span class="keyword">delete</span> [] name; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeriveClass</span> :</span> <span class="keyword">public</span> BaseClass &#123;</span><br><span class="line">    <span class="comment">// å…¶ä»–éƒ½ä¸€æ ·</span></span><br><span class="line">    ~DeriveClass() <span class="keyword">override</span> &#123; <span class="keyword">delete</span> [] count; &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™ï¼Œæ˜¯å…ˆæ‰§è¡Œçš„æ´¾ç”Ÿç±»ææ„å‡½æ•°ï¼Œå†æ‰§è¡ŒåŸºç±»ææ„å‡½æ•°ã€‚</p>
<p>å¦ä¸€ç§ç»“æœæ˜¯ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> &#123;</span></span><br><span class="line">    <span class="keyword">virtual</span> ~BaseClass() &#123; <span class="keyword">delete</span> [] name; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeriveClass</span> :</span> <span class="keyword">public</span> BaseClass &#123;</span><br><span class="line">    <span class="comment">// åˆ æ‰äº†è‡ªå·±çš„ææ„å‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæƒ…å†µä¸‹ï¼Œæ‰æ˜¯å…ˆæ‰§è¡ŒåŸºç±»ææ„å‡½æ•°ï¼Œå†æ‰§è¡Œæ´¾ç”Ÿç±»ææ„å‡½æ•°ã€‚</p>
<h1 id="8-åˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•°"><a href="#8-åˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•°" class="headerlink" title="8. åˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•°"></a>8. åˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•°</h1><blockquote>
<ul>
<li>ææ„å‡½æ•°ç»å¯¹ä¸è¦æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœä¸€ä¸ªè¢«ææ„å‡½æ•°è°ƒç”¨çš„å‡½æ•°å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œææ„å‡½æ•°åº”è¯¥æ•æ‰ä»»ä½•å¼‚å¸¸ï¼Œç„¶ååä¸‹ä»–ä»¬ï¼ˆä¸ä¼ æ’­ï¼‰æˆ–ç»“æŸç¨‹åºã€‚</li>
<li>å¦‚æœæ¥å£ä½¿ç”¨è€…éœ€è¦å¯¹æŸä¸ªæ“ä½œå‡½æ•°è¿è¡ŒæœŸé—´æŠ›å‡ºçš„å¼‚å¸¸åšå‡ºååº”ï¼Œé‚£ä¹ˆ <code>class</code> åº”è¯¥æä¾›ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼ˆè€Œä¸æ˜¯åœ¨ææ„å‡½æ•°ä¸­ï¼‰æ‰§è¡Œæ“ä½œã€‚</li>
</ul>
</blockquote>
<p>å³ä¾¿C++å…è®¸ææ„å‡½æ•°æŠ›å‡ºå¼‚å¸¸ï¼Œä½†æ˜¯æœ€å¥½ä¸è¦è¿™æ ·åšã€‚å½“ç„¶ï¼Œåæ‰å¼‚å¸¸ä¹Ÿæ˜¯æœ‰äº‰è®®çš„ï¼Œæ¯”å¦‚â€œè‰ç‡åœ°ç»“æŸç¨‹åºâ€å¯èƒ½ä¼šå¸¦æ¥æ›´ä¸¥é‡çš„é—®é¢˜ï¼Œæˆ–è€…â€œä¸æ˜ç¡®çš„è¡Œä¸ºå¸¦æ¥çš„é£é™©â€å¯èƒ½ä¼šå¸¦æ¥ä¸å®‰å…¨çš„é—®é¢˜ç­‰ç­‰ï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†ææ˜¯æ¯”è¾ƒå¥½çš„ã€‚</p>
<p>ä½†æ˜¯ï¼Œé€šå¸¸å¯ä»¥æä¾›ä¸€ä¸ªè®©ç”¨æˆ·åœ¨ææ„å‡½æ•°å‰æ§åˆ¶å¼‚å¸¸çš„æœºä¼šï¼Œä¾‹å¦‚ä½¿ç”¨â€œåŒé‡ä¿é™©â€æ¥å°½æœ€å¤§åŒ–ç¡®ä¿é—®é¢˜å¾—åˆ°è§£å†³ã€‚</p>
<h1 id="9-ç»ä¸åœ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è¿‡ç¨‹ä¸­è°ƒç”¨virtualå‡½æ•°"><a href="#9-ç»ä¸åœ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è¿‡ç¨‹ä¸­è°ƒç”¨virtualå‡½æ•°" class="headerlink" title="9. ç»ä¸åœ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è¿‡ç¨‹ä¸­è°ƒç”¨virtualå‡½æ•°"></a>9. ç»ä¸åœ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è¿‡ç¨‹ä¸­è°ƒç”¨virtualå‡½æ•°</h1><blockquote>
<p>  åœ¨æ„é€ å’Œææ„æœŸé—´ä¸è¦è°ƒç”¨ <code>virtual</code> å‡½æ•°ï¼Œå› ä¸ºè¿™ç±»è°ƒç”¨ä»ä¸ä¸‹é™è‡³æ´¾ç”Ÿç±»ã€‚</p>
</blockquote>
<p>ä¸ç®¡æ€æ ·ï¼Œéƒ½ä¸åº”è¯¥åœ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°å†…éƒ¨å»è°ƒç”¨ä¸€ä¸ª <code>virtual</code> å‡½æ•°ï¼Œå› ä¸ºè¿™æ ·çš„æ“ä½œæ˜¯ä¸å¯é¢„ä¼°çš„ï¼Œå¸¦æ¥æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚ä¸ºä»€ä¹ˆè¿™æ ·ï¼Ÿå› ä¸ºåœ¨åŸºç±»ä¸­ï¼Œæ„é€ å‡½æ•°æ‰§è¡Œé˜¶æ®µæˆ–è€…ææ„å‡½æ•°æ‰§è¡Œé˜¶æ®µ<strong>åªèƒ½çœ‹åˆ°åŸºç±»çš„å†…å®¹</strong>ï¼Œæ‰€ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°çš„ç¨‹åºï¼Œæ˜¯ä¸å¯ç”¨çš„ã€‚ä¸‹é¢è¿™å¥è¯ç›´ç™½ä¸”æœ‰æ•ˆçš„æŒ‡å‡ºäº†é—®é¢˜çš„æ‰€åœ¨ï¼š</p>
<blockquote>
<p>åœ¨åŸºç±»ï¼ˆbase-classï¼‰æ„é€ æœŸé—´ï¼Œ<code>virtual</code> å‡½æ•°ä¸æ˜¯ <code>virtual</code> å‡½æ•°ã€‚</p>
</blockquote>
<p>ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™æ ·ä¸€ä¸ªâ€œå¯¹è±¡åœ¨ <code>derived class</code> æ„é€ å‡½æ•°å¼€å§‹æ‰§è¡Œå‰ï¼Œä¸ä¼šæˆä¸ºä¸€ä¸ª <code>derived class</code> å¯¹è±¡â€çš„è§„åˆ™ï¼Œæ‰€ä»¥æœ€å¥½åœ¨æ„é€ æœŸé—´å¯¹ <code>virtual</code> å‡½æ•°è§†è€Œä¸è§ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•ç§‘å­¦æœ‰æ•ˆåœ°å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿå½“ç„¶æ˜¯åœ¨åŸºç±»ä¸­æŠŠéœ€è¦åœ¨æ„é€ å‡½æ•°å†…æ‰§è¡Œåœ°å‡½æ•°è®¾ç½®æˆé <code>virtual</code> å‡½æ•°ã€‚</p>
<p>æ€»ä¹‹å°±æ˜¯ï¼Œåœ¨åŸºç±»æ„é€ å’Œææ„æœŸé—´è°ƒç”¨çš„ <code>virtual</code> å‡½æ•°ä¸å¯ä¸‹é™è‡³æ´¾ç”Ÿç±»ã€‚</p>
<h1 id="10-ä»¤-operator-è¿”å›ä¸€ä¸ª-reference-to-this"><a href="#10-ä»¤-operator-è¿”å›ä¸€ä¸ª-reference-to-this" class="headerlink" title="10. ä»¤ operator= è¿”å›ä¸€ä¸ª reference to *this"></a>10. ä»¤ operator= è¿”å›ä¸€ä¸ª reference to *this</h1><blockquote>
<p>  ä»¤èµ‹å€¼ï¼ˆassignmentï¼‰æ“ä½œç¬¦ï¼ˆ<code>=</code>ï¼‰è¿”å›ä¸€ä¸ª reference to <code>*this</code>ã€‚</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆè¿™æ ·åšå‘¢ï¼Ÿæ˜¯å› ä¸ºå¯ä»¥å®ç°ç±»ä¼¼äºè¿™æ ·çš„ç¨‹åºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">a = b = c = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<p>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™ç±»çš„ <code>operator=</code> æ“ä½œç¬¦æ—¶ï¼Œå¯ä»¥å†™æˆï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BaseClass &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> BaseClass &amp;rhs) &#123;</span><br><span class="line">        <span class="comment">// éšä¾¿å¹²ç‚¹ä»€ä¹ˆ</span></span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>; <span class="comment">// å…³é”®åœ¨äºè¿™é‡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶å•¦ï¼Œä¹Ÿå¯ä»¥ä¸åšè¿”å›ï¼Œä¸è¿‡æ—¢ç„¶è¿™æ˜¯ä¸€ä¸ªå¥½çš„å®è·µï¼Œé‚£ä¹ˆæ²¡æœ‰ç¡®åˆ‡çš„ç†ç”±ä¸å»åšï¼Œæœ€å¥½å°±å»åšã€‚</p>
<h1 id="11-åœ¨-operator-ä¸­å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€"><a href="#11-åœ¨-operator-ä¸­å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€" class="headerlink" title="11. åœ¨ operator= ä¸­å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€"></a>11. åœ¨ operator= ä¸­å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€</h1><blockquote>
<ul>
<li>ç¡®ä¿å½“å¯¹è±¡è‡ªæˆ‘èµ‹å€¼æ—¶ï¼Œ<code>operator=</code> æœ‰å¯é¢„ä¼°çš„è¡Œä¸ºã€‚å…¶ä¸­éœ€è¦æ³¨æ„çš„åŒ…æ‹¬æ¯”è¾ƒâ€œæ¥æºå¯¹è±¡â€å’Œâ€œç›®æ ‡å¯¹è±¡â€çš„åœ°å€ã€ç²¾å¿ƒå‘¨åˆ°çš„è¯­å¥é¡ºåºä»¥åŠæ‹·è´äº¤æ¢ã€‚</li>
<li>ç¡®å®šä»»ä½•å‡½æ•°å¦‚æœæ“ä½œä¸€ä¸ªä»¥ä¸Šçš„å¯¹è±¡ï¼Œè€Œå…¶ä¸­å¤šä¸ªå¯¹è±¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå…¶è¡Œä¸ºä»ç„¶æ­£ç¡®ã€‚</li>
</ul>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯éœ€è¦è€ƒè™‘æ“ä½œç¬¦ä¸¤è¾¹æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå› ä¸ºå¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¼šå‡ºç°ç±»ä¼¼ä¸‹é¢çš„é—®é¢˜ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BaseClass &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> BaseClass &amp;rhs) &#123;</span><br><span class="line">        <span class="keyword">delete</span> [] data;</span><br><span class="line">        data = rhs.data;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BaseClass baseClass;</span><br><span class="line">    baseClass = baseClass;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡ªå·±ç»™è‡ªå·±èµ‹å€¼ï¼Œæ²¡æ¯›ç—…ï¼Œä½†æ˜¯åœ¨è¿ç®—ç¬¦å‡½æ•°çš„ <code>delete data</code> å´å¸¦æ¥äº†é—®é¢˜ï¼Œå› ä¸ºå®ƒåˆ é™¤æ‰äº†è‡ªå·±çš„å†…å­˜ç©ºé—´ï¼Œå´åœ¨ä¸‹é¢é‚£è¡Œ <code>data = rhs.data</code> åˆæƒ³ç”¨äº†ï¼Œè€Œè¿™æ—¶ç³»ç»Ÿå·²ç»æ”¶å›äº†è¿™å—ç©ºé—´ï¼Œè¿™æ ·ä¸€æ¥æ“ä½œç³»ç»Ÿè‚¯å®šæ˜¯ä¸å¹²çš„ï¼Œæ‰€ä»¥ç¨‹åºå°±æŠ¥é”™äº†ã€‚</p>
<p>é‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿè¿™æ ·ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BaseClass &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> BaseClass &amp;rhs) &#123;</span><br><span class="line">        <span class="comment">// å¤šä¸€ä¸ªæ£€æŸ¥æ˜¯å¦æ˜¯è‡ªå·±çš„æ“ä½œå°±å¯ä»¥äº†ï¼Œä¹Ÿç§°è¯åŒæµ‹è¯•</span></span><br><span class="line">        <span class="keyword">if</span> (&amp;rhs == <span class="keyword">this</span>) <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">delete</span> [] data;</span><br><span class="line">        data = rhs.data;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="12-å¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸€ä¸ªæˆåˆ†"><a href="#12-å¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸€ä¸ªæˆåˆ†" class="headerlink" title="12. å¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸€ä¸ªæˆåˆ†"></a>12. å¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸€ä¸ªæˆåˆ†</h1><blockquote>
<ul>
<li>æ‹·è´å‡½æ•°åº”è¯¥ç¡®ä¿å¤åˆ¶äº†â€œå¯¹è±¡å†…çš„æ‰€æœ‰æˆå‘˜å˜é‡â€ä»¥åŠâ€œæ‰€æœ‰çš„ <code>base class</code> æˆå‘˜â€ã€‚</li>
<li>ä¸è¦å°è¯•ä»¥æŸä¸ªæ‹·è´å‡½æ•°å»å®ç°å¦ä¸€ä¸ªæ‹·è´å‡½æ•°ï¼Œåº”è¯¥å°†ä¸¤è€…å…±åŒçš„éƒ¨åˆ†æŠ½å–åˆ°ä¸€ä¸ªæ–°çš„å‡½æ•°ä¸­å»å®Œæˆï¼Œç„¶åç”±ä¸¤ä¸ªæ‹·è´å‡½æ•°å…±ç”¨ã€‚</li>
</ul>
</blockquote>
<p>ä¸€èˆ¬è€Œè¨€ï¼Œå¦‚æœè‡ªå·±ä¸å£°æ˜æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼æ“ä½œç¬¦ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šå¸®è‡ªå·±ç”Ÿæˆçš„ï¼Œä½†æ˜¯ï¼é‡ç‚¹æ¥äº†ï¼å¦‚æœé€‰æ‹©äº†è‡ªå·±å»å£°æ˜å®šä¹‰ï¼Œé‚£ä¹ˆéº»çƒ¦äº‹å°±æ¥äº†ï¼ˆå› ä¸ºå³ä¾¿å¯èƒ½å‡ºé”™ç¼–è¯‘å™¨ä¹Ÿä¸ä¼šå‘Šè¯‰ä½ ï¼‰ã€‚</p>
<p>å°¤å…¶æ˜¯ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ªåŸºç±»çš„æ—¶å€™ï¼Œå°±éœ€è¦å°å¿ƒè°¨æ…åœ°å»å¤„ç†åŸºç±»çš„å¯¹è±¡ï¼Œç„¶è€Œæœ‰äº›æ˜¯ <code>private</code> çš„ï¼Œå› æ­¤å¤åˆ¶èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ–¹å¼æ¥è§£å†³é—®é¢˜ï¼š</p>
<ul>
<li>å¯¹äºæ‹·è´æ„é€ å‡½æ•°ï¼Œåœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­æ˜¾å¼åœ°å»è°ƒç”¨åŸºç±»çš„æ‹·è´æ„é€ å‡½æ•°ï¼Œç„¶ååœ¨å­ç±»çš„æ‹·è´æ„é€ å‡½æ•°å†…éƒ¨å¤„ç†å¥½è‡ªå·±çš„é—®é¢˜ã€‚</li>
<li>å¯¹äºèµ‹å€¼æ‹·è´æ“ä½œç¬¦ï¼Œåœ¨<strong>åˆé€‚çš„</strong>ä½ç½®æ˜¾å¼è°ƒç”¨åŸºç±»çš„ <code>operator=()</code> å‡½æ•°ã€‚</li>
</ul>
<p>å…·ä½“ä¾‹å­è§ä¸‹é¢ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BaseClass() = <span class="keyword">default</span>;</span><br><span class="line">    BaseClass(<span class="keyword">int</span> sz, <span class="keyword">char</span> c) &#123; name = <span class="built_in">string</span>(sz, c); &#125;</span><br><span class="line">    BaseClass(<span class="keyword">const</span> BaseClass &amp;rhs) : name(rhs.name) &#123;&#125;</span><br><span class="line">    BaseClass &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> BaseClass &amp;rhs) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == &amp;rhs) <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;name = rhs.name;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="keyword">const</span> BaseClass &amp;rhs) &#123;</span><br><span class="line">        os &lt;&lt; rhs.name;</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeriveClass</span> :</span> <span class="keyword">public</span> BaseClass &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    DeriveClass(<span class="keyword">int</span> a, <span class="keyword">int</span> sz, <span class="keyword">char</span> c) : BaseClass(sz, c), age(a) &#123;&#125;</span><br><span class="line">    <span class="comment">// å¿…é¡»è¦è°ƒç”¨åŸºç±»çš„æ‹·è´æ„é€ å‡½æ•°ï¼Œå¦åˆ™ä¸ä¼šæ‹·è´æ„é€ å®Œå…¨</span></span><br><span class="line">    DeriveClass(<span class="keyword">const</span> DeriveClass &amp;rhs) : age(rhs.age), BaseClass(rhs) &#123;&#125;</span><br><span class="line">    DeriveClass &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> DeriveClass &amp;rhs) &#123;</span><br><span class="line">        <span class="keyword">if</span> (&amp;rhs == <span class="keyword">this</span>) <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        age = rhs.age;</span><br><span class="line">        <span class="comment">// å¦‚æœä¸è°ƒç”¨ä¸‹é¢è¿™å¥ï¼Œå°†ä¼šå‡ºç°æ²¡æœ‰æ‹·è´åŸºç±» name å€¼çš„é—®é¢˜ï¼</span></span><br><span class="line">        BaseClass::<span class="keyword">operator</span>=(rhs);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="keyword">const</span> DeriveClass &amp;rhs) &#123;</span><br><span class="line">        os &lt;&lt; (BaseClass) rhs &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; rhs.age;</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">DeriveClass <span class="title">d1</span><span class="params">(<span class="number">18</span>, <span class="number">3</span>, <span class="string">&#x27;1&#x27;</span>)</span></span>;</span><br><span class="line">    <span class="function">DeriveClass <span class="title">d2</span><span class="params">(<span class="number">20</span>, <span class="number">5</span>, <span class="string">&#x27;2&#x27;</span>)</span></span>;</span><br><span class="line">    <span class="function">DeriveClass <span class="title">d3</span><span class="params">(d1)</span></span>;</span><br><span class="line">    d1 = d2;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; d1 &lt;&lt; <span class="built_in">endl</span> &lt;&lt; d2 &lt;&lt; <span class="built_in">endl</span> &lt;&lt; d3;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ­£å¸¸è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">     * 22222    20</span></span><br><span class="line"><span class="comment">     * 22222    20</span></span><br><span class="line"><span class="comment">     * 111      18</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¦‚æœæŒ‰ç…§å‰ä¸¤ç‚¹å»ºè®®ï¼Œé‚£ä¹ˆå‡ºç°è¿™æ ·çš„æƒ…å†µæ¦‚ä¸è´Ÿè´£ï¼›</span></span><br><span class="line"><span class="comment">     * 111      20</span></span><br><span class="line"><span class="comment">     * 22222    20</span></span><br><span class="line"><span class="comment">     *          18</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»è€Œè¨€ä¹‹ï¼Œä¸€æ—¦é€‰æ‹©äº†è‡ªå·±å»å®Œæˆ<strong>æ‹·è´æ„é€ å‡½æ•°</strong>å’Œ<strong>å¤åˆ¶æ‹·è´æ“ä½œç¬¦</strong>ï¼Œé‚£ä¹ˆå°±åˆ«æ€ªç¼–è¯‘å™¨ä¸åšé“äº†ï¼Œéœ€è¦è‡ªå·±å»è°¨æ…æ“ä½œã€‚</p>
<h1 id="13-ä»¥å¯¹è±¡ç®¡ç†èµ„æº"><a href="#13-ä»¥å¯¹è±¡ç®¡ç†èµ„æº" class="headerlink" title="13. ä»¥å¯¹è±¡ç®¡ç†èµ„æº"></a>13. ä»¥å¯¹è±¡ç®¡ç†èµ„æº</h1><blockquote>
<ul>
<li>ä¸ºé˜²æ­¢èµ„æºæ³„æ¼ï¼Œéœ€è¦ä½¿ç”¨RAIIå¯¹è±¡ï¼Œå®ƒä»¬åœ¨æ„é€ å‡½æ•°ä¸­è·å¾—èµ„æºå¹¶åœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾èµ„æºã€‚</li>
<li>ä¸¤ä¸ªå¸¸è¢«ä½¿ç”¨çš„RAIIç±»åˆ†åˆ«æ˜¯ <code>tr1::shared_ptr</code> ï¼ˆç°å·²çº³å…¥C++11æ ‡å‡†ï¼Œä¸éœ€è¦æ·»åŠ  <code>tr1</code> å³å¯ä½¿ç”¨ï¼‰ å’Œ <code>auto_ptr</code>ï¼ˆå·²è¢«åºŸå¼ƒï¼Œä½¿ç”¨ <code>unique_ptr</code> æ¥ä»£æ›¿ï¼‰ æ™ºèƒ½æŒ‡é’ˆã€‚å‰è€…é€šå¸¸æ¥è¯´æ˜¯æ¯”è¾ƒåˆé€‚çš„é€‰æ‹©ï¼Œå› ä¸ºå¯æ‹·è´ã€‚åè€…ä¼šä½¿è¢«æ‹·è´çš„å¯¹è±¡å˜æˆ <code>null</code>ã€‚</li>
</ul>
</blockquote>
<p>ä»¥å¯¹è±¡æ¥ç®¡ç†èµ„æºçš„å…³é”®æƒ³æ³•ï¼š</p>
<ul>
<li>è·å¾—èµ„æºåï¼Œç«‹åˆ»æ”¾è¿›ç®¡ç†å¯¹è±¡å†…éƒ¨ã€‚</li>
<li>ç®¡ç†å¯¹è±¡è¿ç”¨ææ„å‡½æ•°ç¡®ä¿èµ„æºèƒ½å¤Ÿè¢«é‡Šæ”¾ã€‚</li>
</ul>
<p>å½“ç„¶ï¼Œå¯¹äºæ‰€æœ‰çš„<strong>å¯¹è±¡ç±»</strong>æ•°ç»„ï¼Œä½¿ç”¨ <code>vector</code> ä¹‹ç±»çš„STLæ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå› ä¸ºæ™ºèƒ½æŒ‡é’ˆç›®å‰æ²¡æœ‰æä¾›ç›¸åº”çš„åˆ é™¤å¯¹è±¡æ•°ç»„çš„æ“ä½œã€‚</p>
<h1 id="14-åœ¨èµ„æºç®¡ç†ç±»ä¸­å°å¿ƒ-copying-è¡Œä¸º"><a href="#14-åœ¨èµ„æºç®¡ç†ç±»ä¸­å°å¿ƒ-copying-è¡Œä¸º" class="headerlink" title="14. åœ¨èµ„æºç®¡ç†ç±»ä¸­å°å¿ƒ copying è¡Œä¸º"></a>14. åœ¨èµ„æºç®¡ç†ç±»ä¸­å°å¿ƒ copying è¡Œä¸º</h1><blockquote>
<ul>
<li>å¤åˆ¶RAIIå¯¹è±¡å¿…é¡»ä¸€å¹¶å¤åˆ¶å®ƒæ‰€ç®¡ç†çš„èµ„æºï¼Œæ‰€ä»¥èµ„æºçš„ <code>copying</code> è¡Œä¸ºå†³å®šRAIIå¯¹è±¡çš„ <code>copying</code> è¡Œä¸ºã€‚</li>
<li>æ™®éè€Œå¸¸è§çš„RAIIç±» <code>copying</code> è¡Œä¸ºæ˜¯ï¼šæŠ‘åˆ¶ <code>copying</code> ã€ä½¿ç”¨å¼•ç”¨è®¡æ•° <code>reference counting</code> ã€‚</li>
</ul>
</blockquote>
<h1 id="15-åœ¨èµ„æºç®¡ç†ç±»ä¸­æä¾›å¯¹åŸå§‹èµ„æºçš„è®¿é—®"><a href="#15-åœ¨èµ„æºç®¡ç†ç±»ä¸­æä¾›å¯¹åŸå§‹èµ„æºçš„è®¿é—®" class="headerlink" title="15. åœ¨èµ„æºç®¡ç†ç±»ä¸­æä¾›å¯¹åŸå§‹èµ„æºçš„è®¿é—®"></a>15. åœ¨èµ„æºç®¡ç†ç±»ä¸­æä¾›å¯¹åŸå§‹èµ„æºçš„è®¿é—®</h1><blockquote>
<ul>
<li>APIså¾€å¾€è¦æ±‚è®¿é—®åŸå§‹èµ„æºï¼ˆraw resourcesï¼‰ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªRAIIåº”è¯¥æä¾›ä¸€ä¸ªâ€œå–å¾—å…¶æ‰€ç®¡ç†çš„èµ„æºâ€çš„æ¥å£ã€‚</li>
<li>å¯¹åŸå§‹èµ„æºçš„è®¿å¯èƒ½ç»è¿‡æ˜¾å¼æˆ–è€…éšå¼ç±»å‹è½¬æ¢ï¼Œä¸€èˆ¬è€Œè¨€æ˜¾å¼ç±»å‹è½¬æ¢æ¯”è¾ƒå®‰å…¨ï¼Œä½†æ˜¯éšå¼ç±»å‹è½¬æ¢å¯¹ç”¨æˆ·æ¯”è¾ƒæ–¹ä¾¿ï¼Œè€ƒè™‘ç€ç”¨ã€‚</li>
</ul>
</blockquote>
<p>å½“æŠŠä¸€ä¸ªæŒ‡é’ˆä¼ é€’ç»™èµ„æºç®¡ç†ç±»æŒ‡é’ˆåï¼Œè¯¥æ€æ ·ä½¿ç”¨å®ƒå‘¢ï¼Ÿè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œè€Œè¿™ä¸€éƒ¨åˆ†æ­£å¥½æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æœ€ä½³å®è·µã€‚å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">static</span> BaseClass *base;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BaseClass() &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printHello</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Hello, World!&quot;</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> BaseClass *<span class="title">getBaseClass</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (base == <span class="literal">nullptr</span>) base = <span class="keyword">new</span> BaseClass();</span><br><span class="line">        <span class="keyword">return</span> base;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">BaseClass *BaseClass::base = <span class="keyword">new</span> BaseClass();</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="built_in">unique_ptr</span>&lt;BaseClass&gt; <span class="title">up</span><span class="params">(BaseClass::getBaseClass())</span></span>;</span><br><span class="line">        up.<span class="built_in">get</span>()-&gt;printHello(); <span class="comment">// &gt;: Hello, World!</span></span><br><span class="line">        (*up).printHello();     <span class="comment">// &gt;: Hello, World!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç®€è€Œè¨€ä¹‹ï¼Œæä¾›äº†ä¸¤ç§æ–¹å¼å»ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆé‡Œé¢çš„åŸç”ŸæŒ‡é’ˆã€‚</p>
<p>åœ¨è®¾è®¡è‡ªå·±çš„èµ„æºç®¡ç†ç±»æ—¶ï¼Œéœ€è¦è€ƒè™‘è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>æä¾› <code>get()</code> å‡½æ•°æ¥è®¿é—®åŸç”ŸæŒ‡é’ˆã€‚</li>
<li>æä¾›éšå¼è½¬æ¢å‡½æ•°æ¥è®¿é—®åŸç”ŸæŒ‡é’ˆã€‚</li>
</ul>
<p>éšå¼è½¬æ¢å‡½æ•°å¦‚ä¸‹ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">FontHandle</span> &#123;</span>&#125;;</span><br><span class="line"><span class="function">FontHandle <span class="title">getFont</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> FontHandle();</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Font</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Font</span><span class="params">(FontHandle fontHandle)</span></span></span><br><span class="line"><span class="function">            : <span class="title">f</span><span class="params">(fontHandle)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="comment">// æä¾›ä¸€ä¸ªéšå¼è½¬æ¢å‡½æ•°ï¼Œæ¥æ”¾å‡ºå†…éƒ¨æŒ‡é’ˆã€‚</span></span><br><span class="line">    <span class="function"><span class="keyword">operator</span> <span class="title">FontHandle</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> f; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    FontHandle f;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">changeFontSize</span><span class="params">(FontHandle f, <span class="keyword">int</span> newSize)</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Font <span class="title">font</span><span class="params">(getFont())</span></span>;</span><br><span class="line">    changeFontSize(font, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="16-æˆå¯¹ä½¿ç”¨-new-å’Œ-delete-æ—¶è¦é‡‡ç”¨ç›¸åŒå½¢å¼"><a href="#16-æˆå¯¹ä½¿ç”¨-new-å’Œ-delete-æ—¶è¦é‡‡ç”¨ç›¸åŒå½¢å¼" class="headerlink" title="16. æˆå¯¹ä½¿ç”¨ new å’Œ delete æ—¶è¦é‡‡ç”¨ç›¸åŒå½¢å¼"></a>16. æˆå¯¹ä½¿ç”¨ new å’Œ delete æ—¶è¦é‡‡ç”¨ç›¸åŒå½¢å¼</h1><blockquote>
<p>  å¦‚æœåœ¨ <code>new</code> è¡¨è¾¾å¼ä¸­ä½¿ç”¨ <code>[]</code> ï¼Œå¿…é¡»åœ¨ç›¸åº”çš„ <code>delete</code> è¡¨è¾¾å¼ä¸­ä¹Ÿä½¿ç”¨ <code>delete []</code> ï¼Œå¦‚æœåœ¨ <code>new</code> è¡¨è¾¾å¼ä¸­æ²¡ä½¿ç”¨ <code>[]</code> ï¼Œé‚£ä¹ˆåœ¨ <code>delete</code> ä¸­ä¹Ÿä¸åº”è¯¥ä½¿ç”¨ã€‚</p>
</blockquote>
<p><strong>æ„å¤–å‘ç°</strong>ï¼šå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œ<code>delete</code> å’Œ <code>delete []</code> éƒ½èƒ½å¤Ÿå®Œæˆå†…å­˜é‡Šæ”¾ï¼Œä½†æ˜¯å¯¹äºè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼ˆå¯¹è±¡ï¼‰æ„æˆçš„æ•°ç»„ï¼Œå°±ä¸è¡Œäº†ï¼Œå¿…é¡»ä½¿ç”¨ <code>delete []</code> ã€‚</p>
<h1 id="17-ä»¥ç‹¬ç«‹è¯­å¥å°†-newed-å¯¹è±¡æ”¾å…¥æ™ºèƒ½æŒ‡é’ˆ"><a href="#17-ä»¥ç‹¬ç«‹è¯­å¥å°†-newed-å¯¹è±¡æ”¾å…¥æ™ºèƒ½æŒ‡é’ˆ" class="headerlink" title="17. ä»¥ç‹¬ç«‹è¯­å¥å°† newed å¯¹è±¡æ”¾å…¥æ™ºèƒ½æŒ‡é’ˆ"></a>17. ä»¥ç‹¬ç«‹è¯­å¥å°† newed å¯¹è±¡æ”¾å…¥æ™ºèƒ½æŒ‡é’ˆ</h1><blockquote>
<p>  ä»¥ç‹¬ç«‹è¯­å¥å°† <code>new</code> å‡ºæ¥çš„å¯¹è±¡å­˜å‚¨åœ¨æ™ºèƒ½æŒ‡é’ˆé‡Œï¼Œå¦‚æœä¸è¿™æ ·åšï¼Œä¸€æ—¦å¼‚å¸¸è¢«æŠ›å‡ºï¼Œæœ‰å¯èƒ½å¯¼è‡´éš¾ä»¥å¯Ÿè§‰çš„èµ„æºæ³„æ¼ã€‚</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆè¿™æ ·åšå‘¢ï¼Ÿè¿˜ä¸æ˜¯å› ä¸ºC++çš„å„ç§ç¼–è¯‘å™¨è§„èŒƒä¸ç»Ÿä¸€ï¼Œå¯¹äºå¤„ç†ç¨‹åºçš„ä¼˜å…ˆæƒæ²¡æœ‰æ˜ç¡®çš„å®šä¹‰ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œè¦è¿™æ ·å†™ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="built_in">shared_ptr</span>&lt;BaseClass&gt; <span class="title">spb</span><span class="params">(<span class="keyword">new</span> BaseClass())</span></span>;</span><br><span class="line"><span class="built_in">process</span>(spb);</span><br></pre></td></tr></table></figure>
<p>è€Œä¸æ˜¯ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">process</span>(<span class="built_in">shared_ptr</span>&lt;BaseClass&gt;(<span class="keyword">new</span> BaseClass()));</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>é˜…è¯»ç¬”è®°</tag>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title>ZUCç®—æ³•äº†è§£</title>
    <url>/2020/09/22/ZUC%E7%AE%97%E6%B3%95%E4%BA%86%E8%A7%A3/</url>
    <content><![CDATA[<p>ZUCç®—æ³•æ˜¯ä¸€ä¸ª<strong>é¢å‘å­—çš„æµåŠ å¯†</strong>ç®—æ³•ã€‚å®ƒä½¿ç”¨ä¸€ä¸ª<strong>128</strong>ä½çš„åˆå§‹å¯†é’¥ <code>key</code> å’Œä¸€ä¸ª<strong>128</strong>ä½çš„åˆå§‹å‘é‡ <code>iv</code> æ¥ä½œä¸ºè¾“å…¥ï¼Œå¯ä»¥è¾“å‡ºè‹¥å¹²ä¸ª<strong>32</strong>ä½å­—çš„å¯†é’¥æµï¼Œä¹Ÿå°±å°±æ˜¯è¯´æ¯<strong>32</strong>ä½å­—åœ¨è¿™é‡Œç§°ä¸ºä¸€ä¸ªå¯†é’¥å­—ã€‚è¿™æ ·äº§ç”Ÿçš„å¯†é’¥æµå¯ä»¥ç”¨äºåŠ å¯†å’Œè§£å¯†ã€‚</p>
<a id="more"></a>
<blockquote>
<p>  ä»¥ä¸‹å†…å®¹å‚è€ƒè‡ª ZUC æ ‡å‡†æ–‡æ¡£</p>
</blockquote>
<h1 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h1><p>åœ¨ZUCç®—æ³•ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ‰§è¡Œé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯<strong>åˆå§‹åŒ–é˜¶æ®µ</strong>å’Œ<strong>å·¥ä½œé˜¶æ®µ</strong>ã€‚åœ¨åˆå§‹åŒ–é˜¶æ®µä¸­ï¼Œ <code>key</code> å’Œ <code>iv</code> è¢«åˆå§‹åŒ–å®Œæˆã€‚åœ¨å·¥ä½œé˜¶æ®µä¸­ï¼Œæ¯ä¸ª<strong>æ—¶é’Ÿè„‰å†²</strong>éƒ½èƒ½äº§ç”Ÿä¸€ä¸ª<strong>32ä½å­—</strong>çš„å¯†é’¥æµè¾“å‡ºã€‚</p>
<h1 id="2-ç¬¦å·ä¸çº¦å®š"><a href="#2-ç¬¦å·ä¸çº¦å®š" class="headerlink" title="2. ç¬¦å·ä¸çº¦å®š"></a>2. ç¬¦å·ä¸çº¦å®š</h1><h2 id="2-1-æ•°åˆ¶è¡¨ç¤º"><a href="#2-1-æ•°åˆ¶è¡¨ç¤º" class="headerlink" title="2.1 æ•°åˆ¶è¡¨ç¤º"></a>2.1 æ•°åˆ¶è¡¨ç¤º</h2><p>ä¸‹æ–‡ä½¿ç”¨<strong>åè¿›åˆ¶</strong>ã€<strong>åå…­è¿›åˆ¶</strong>ã€<strong>äºŒè¿›åˆ¶</strong>è¿›è¡Œè¡¨ç¤ºä¾‹å¦‚ï¼š</p>
<script type="math/tex; mode=display">
\begin{align*}
a &= 123456 \space\space\space\spaceåè¿›åˆ¶è¡¨ç¤ºæ³•\\\\ 
&= 0x1E240\space\space\space\space åå…­è¿›åˆ¶è¡¨ç¤º\\\\
&= 00011110001001000000_2 äºŒè¿›åˆ¶è¡¨ç¤º
\end{align*}</script><h2 id="2-2-æ¯”ç‰¹åº"><a href="#2-2-æ¯”ç‰¹åº" class="headerlink" title="2.2 æ¯”ç‰¹åº"></a>2.2 æ¯”ç‰¹åº</h2><p>åœ¨ä¸‹æ–‡ä¸­ï¼Œæ‰€æœ‰æ•°æ®å˜é‡çš„å·¦ä¾§æ˜¯é«˜æœ‰æ•ˆä½ï¼ˆå­—èŠ‚ï¼‰ï¼Œå³ä¾§ä¸ºä½æœ‰æ•ˆä½ï¼ˆå­—èŠ‚ï¼‰ã€‚ä¾‹å¦‚ï¼š$a = 100110101100110010100100_2$ï¼Œé‚£ä¹ˆå®ƒçš„æœ€é«˜æœ‰æ•ˆä½æ˜¯$1$ï¼ˆæœ€å·¦ä¾§çš„ï¼‰ï¼Œæœ€ä½æœ‰æ•ˆä½æ˜¯$0$ï¼ˆæœ€å³ä¾§çš„ï¼‰ã€‚</p>
<h2 id="2-3-ç¬¦å·çº¦å®š"><a href="#2-3-ç¬¦å·çº¦å®š" class="headerlink" title="2.3 ç¬¦å·çº¦å®š"></a>2.3 ç¬¦å·çº¦å®š</h2><script type="math/tex; mode=display">
\begin{align*}
+ &| ä¸¤ä¸ªæ•´æ•°ç›¸åŠ \\\\
ab &| ä¸¤ä¸ªæ•´æ•°ç›¸ä¹˜ \\\\
= &| èµ‹å€¼\\\\
mod &| æ¨¡äºŒåŠ \\\\
\oplus &| å¼‚æˆ–è¿ç®—\\\\
\boxplus &| æ¨¡ 2^32 åŠ æ³•è¿ç®—\\\\
a||b &| å°†å­—ç¬¦ä¸² a å’Œ b ä¸²è” \\\\
a_H &| a çš„é«˜**16**ä¸º\\\\
a_L &| a çš„ä½**16**ä½\\\\
a <<<_n k &| å¾ªç¯å·¦ç§»\\\\
a>>1 &| å³ç§»\\\\
(a_1, a_2, ..., a_n,)\to(b_1, b_2, ... b_n) &| å°†å‘é‡ a_i æŒ¨ä¸ªèµ‹å€¼ç»™ b_i\\\\
\end{align*}</script><h1 id="3-ç®—æ³•æè¿°"><a href="#3-ç®—æ³•æè¿°" class="headerlink" title="3. ç®—æ³•æè¿°"></a>3. ç®—æ³•æè¿°</h1><h2 id="3-1-ç®—æ³•ç»“æ„"><a href="#3-1-ç®—æ³•ç»“æ„" class="headerlink" title="3.1 ç®—æ³•ç»“æ„"></a>3.1 ç®—æ³•ç»“æ„</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ<code>ZUC</code> ç®—æ³•æœ‰ä¸‰å±‚ç»“æ„ï¼Œç¬¬ä¸€å±‚æ˜¯ä¸€ä¸ª16çº§çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼ˆLSFRï¼Œlinear feedback shift registerï¼‰ã€‚ä¸­é—´æ˜¯ä¸€ä¸ªæ¯”ç‰¹é‡ç»„å±‚ï¼ˆBRï¼Œbit-reorganizationï¼‰ã€‚æœ€ä¸‹å±‚æ˜¯ä¸€ä¸ªéçº¿æ€§å‡½æ•°$F$ã€‚</p>
<p><img data-src="https://s1.ax1x.com/2020/09/22/wOM9TU.jpg" alt="ZUCç®—æ³•ç»“æ„"></p>
<h2 id="3-2-çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼ˆLSFRï¼‰"><a href="#3-2-çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼ˆLSFRï¼‰" class="headerlink" title="3.2 çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼ˆLSFRï¼‰"></a>3.2 çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼ˆLSFRï¼‰</h2><p>çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼ˆLSFRï¼‰æœ‰<strong>16</strong>ä¸ª<strong>31</strong>æ¯”ç‰¹çš„å•å…ƒï¼ˆ$s_0, s_1, â€¦ , s_{15}, s_i\in {1, 2, 3, â€¦ , 2^{31}-1}$ï¼‰ï¼Œå®ƒçš„è¿è¡Œæœ‰ä¸¤ç§æ¨¡å¼ï¼šåˆå§‹åŒ–æ¨¡å¼å’Œå·¥ä½œæ¨¡å¼ã€‚</p>
<p>åœ¨<strong>åˆå§‹åŒ–é˜¶æ®µ</strong>ï¼ŒLFSRè¯»å…¥ä¸€ä¸ª<strong>31</strong>ä½çš„è¾“å…¥å­— <code>u</code> ï¼Œå®ƒé€šè¿‡ä»éçº¿æ€§å‡½æ•° <code>F</code> çš„<strong>32</strong>ä½è¾“å‡º <code>W</code> ä¸­åˆ é™¤æœ€å³è¾¹çš„ä½æ¥è·å¾—ï¼Œä¾‹å¦‚ï¼š<code>u = W &gt;&gt; 1</code>ï¼Œå…·ä½“çš„å·¥ä½œæ–¹å¼å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
\begin{align*}
& \space LSFRWithInitializationMode(u): \\\\
& 1. \qquad v = 2^{15}s_{15}+2^{17}s_{13}+2^{21}s_{10}+2^{20}s_{4}+(1 + 2^8)s_0\space mod(2^{31}-1) \\\\
& 2. \qquad s_{16} = (v + u)\space mod(2^{31} - 1) \\\\
& 3. \qquad if s_{16}=0, then\space set\space s_{16}=2^{31} - 1 \\\\
& 4. \qquad(s_1, s_2, ... s_{16})\to(s_0, s_1, ... , s_{15})\\\\
\end{align*}</script><p>åœ¨<strong>å·¥ä½œé˜¶æ®µ</strong>ï¼ŒLSFRä¸ä¼šæ¥æ”¶ä»»ä½•è¾“å…¥ï¼Œå¹¶ä¸”æŒ‰ç…§ä¸‹é¢æ–¹å¼å·¥ä½œï¼š</p>
<script type="math/tex; mode=display">
\begin{align*}
&LFSRWithWorkMode() \\\\
&1. \qquad s_{16} = 2^{15}s_{15}+2^{17}s_{13}+2^{21}s_{10}+2^{20}s_{4}+(1+2^8)s_0\space mod(2^{31} - 1)\\\\
&2. \qquad if\space s_{16}=0,\space then \space set \space s_{16}=2^{31} - 1\\\\
&3. \qquad(s_1, s_2, ... s_{16})\to(s_0, s_1, ... , s_{15})\\\\
\end{align*}</script><p><strong>Tipsï¼š</strong>åœ¨ <code>LFSRWithInitializationMode</code> å‡½æ•°ä¸­çš„ Step.1 ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ“ä½œæ¥å®ç°ï¼š</p>
<script type="math/tex; mode=display">
v=(s_{15}<<<_{31}15)+(s_{13}<<<_{31}17)+(s_{10}<<<_{31}21)+(s_{4}<<<_{31}20)+(s_{0}<<<_{31}8)+s_{0}\space mod(2^{31}-1)</script><p>å½“ç„¶ï¼Œå¯ä»¥ç±»æ¯”ç€å¯¹ <code>LFSRWithWordMode()</code> ä¸­çš„ Step.1 è¿›è¡Œå®ç°ã€‚</p>
<h2 id="3-3-æ¯”ç‰¹é‡ç»„ï¼ˆBRï¼‰"><a href="#3-3-æ¯”ç‰¹é‡ç»„ï¼ˆBRï¼‰" class="headerlink" title="3.3 æ¯”ç‰¹é‡ç»„ï¼ˆBRï¼‰"></a>3.3 æ¯”ç‰¹é‡ç»„ï¼ˆBRï¼‰</h2><p>ä¸­é—´å±‚æ˜¯ä¸€ä¸ªæ¯”ç‰¹é‡ç»„ç®—æ³•ã€‚å®ƒä»<strong>LFSR</strong>ä¸­æå–å‡ºæ¥ <code>128</code> æ¯”ç‰¹ï¼Œç„¶åç»„æˆ <code>4</code> ä¸ª <code>32</code> ä½çš„å­—ï¼Œå‰ä¸‰ä¸ªå­—æ˜¯æä¾›ç»™åº•å±‚éçº¿æ€§ <code>F</code> å‡½æ•°ä½¿ç”¨çš„ï¼Œæœ€åä¸€ä¸ªå­—ç”¨æ¥ç”Ÿæˆå¯†é’¥æµã€‚é‡ç»„åçš„ $X_0, X_1, X_2, X_3$ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<script type="math/tex; mode=display">
\begin{align*}
&Bitreorganization() \\\\
&1. \qquad X_0 = s_{15H}||s_{14L}\\\\
&2. \qquad X_1 = s_{11L}||s_{9H}\\\\
&3. \qquad X_2 = s_{7L}||s_{5H}\\\\
&4. \qquad X_3 = s_{2L}||s_{0H}
\end{align*}</script><p>æ³¨æ„ï¼šè¿™é‡Œçš„ $s_i$ æ˜¯ <code>31</code> æ¯”ç‰¹çš„æ•´æ•°ç±»å‹ï¼Œæ‰€ä»¥ $s_{iH}$ è¡¨ç¤ºçš„æ˜¯ $s_i$ çš„ <code>30...15</code> ä½è€Œä¸æ˜¯ <code>31...16</code> ä½ã€‚</p>
<h2 id="3-4-éçº¿æ€§å‡½æ•°-F"><a href="#3-4-éçº¿æ€§å‡½æ•°-F" class="headerlink" title="3.4 éçº¿æ€§å‡½æ•° F"></a>3.4 éçº¿æ€§å‡½æ•° F</h2><p>éçº¿æ€§å‡½æ•° <code>F</code> æœ‰ä¸¤ä¸ª <code>32</code> æ¯”ç‰¹çš„è®°å¿†å•å…ƒ $R_1$ å’Œ $R_2$ï¼Œè¾“å…¥ä¸º <code>3</code> ä¸ª <code>32</code> æ¯”ç‰¹çš„å­—ï¼š$X_0, X_1, X_2$ï¼Œè¾“å‡ºä¸€ä¸ª <code>32</code> æ¯”ç‰¹çš„å­— <code>W</code>ã€‚å…·ä½“æè¿°å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
\begin{align*}
&F(X_0, X_1, X_2) \\\\
&1. \qquad W = (X_0\oplus R_1)\boxplus R_2 \\\\
&2. \qquad W_1 = (R_1\boxplus X_1) \\\\
&3. \qquad W_2 = (R_2\oplus X_2) \\\\
&4. \qquad R_1 = S(L_1(W_{1L}||W_{2H})) \\\\
&5. \qquad R_2 = S(L_2(W_{2L}||W_{1H}))
\end{align*}</script><p>è¿™é‡Œçš„ <code>S</code> æ˜¯ä¸€ä¸ª <code>32*32</code> å¤§å°çš„ <code>S-Box</code>ï¼Œè€Œ $L_1$ï¼Œ$L_2$ æ˜¯çº¿æ€§å˜æ¢ã€‚</p>
<h3 id="3-4-1-S-Box"><a href="#3-4-1-S-Box" class="headerlink" title="3.4.1 S-Box"></a>3.4.1 S-Box</h3><p><code>32*32</code>å¤§å°çš„ <code>S-Box</code>ï¼ˆ<code>S</code>ï¼‰ï¼Œå…¶å®æ˜¯å››ä¸ªå¤§å°ä¸º <code>8*8</code>çš„ <code>S-boxes</code> å¹¶ç½®è€Œæˆï¼Œä¾‹å¦‚ï¼š$S=(S_0, S_1, S_2, S_3)$ï¼Œè¿™é‡Œçš„ $S_0 = S_2,S_1 = S_3$ã€‚é‚£ä¹ˆ $S_0$ å’Œ $S_1$ å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> S0[<span class="number">256</span>] = &#123;</span><br><span class="line">    <span class="number">0x3e</span>,<span class="number">0x72</span>,<span class="number">0x5b</span>,<span class="number">0x47</span>,<span class="number">0xca</span>,<span class="number">0xe0</span>,<span class="number">0x00</span>,<span class="number">0x33</span>,<span class="number">0x04</span>,<span class="number">0xd1</span>,<span class="number">0x54</span>,<span class="number">0x98</span>,<span class="number">0x09</span>,<span class="number">0xb9</span>,<span class="number">0x6d</span>,<span class="number">0xcb</span>,</span><br><span class="line">    <span class="number">0x7b</span>,<span class="number">0x1b</span>,<span class="number">0xf9</span>,<span class="number">0x32</span>,<span class="number">0xaf</span>,<span class="number">0x9d</span>,<span class="number">0x6a</span>,<span class="number">0xa5</span>,<span class="number">0xb8</span>,<span class="number">0x2d</span>,<span class="number">0xfc</span>,<span class="number">0x1d</span>,<span class="number">0x08</span>,<span class="number">0x53</span>,<span class="number">0x03</span>,<span class="number">0x90</span>,</span><br><span class="line">    <span class="number">0x4d</span>,<span class="number">0x4e</span>,<span class="number">0x84</span>,<span class="number">0x99</span>,<span class="number">0xe4</span>,<span class="number">0xce</span>,<span class="number">0xd9</span>,<span class="number">0x91</span>,<span class="number">0xdd</span>,<span class="number">0xb6</span>,<span class="number">0x85</span>,<span class="number">0x48</span>,<span class="number">0x8b</span>,<span class="number">0x29</span>,<span class="number">0x6e</span>,<span class="number">0xac</span>,</span><br><span class="line">    <span class="number">0xcd</span>,<span class="number">0xc1</span>,<span class="number">0xf8</span>,<span class="number">0x1e</span>,<span class="number">0x73</span>,<span class="number">0x43</span>,<span class="number">0x69</span>,<span class="number">0xc6</span>,<span class="number">0xb5</span>,<span class="number">0xbd</span>,<span class="number">0xfd</span>,<span class="number">0x39</span>,<span class="number">0x63</span>,<span class="number">0x20</span>,<span class="number">0xd4</span>,<span class="number">0x38</span>,</span><br><span class="line">    <span class="number">0x76</span>,<span class="number">0x7d</span>,<span class="number">0xb2</span>,<span class="number">0xa7</span>,<span class="number">0xcf</span>,<span class="number">0xed</span>,<span class="number">0x57</span>,<span class="number">0xc5</span>,<span class="number">0xf3</span>,<span class="number">0x2c</span>,<span class="number">0xbb</span>,<span class="number">0x14</span>,<span class="number">0x21</span>,<span class="number">0x06</span>,<span class="number">0x55</span>,<span class="number">0x9b</span>,</span><br><span class="line">    <span class="number">0xe3</span>,<span class="number">0xef</span>,<span class="number">0x5e</span>,<span class="number">0x31</span>,<span class="number">0x4f</span>,<span class="number">0x7f</span>,<span class="number">0x5a</span>,<span class="number">0xa4</span>,<span class="number">0x0d</span>,<span class="number">0x82</span>,<span class="number">0x51</span>,<span class="number">0x49</span>,<span class="number">0x5f</span>,<span class="number">0xba</span>,<span class="number">0x58</span>,<span class="number">0x1c</span>,</span><br><span class="line">    <span class="number">0x4a</span>,<span class="number">0x16</span>,<span class="number">0xd5</span>,<span class="number">0x17</span>,<span class="number">0xa8</span>,<span class="number">0x92</span>,<span class="number">0x24</span>,<span class="number">0x1f</span>,<span class="number">0x8c</span>,<span class="number">0xff</span>,<span class="number">0xd8</span>,<span class="number">0xae</span>,<span class="number">0x2e</span>,<span class="number">0x01</span>,<span class="number">0xd3</span>,<span class="number">0xad</span>,</span><br><span class="line">    <span class="number">0x3b</span>,<span class="number">0x4b</span>,<span class="number">0xda</span>,<span class="number">0x46</span>,<span class="number">0xeb</span>,<span class="number">0xc9</span>,<span class="number">0xde</span>,<span class="number">0x9a</span>,<span class="number">0x8f</span>,<span class="number">0x87</span>,<span class="number">0xd7</span>,<span class="number">0x3a</span>,<span class="number">0x80</span>,<span class="number">0x6f</span>,<span class="number">0x2f</span>,<span class="number">0xc8</span>,</span><br><span class="line">    <span class="number">0xb1</span>,<span class="number">0xb4</span>,<span class="number">0x37</span>,<span class="number">0xf7</span>,<span class="number">0x0a</span>,<span class="number">0x22</span>,<span class="number">0x13</span>,<span class="number">0x28</span>,<span class="number">0x7c</span>,<span class="number">0xcc</span>,<span class="number">0x3c</span>,<span class="number">0x89</span>,<span class="number">0xc7</span>,<span class="number">0xc3</span>,<span class="number">0x96</span>,<span class="number">0x56</span>,</span><br><span class="line">    <span class="number">0x07</span>,<span class="number">0xbf</span>,<span class="number">0x7e</span>,<span class="number">0xf0</span>,<span class="number">0x0b</span>,<span class="number">0x2b</span>,<span class="number">0x97</span>,<span class="number">0x52</span>,<span class="number">0x35</span>,<span class="number">0x41</span>,<span class="number">0x79</span>,<span class="number">0x61</span>,<span class="number">0xa6</span>,<span class="number">0x4c</span>,<span class="number">0x10</span>,<span class="number">0xfe</span>,</span><br><span class="line">    <span class="number">0xbc</span>,<span class="number">0x26</span>,<span class="number">0x95</span>,<span class="number">0x88</span>,<span class="number">0x8a</span>,<span class="number">0xb0</span>,<span class="number">0xa3</span>,<span class="number">0xfb</span>,<span class="number">0xc0</span>,<span class="number">0x18</span>,<span class="number">0x94</span>,<span class="number">0xf2</span>,<span class="number">0xe1</span>,<span class="number">0xe5</span>,<span class="number">0xe9</span>,<span class="number">0x5d</span>,</span><br><span class="line">    <span class="number">0xd0</span>,<span class="number">0xdc</span>,<span class="number">0x11</span>,<span class="number">0x66</span>,<span class="number">0x64</span>,<span class="number">0x5c</span>,<span class="number">0xec</span>,<span class="number">0x59</span>,<span class="number">0x42</span>,<span class="number">0x75</span>,<span class="number">0x12</span>,<span class="number">0xf5</span>,<span class="number">0x74</span>,<span class="number">0x9c</span>,<span class="number">0xaa</span>,<span class="number">0x23</span>,</span><br><span class="line">    <span class="number">0x0e</span>,<span class="number">0x86</span>,<span class="number">0xab</span>,<span class="number">0xbe</span>,<span class="number">0x2a</span>,<span class="number">0x02</span>,<span class="number">0xe7</span>,<span class="number">0x67</span>,<span class="number">0xe6</span>,<span class="number">0x44</span>,<span class="number">0xa2</span>,<span class="number">0x6c</span>,<span class="number">0xc2</span>,<span class="number">0x93</span>,<span class="number">0x9f</span>,<span class="number">0xf1</span>,</span><br><span class="line">    <span class="number">0xf6</span>,<span class="number">0xfa</span>,<span class="number">0x36</span>,<span class="number">0xd2</span>,<span class="number">0x50</span>,<span class="number">0x68</span>,<span class="number">0x9e</span>,<span class="number">0x62</span>,<span class="number">0x71</span>,<span class="number">0x15</span>,<span class="number">0x3d</span>,<span class="number">0xd6</span>,<span class="number">0x40</span>,<span class="number">0xc4</span>,<span class="number">0xe2</span>,<span class="number">0x0f</span>,</span><br><span class="line">    <span class="number">0x8e</span>,<span class="number">0x83</span>,<span class="number">0x77</span>,<span class="number">0x6b</span>,<span class="number">0x25</span>,<span class="number">0x05</span>,<span class="number">0x3f</span>,<span class="number">0x0c</span>,<span class="number">0x30</span>,<span class="number">0xea</span>,<span class="number">0x70</span>,<span class="number">0xb7</span>,<span class="number">0xa1</span>,<span class="number">0xe8</span>,<span class="number">0xa9</span>,<span class="number">0x65</span>,</span><br><span class="line">    <span class="number">0x8d</span>,<span class="number">0x27</span>,<span class="number">0x1a</span>,<span class="number">0xdb</span>,<span class="number">0x81</span>,<span class="number">0xb3</span>,<span class="number">0xa0</span>,<span class="number">0xf4</span>,<span class="number">0x45</span>,<span class="number">0x7a</span>,<span class="number">0x19</span>,<span class="number">0xdf</span>,<span class="number">0xee</span>,<span class="number">0x78</span>,<span class="number">0x34</span>,<span class="number">0x60</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> S1[<span class="number">256</span>] = &#123;</span><br><span class="line">    <span class="number">0x55</span>,<span class="number">0xc2</span>,<span class="number">0x63</span>,<span class="number">0x71</span>,<span class="number">0x3b</span>,<span class="number">0xc8</span>,<span class="number">0x47</span>,<span class="number">0x86</span>,<span class="number">0x9f</span>,<span class="number">0x3c</span>,<span class="number">0xda</span>,<span class="number">0x5b</span>,<span class="number">0x29</span>,<span class="number">0xaa</span>,<span class="number">0xfd</span>,<span class="number">0x77</span>,</span><br><span class="line">    <span class="number">0x8c</span>,<span class="number">0xc5</span>,<span class="number">0x94</span>,<span class="number">0x0c</span>,<span class="number">0xa6</span>,<span class="number">0x1a</span>,<span class="number">0x13</span>,<span class="number">0x00</span>,<span class="number">0xe3</span>,<span class="number">0xa8</span>,<span class="number">0x16</span>,<span class="number">0x72</span>,<span class="number">0x40</span>,<span class="number">0xf9</span>,<span class="number">0xf8</span>,<span class="number">0x42</span>,</span><br><span class="line">    <span class="number">0x44</span>,<span class="number">0x26</span>,<span class="number">0x68</span>,<span class="number">0x96</span>,<span class="number">0x81</span>,<span class="number">0xd9</span>,<span class="number">0x45</span>,<span class="number">0x3e</span>,<span class="number">0x10</span>,<span class="number">0x76</span>,<span class="number">0xc6</span>,<span class="number">0xa7</span>,<span class="number">0x8b</span>,<span class="number">0x39</span>,<span class="number">0x43</span>,<span class="number">0xe1</span>,</span><br><span class="line">    <span class="number">0x3a</span>,<span class="number">0xb5</span>,<span class="number">0x56</span>,<span class="number">0x2a</span>,<span class="number">0xc0</span>,<span class="number">0x6d</span>,<span class="number">0xb3</span>,<span class="number">0x05</span>,<span class="number">0x22</span>,<span class="number">0x66</span>,<span class="number">0xbf</span>,<span class="number">0xdc</span>,<span class="number">0x0b</span>,<span class="number">0xfa</span>,<span class="number">0x62</span>,<span class="number">0x48</span>,</span><br><span class="line">    <span class="number">0xdd</span>,<span class="number">0x20</span>,<span class="number">0x11</span>,<span class="number">0x06</span>,<span class="number">0x36</span>,<span class="number">0xc9</span>,<span class="number">0xc1</span>,<span class="number">0xcf</span>,<span class="number">0xf6</span>,<span class="number">0x27</span>,<span class="number">0x52</span>,<span class="number">0xbb</span>,<span class="number">0x69</span>,<span class="number">0xf5</span>,<span class="number">0xd4</span>,<span class="number">0x87</span>,</span><br><span class="line">    <span class="number">0x7f</span>,<span class="number">0x84</span>,<span class="number">0x4c</span>,<span class="number">0xd2</span>,<span class="number">0x9c</span>,<span class="number">0x57</span>,<span class="number">0xa4</span>,<span class="number">0xbc</span>,<span class="number">0x4f</span>,<span class="number">0x9a</span>,<span class="number">0xdf</span>,<span class="number">0xfe</span>,<span class="number">0xd6</span>,<span class="number">0x8d</span>,<span class="number">0x7a</span>,<span class="number">0xeb</span>,</span><br><span class="line">    <span class="number">0x2b</span>,<span class="number">0x53</span>,<span class="number">0xd8</span>,<span class="number">0x5c</span>,<span class="number">0xa1</span>,<span class="number">0x14</span>,<span class="number">0x17</span>,<span class="number">0xfb</span>,<span class="number">0x23</span>,<span class="number">0xd5</span>,<span class="number">0x7d</span>,<span class="number">0x30</span>,<span class="number">0x67</span>,<span class="number">0x73</span>,<span class="number">0x08</span>,<span class="number">0x09</span>,</span><br><span class="line">    <span class="number">0xee</span>,<span class="number">0xb7</span>,<span class="number">0x70</span>,<span class="number">0x3f</span>,<span class="number">0x61</span>,<span class="number">0xb2</span>,<span class="number">0x19</span>,<span class="number">0x8e</span>,<span class="number">0x4e</span>,<span class="number">0xe5</span>,<span class="number">0x4b</span>,<span class="number">0x93</span>,<span class="number">0x8f</span>,<span class="number">0x5d</span>,<span class="number">0xdb</span>,<span class="number">0xa9</span>,</span><br><span class="line">    <span class="number">0xad</span>,<span class="number">0xf1</span>,<span class="number">0xae</span>,<span class="number">0x2e</span>,<span class="number">0xcb</span>,<span class="number">0x0d</span>,<span class="number">0xfc</span>,<span class="number">0xf4</span>,<span class="number">0x2d</span>,<span class="number">0x46</span>,<span class="number">0x6e</span>,<span class="number">0x1d</span>,<span class="number">0x97</span>,<span class="number">0xe8</span>,<span class="number">0xd1</span>,<span class="number">0xe9</span>,</span><br><span class="line">    <span class="number">0x4d</span>,<span class="number">0x37</span>,<span class="number">0xa5</span>,<span class="number">0x75</span>,<span class="number">0x5e</span>,<span class="number">0x83</span>,<span class="number">0x9e</span>,<span class="number">0xab</span>,<span class="number">0x82</span>,<span class="number">0x9d</span>,<span class="number">0xb9</span>,<span class="number">0x1c</span>,<span class="number">0xe0</span>,<span class="number">0xcd</span>,<span class="number">0x49</span>,<span class="number">0x89</span>,</span><br><span class="line">    <span class="number">0x01</span>,<span class="number">0xb6</span>,<span class="number">0xbd</span>,<span class="number">0x58</span>,<span class="number">0x24</span>,<span class="number">0xa2</span>,<span class="number">0x5f</span>,<span class="number">0x38</span>,<span class="number">0x78</span>,<span class="number">0x99</span>,<span class="number">0x15</span>,<span class="number">0x90</span>,<span class="number">0x50</span>,<span class="number">0xb8</span>,<span class="number">0x95</span>,<span class="number">0xe4</span>,</span><br><span class="line">    <span class="number">0xd0</span>,<span class="number">0x91</span>,<span class="number">0xc7</span>,<span class="number">0xce</span>,<span class="number">0xed</span>,<span class="number">0x0f</span>,<span class="number">0xb4</span>,<span class="number">0x6f</span>,<span class="number">0xa0</span>,<span class="number">0xcc</span>,<span class="number">0xf0</span>,<span class="number">0x02</span>,<span class="number">0x4a</span>,<span class="number">0x79</span>,<span class="number">0xc3</span>,<span class="number">0xde</span>,</span><br><span class="line">    <span class="number">0xa3</span>,<span class="number">0xef</span>,<span class="number">0xea</span>,<span class="number">0x51</span>,<span class="number">0xe6</span>,<span class="number">0x6b</span>,<span class="number">0x18</span>,<span class="number">0xec</span>,<span class="number">0x1b</span>,<span class="number">0x2c</span>,<span class="number">0x80</span>,<span class="number">0xf7</span>,<span class="number">0x74</span>,<span class="number">0xe7</span>,<span class="number">0xff</span>,<span class="number">0x21</span>,</span><br><span class="line">    <span class="number">0x5a</span>,<span class="number">0x6a</span>,<span class="number">0x54</span>,<span class="number">0x1e</span>,<span class="number">0x41</span>,<span class="number">0x31</span>,<span class="number">0x92</span>,<span class="number">0x35</span>,<span class="number">0xc4</span>,<span class="number">0x33</span>,<span class="number">0x07</span>,<span class="number">0x0a</span>,<span class="number">0xba</span>,<span class="number">0x7e</span>,<span class="number">0x0e</span>,<span class="number">0x34</span>,</span><br><span class="line">    <span class="number">0x88</span>,<span class="number">0xb1</span>,<span class="number">0x98</span>,<span class="number">0x7c</span>,<span class="number">0xf3</span>,<span class="number">0x3d</span>,<span class="number">0x60</span>,<span class="number">0x6c</span>,<span class="number">0x7b</span>,<span class="number">0xca</span>,<span class="number">0xd3</span>,<span class="number">0x1f</span>,<span class="number">0x32</span>,<span class="number">0x65</span>,<span class="number">0x04</span>,<span class="number">0x28</span>,</span><br><span class="line">    <span class="number">0x64</span>,<span class="number">0xbe</span>,<span class="number">0x85</span>,<span class="number">0x9b</span>,<span class="number">0x2f</span>,<span class="number">0x59</span>,<span class="number">0x8a</span>,<span class="number">0xd7</span>,<span class="number">0xb0</span>,<span class="number">0x25</span>,<span class="number">0xac</span>,<span class="number">0xaf</span>,<span class="number">0x12</span>,<span class="number">0x03</span>,<span class="number">0xe2</span>,<span class="number">0xf2</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="3-4-2-çº¿æ€§å˜æ¢"><a href="#3-4-2-çº¿æ€§å˜æ¢" class="headerlink" title="3.4.2 çº¿æ€§å˜æ¢"></a>3.4.2 çº¿æ€§å˜æ¢</h3><p>å¯¹äº $L_1$ å’Œ $L_2$ çº¿æ€§å˜æ¢è€Œè¨€ï¼Œéƒ½æ˜¯å°† <code>32</code> ä½çš„å­—è½¬æ¢æˆå¦ä¸€ä¸ª <code>32</code> ä½çš„å­—ï¼Œå…·ä½“è½¬æ¢å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
L_1(X)=X\oplus (X<<<_{32}2)\oplus (X<<<_{32}10)\oplus (X<<<_{32}18) \oplus(X<<<_{32}24)\\\\
L_2(X)=X\oplus (X<<<_{32}8)\oplus (X<<<_{32}14)\oplus (X<<<_{32}22) \oplus(X<<<_{32}30)</script><h2 id="3-5-å¯†é’¥è£…å…¥"><a href="#3-5-å¯†é’¥è£…å…¥" class="headerlink" title="3.5 å¯†é’¥è£…å…¥"></a>3.5 å¯†é’¥è£…å…¥</h2><p>å¯†é’¥è£…å…¥è¿‡ç¨‹ï¼Œå°†ä¼šæŠŠåˆå§‹å¯†é’¥ <code>k(128 bits)</code> å’Œ <code>iv(128 bits)</code> æ‰©å±•æˆ <code>16</code> ä¸ª <code>31</code> ä½æ•´æ•°ï¼Œä½œä¸º <code>LFSR</code> çš„åˆå§‹çŠ¶æ€ã€‚</p>
<p>è£…è½½è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
k = k_0||k_1||k_2||...||k_{15}</script><p>å’Œï¼š</p>
<script type="math/tex; mode=display">
iv=iv_0||iv_1||...||iv_{15}</script><p>è¿™é‡Œçš„ $k_i$ å’Œ $iv_i$ å‡ä¸º <code>8</code> ä½çš„å­—èŠ‚ï¼Œç„¶åæ„é€  <code>D</code>ï¼Œ <code>D</code> ä¸º <code>240</code> æ¯”ç‰¹çš„å¸¸é‡ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼åˆ†æˆ <code>16</code> ä¸ª <code>15</code> ä½çš„å­ä¸²ï¼š</p>
<script type="math/tex; mode=display">
\begin{align*}
d_0 = 100010011010111_2, \\\\
d_1 = 010011010111100_2,\\\\
d_2 = 110001001101011_2,\\\\
d_3 = 001001101011110_2,\\\\
d_4 = 101011110001001_2,\\\\
d_5 = 011010111100010_2,\\\\
d_6 = 111000100110101_2,\\\\
d_7 = 000100110101111_2,\\\\
d_8= 100110101111000_2,\\\\
d_9 = 010111100010011_2,\\\\
d_{10} = 110101111000100_2,\\\\
d_{11} = 001101011110001_2,\\\\
\end{align*}</script><p>é‚£ä¹ˆ $D=d_0||d_1||â€¦||d_{15}$ã€‚</p>
<p>å¯¹äº $s_i$ï¼Œæœ‰ï¼š$s_i = k_i||d_i||iv_i$ã€‚</p>
<h1 id="3-6-ZUCç®—æ³•æ‰§è¡Œè¿‡ç¨‹"><a href="#3-6-ZUCç®—æ³•æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="3.6 ZUCç®—æ³•æ‰§è¡Œè¿‡ç¨‹"></a>3.6 ZUCç®—æ³•æ‰§è¡Œè¿‡ç¨‹</h1><p>ä¸¤ä¸ªé˜¶æ®µï¼šåˆå§‹åŒ–é˜¶æ®µå’Œå·¥ä½œé˜¶æ®µã€‚</p>
<h2 id="3-6-1-åˆå§‹åŒ–é˜¶æ®µ"><a href="#3-6-1-åˆå§‹åŒ–é˜¶æ®µ" class="headerlink" title="3.6.1 åˆå§‹åŒ–é˜¶æ®µ"></a>3.6.1 åˆå§‹åŒ–é˜¶æ®µ</h2><p>åœ¨åˆå§‹åŒ–é˜¶æ®µï¼Œç®—æ³•å°† <code>128</code> æ¯”ç‰¹çš„ <code>key</code> å’Œ <code>iv</code> è½½å…¥å¹¶å¤„ç†ï¼Œç„¶åè£…å…¥åˆ° <code>LFSR</code> ä¸­ï¼Œä¸æ­¤åŒæ—¶ï¼Œè®¾ç½® <code>32</code> æ¯”ç‰¹çš„è®°å¿†å•å…ƒ $R_1$ å’Œ $R_2$ï¼ˆåˆå§‹åŒ–ä¸º <code>0</code>ï¼‰ã€‚ç„¶åæ‰§è¡Œä¸‹é¢çš„æ“ä½œ <code>31</code> æ¬¡ã€‚</p>
<script type="math/tex; mode=display">
\begin{align*}
&1. \qquad Bitreorganization()\\\\
&2. \qquad w=F(X_0,X_1,X_2)\\\\
&3. \qquad LFSRWithInitializationMode(w>>1)\\\\
\end{align*}</script><h3 id="3-6-2-å·¥ä½œé˜¶æ®µ"><a href="#3-6-2-å·¥ä½œé˜¶æ®µ" class="headerlink" title="3.6.2 å·¥ä½œé˜¶æ®µ"></a>3.6.2 å·¥ä½œé˜¶æ®µ</h3><p>åˆå§‹åŒ–å®Œæˆåï¼Œç®—æ³•ç«‹åˆ»è¿›å…¥å·¥ä½œé˜¶æ®µã€‚åœ¨è¯¥é˜¶æ®µï¼Œç®—æ³•æ‰§è¡Œä¸‹é¢æ“ä½œä¸€æ¬¡ï¼Œå¹¶ä¸”ä¸¢æ‰ <code>F</code> çš„è¾“å‡º <code>W</code>ï¼š</p>
<script type="math/tex; mode=display">
\begin{align*}
&1. \qquad Bitreorganization()\\\\
&2. \qquad F(X_0,X_1,X_2) \\\\
&3. \qquad LFSRWithWorkMode()\\\\
\end{align*}</script><p>ç„¶åç®—æ³•å†è¿›å…¥å¯†é’¥æµäº§ç”Ÿé˜¶æ®µï¼Œåœ¨æ¯æ¬¡è¿­ä»£æ—¶ï¼Œä¸‹é¢æ“ä½œæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶è¾“å‡ºä¸€æ¬¡ <code>32</code> æ¯”ç‰¹çš„å­— <code>Z</code> ä½œä¸ºè¾“å‡ºã€‚</p>
<script type="math/tex; mode=display">
\begin{align*}
&1. \qquad Bitreorganization()\\\\
&2. \qquad Z=F(X_0,X_1,X_2)\oplus X_3 \\\\
&3. \qquad LFSRWithWorkMode()\\\\
\end{align*}</script><h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="A-Cè¯­è¨€å®ç°"><a href="#A-Cè¯­è¨€å®ç°" class="headerlink" title="A. Cè¯­è¨€å®ç°"></a>A. Cè¯­è¨€å®ç°</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;ZUC.h&quot;</span></span></span><br><span class="line"><span class="comment">/* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> u8;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> u32;</span><br><span class="line"><span class="comment">/* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- */</span></span><br><span class="line"><span class="comment">/* the state registers of LFSR */</span></span><br><span class="line">u32 LFSR_S0;</span><br><span class="line">u32 LFSR_S1;</span><br><span class="line">u32 LFSR_S2;</span><br><span class="line">u32 LFSR_S3;</span><br><span class="line">u32 LFSR_S4;</span><br><span class="line">u32 LFSR_S5;</span><br><span class="line">u32 LFSR_S6;</span><br><span class="line">u32 LFSR_S7;</span><br><span class="line">u32 LFSR_S8;</span><br><span class="line">u32 LFSR_S9;</span><br><span class="line">u32 LFSR_S10;</span><br><span class="line">u32 LFSR_S11;</span><br><span class="line">u32 LFSR_S12;</span><br><span class="line">u32 LFSR_S13;</span><br><span class="line">u32 LFSR_S14;</span><br><span class="line">u32 LFSR_S15;</span><br><span class="line"><span class="comment">/* the registers of F */</span></span><br><span class="line">u32 F_R1;</span><br><span class="line">u32 F_R2;</span><br><span class="line"><span class="comment">/* the outputs of BitReorganization */</span></span><br><span class="line">u32 BRC_X0;</span><br><span class="line">u32 BRC_X1;</span><br><span class="line">u32 BRC_X2;</span><br><span class="line">u32 BRC_X3;</span><br><span class="line"><span class="comment">/* the s-boxes */</span></span><br><span class="line">u8 S0[<span class="number">256</span>] = &#123;</span><br><span class="line">        <span class="number">0x3e</span>, <span class="number">0x72</span>, <span class="number">0x5b</span>, <span class="number">0x47</span>, <span class="number">0xca</span>, <span class="number">0xe0</span>, <span class="number">0x00</span>, <span class="number">0x33</span>, <span class="number">0x04</span>, <span class="number">0xd1</span>, <span class="number">0x54</span>, <span class="number">0x98</span>, <span class="number">0x09</span>, <span class="number">0xb9</span>, <span class="number">0x6d</span>, <span class="number">0xcb</span>,</span><br><span class="line">        <span class="number">0x7b</span>, <span class="number">0x1b</span>, <span class="number">0xf9</span>, <span class="number">0x32</span>, <span class="number">0xaf</span>, <span class="number">0x9d</span>, <span class="number">0x6a</span>, <span class="number">0xa5</span>, <span class="number">0xb8</span>, <span class="number">0x2d</span>, <span class="number">0xfc</span>, <span class="number">0x1d</span>, <span class="number">0x08</span>, <span class="number">0x53</span>, <span class="number">0x03</span>, <span class="number">0x90</span>,</span><br><span class="line">        <span class="number">0x4d</span>, <span class="number">0x4e</span>, <span class="number">0x84</span>, <span class="number">0x99</span>, <span class="number">0xe4</span>, <span class="number">0xce</span>, <span class="number">0xd9</span>, <span class="number">0x91</span>, <span class="number">0xdd</span>, <span class="number">0xb6</span>, <span class="number">0x85</span>, <span class="number">0x48</span>, <span class="number">0x8b</span>, <span class="number">0x29</span>, <span class="number">0x6e</span>, <span class="number">0xac</span>,</span><br><span class="line">        <span class="number">0xcd</span>, <span class="number">0xc1</span>, <span class="number">0xf8</span>, <span class="number">0x1e</span>, <span class="number">0x73</span>, <span class="number">0x43</span>, <span class="number">0x69</span>, <span class="number">0xc6</span>, <span class="number">0xb5</span>, <span class="number">0xbd</span>, <span class="number">0xfd</span>, <span class="number">0x39</span>, <span class="number">0x63</span>, <span class="number">0x20</span>, <span class="number">0xd4</span>, <span class="number">0x38</span>,</span><br><span class="line">        <span class="number">0x76</span>, <span class="number">0x7d</span>, <span class="number">0xb2</span>, <span class="number">0xa7</span>, <span class="number">0xcf</span>, <span class="number">0xed</span>, <span class="number">0x57</span>, <span class="number">0xc5</span>, <span class="number">0xf3</span>, <span class="number">0x2c</span>, <span class="number">0xbb</span>, <span class="number">0x14</span>, <span class="number">0x21</span>, <span class="number">0x06</span>, <span class="number">0x55</span>, <span class="number">0x9b</span>,</span><br><span class="line">        <span class="number">0xe3</span>, <span class="number">0xef</span>, <span class="number">0x5e</span>, <span class="number">0x31</span>, <span class="number">0x4f</span>, <span class="number">0x7f</span>, <span class="number">0x5a</span>, <span class="number">0xa4</span>, <span class="number">0x0d</span>, <span class="number">0x82</span>, <span class="number">0x51</span>, <span class="number">0x49</span>, <span class="number">0x5f</span>, <span class="number">0xba</span>, <span class="number">0x58</span>, <span class="number">0x1c</span>,</span><br><span class="line">        <span class="number">0x4a</span>, <span class="number">0x16</span>, <span class="number">0xd5</span>, <span class="number">0x17</span>, <span class="number">0xa8</span>, <span class="number">0x92</span>, <span class="number">0x24</span>, <span class="number">0x1f</span>, <span class="number">0x8c</span>, <span class="number">0xff</span>, <span class="number">0xd8</span>, <span class="number">0xae</span>, <span class="number">0x2e</span>, <span class="number">0x01</span>, <span class="number">0xd3</span>, <span class="number">0xad</span>,</span><br><span class="line">        <span class="number">0x3b</span>, <span class="number">0x4b</span>, <span class="number">0xda</span>, <span class="number">0x46</span>, <span class="number">0xeb</span>, <span class="number">0xc9</span>, <span class="number">0xde</span>, <span class="number">0x9a</span>, <span class="number">0x8f</span>, <span class="number">0x87</span>, <span class="number">0xd7</span>, <span class="number">0x3a</span>, <span class="number">0x80</span>, <span class="number">0x6f</span>, <span class="number">0x2f</span>, <span class="number">0xc8</span>,</span><br><span class="line">        <span class="number">0xb1</span>, <span class="number">0xb4</span>, <span class="number">0x37</span>, <span class="number">0xf7</span>, <span class="number">0x0a</span>, <span class="number">0x22</span>, <span class="number">0x13</span>, <span class="number">0x28</span>, <span class="number">0x7c</span>, <span class="number">0xcc</span>, <span class="number">0x3c</span>, <span class="number">0x89</span>, <span class="number">0xc7</span>, <span class="number">0xc3</span>, <span class="number">0x96</span>, <span class="number">0x56</span>,</span><br><span class="line">        <span class="number">0x07</span>, <span class="number">0xbf</span>, <span class="number">0x7e</span>, <span class="number">0xf0</span>, <span class="number">0x0b</span>, <span class="number">0x2b</span>, <span class="number">0x97</span>, <span class="number">0x52</span>, <span class="number">0x35</span>, <span class="number">0x41</span>, <span class="number">0x79</span>, <span class="number">0x61</span>, <span class="number">0xa6</span>, <span class="number">0x4c</span>, <span class="number">0x10</span>, <span class="number">0xfe</span>,</span><br><span class="line">        <span class="number">0xbc</span>, <span class="number">0x26</span>, <span class="number">0x95</span>, <span class="number">0x88</span>, <span class="number">0x8a</span>, <span class="number">0xb0</span>, <span class="number">0xa3</span>, <span class="number">0xfb</span>, <span class="number">0xc0</span>, <span class="number">0x18</span>, <span class="number">0x94</span>, <span class="number">0xf2</span>, <span class="number">0xe1</span>, <span class="number">0xe5</span>, <span class="number">0xe9</span>, <span class="number">0x5d</span>,</span><br><span class="line">        <span class="number">0xd0</span>, <span class="number">0xdc</span>, <span class="number">0x11</span>, <span class="number">0x66</span>, <span class="number">0x64</span>, <span class="number">0x5c</span>, <span class="number">0xec</span>, <span class="number">0x59</span>, <span class="number">0x42</span>, <span class="number">0x75</span>, <span class="number">0x12</span>, <span class="number">0xf5</span>, <span class="number">0x74</span>, <span class="number">0x9c</span>, <span class="number">0xaa</span>, <span class="number">0x23</span>,</span><br><span class="line">        <span class="number">0x0e</span>, <span class="number">0x86</span>, <span class="number">0xab</span>, <span class="number">0xbe</span>, <span class="number">0x2a</span>, <span class="number">0x02</span>, <span class="number">0xe7</span>, <span class="number">0x67</span>, <span class="number">0xe6</span>, <span class="number">0x44</span>, <span class="number">0xa2</span>, <span class="number">0x6c</span>, <span class="number">0xc2</span>, <span class="number">0x93</span>, <span class="number">0x9f</span>, <span class="number">0xf1</span>,</span><br><span class="line">        <span class="number">0xf6</span>, <span class="number">0xfa</span>, <span class="number">0x36</span>, <span class="number">0xd2</span>, <span class="number">0x50</span>, <span class="number">0x68</span>, <span class="number">0x9e</span>, <span class="number">0x62</span>, <span class="number">0x71</span>, <span class="number">0x15</span>, <span class="number">0x3d</span>, <span class="number">0xd6</span>, <span class="number">0x40</span>, <span class="number">0xc4</span>, <span class="number">0xe2</span>, <span class="number">0x0f</span>,</span><br><span class="line">        <span class="number">0x8e</span>, <span class="number">0x83</span>, <span class="number">0x77</span>, <span class="number">0x6b</span>, <span class="number">0x25</span>, <span class="number">0x05</span>, <span class="number">0x3f</span>, <span class="number">0x0c</span>, <span class="number">0x30</span>, <span class="number">0xea</span>, <span class="number">0x70</span>, <span class="number">0xb7</span>, <span class="number">0xa1</span>, <span class="number">0xe8</span>, <span class="number">0xa9</span>, <span class="number">0x65</span>,</span><br><span class="line">        <span class="number">0x8d</span>, <span class="number">0x27</span>, <span class="number">0x1a</span>, <span class="number">0xdb</span>, <span class="number">0x81</span>, <span class="number">0xb3</span>, <span class="number">0xa0</span>, <span class="number">0xf4</span>, <span class="number">0x45</span>, <span class="number">0x7a</span>, <span class="number">0x19</span>, <span class="number">0xdf</span>, <span class="number">0xee</span>, <span class="number">0x78</span>, <span class="number">0x34</span>, <span class="number">0x60</span></span><br><span class="line">&#125;;</span><br><span class="line">u8 S1[<span class="number">256</span>] = &#123;</span><br><span class="line">        <span class="number">0x55</span>, <span class="number">0xc2</span>, <span class="number">0x63</span>, <span class="number">0x71</span>, <span class="number">0x3b</span>, <span class="number">0xc8</span>, <span class="number">0x47</span>, <span class="number">0x86</span>, <span class="number">0x9f</span>, <span class="number">0x3c</span>, <span class="number">0xda</span>, <span class="number">0x5b</span>, <span class="number">0x29</span>, <span class="number">0xaa</span>, <span class="number">0xfd</span>, <span class="number">0x77</span>,</span><br><span class="line">        <span class="number">0x8c</span>, <span class="number">0xc5</span>, <span class="number">0x94</span>, <span class="number">0x0c</span>, <span class="number">0xa6</span>, <span class="number">0x1a</span>, <span class="number">0x13</span>, <span class="number">0x00</span>, <span class="number">0xe3</span>, <span class="number">0xa8</span>, <span class="number">0x16</span>, <span class="number">0x72</span>, <span class="number">0x40</span>, <span class="number">0xf9</span>, <span class="number">0xf8</span>, <span class="number">0x42</span>,</span><br><span class="line">        <span class="number">0x44</span>, <span class="number">0x26</span>, <span class="number">0x68</span>, <span class="number">0x96</span>, <span class="number">0x81</span>, <span class="number">0xd9</span>, <span class="number">0x45</span>, <span class="number">0x3e</span>, <span class="number">0x10</span>, <span class="number">0x76</span>, <span class="number">0xc6</span>, <span class="number">0xa7</span>, <span class="number">0x8b</span>, <span class="number">0x39</span>, <span class="number">0x43</span>, <span class="number">0xe1</span>,</span><br><span class="line">        <span class="number">0x3a</span>, <span class="number">0xb5</span>, <span class="number">0x56</span>, <span class="number">0x2a</span>, <span class="number">0xc0</span>, <span class="number">0x6d</span>, <span class="number">0xb3</span>, <span class="number">0x05</span>, <span class="number">0x22</span>, <span class="number">0x66</span>, <span class="number">0xbf</span>, <span class="number">0xdc</span>, <span class="number">0x0b</span>, <span class="number">0xfa</span>, <span class="number">0x62</span>, <span class="number">0x48</span>,</span><br><span class="line">        <span class="number">0xdd</span>, <span class="number">0x20</span>, <span class="number">0x11</span>, <span class="number">0x06</span>, <span class="number">0x36</span>, <span class="number">0xc9</span>, <span class="number">0xc1</span>, <span class="number">0xcf</span>, <span class="number">0xf6</span>, <span class="number">0x27</span>, <span class="number">0x52</span>, <span class="number">0xbb</span>, <span class="number">0x69</span>, <span class="number">0xf5</span>, <span class="number">0xd4</span>, <span class="number">0x87</span>,</span><br><span class="line">        <span class="number">0x7f</span>, <span class="number">0x84</span>, <span class="number">0x4c</span>, <span class="number">0xd2</span>, <span class="number">0x9c</span>, <span class="number">0x57</span>, <span class="number">0xa4</span>, <span class="number">0xbc</span>, <span class="number">0x4f</span>, <span class="number">0x9a</span>, <span class="number">0xdf</span>, <span class="number">0xfe</span>, <span class="number">0xd6</span>, <span class="number">0x8d</span>, <span class="number">0x7a</span>, <span class="number">0xeb</span>,</span><br><span class="line">        <span class="number">0x2b</span>, <span class="number">0x53</span>, <span class="number">0xd8</span>, <span class="number">0x5c</span>, <span class="number">0xa1</span>, <span class="number">0x14</span>, <span class="number">0x17</span>, <span class="number">0xfb</span>, <span class="number">0x23</span>, <span class="number">0xd5</span>, <span class="number">0x7d</span>, <span class="number">0x30</span>, <span class="number">0x67</span>, <span class="number">0x73</span>, <span class="number">0x08</span>, <span class="number">0x09</span>,</span><br><span class="line">        <span class="number">0xee</span>, <span class="number">0xb7</span>, <span class="number">0x70</span>, <span class="number">0x3f</span>, <span class="number">0x61</span>, <span class="number">0xb2</span>, <span class="number">0x19</span>, <span class="number">0x8e</span>, <span class="number">0x4e</span>, <span class="number">0xe5</span>, <span class="number">0x4b</span>, <span class="number">0x93</span>, <span class="number">0x8f</span>, <span class="number">0x5d</span>, <span class="number">0xdb</span>, <span class="number">0xa9</span>,</span><br><span class="line">        <span class="number">0xad</span>, <span class="number">0xf1</span>, <span class="number">0xae</span>, <span class="number">0x2e</span>, <span class="number">0xcb</span>, <span class="number">0x0d</span>, <span class="number">0xfc</span>, <span class="number">0xf4</span>, <span class="number">0x2d</span>, <span class="number">0x46</span>, <span class="number">0x6e</span>, <span class="number">0x1d</span>, <span class="number">0x97</span>, <span class="number">0xe8</span>, <span class="number">0xd1</span>, <span class="number">0xe9</span>,</span><br><span class="line">        <span class="number">0x4d</span>, <span class="number">0x37</span>, <span class="number">0xa5</span>, <span class="number">0x75</span>, <span class="number">0x5e</span>, <span class="number">0x83</span>, <span class="number">0x9e</span>, <span class="number">0xab</span>, <span class="number">0x82</span>, <span class="number">0x9d</span>, <span class="number">0xb9</span>, <span class="number">0x1c</span>, <span class="number">0xe0</span>, <span class="number">0xcd</span>, <span class="number">0x49</span>, <span class="number">0x89</span>,</span><br><span class="line">        <span class="number">0x01</span>, <span class="number">0xb6</span>, <span class="number">0xbd</span>, <span class="number">0x58</span>, <span class="number">0x24</span>, <span class="number">0xa2</span>, <span class="number">0x5f</span>, <span class="number">0x38</span>, <span class="number">0x78</span>, <span class="number">0x99</span>, <span class="number">0x15</span>, <span class="number">0x90</span>, <span class="number">0x50</span>, <span class="number">0xb8</span>, <span class="number">0x95</span>, <span class="number">0xe4</span>,</span><br><span class="line">        <span class="number">0xd0</span>, <span class="number">0x91</span>, <span class="number">0xc7</span>, <span class="number">0xce</span>, <span class="number">0xed</span>, <span class="number">0x0f</span>, <span class="number">0xb4</span>, <span class="number">0x6f</span>, <span class="number">0xa0</span>, <span class="number">0xcc</span>, <span class="number">0xf0</span>, <span class="number">0x02</span>, <span class="number">0x4a</span>, <span class="number">0x79</span>, <span class="number">0xc3</span>, <span class="number">0xde</span>,</span><br><span class="line">        <span class="number">0xa3</span>, <span class="number">0xef</span>, <span class="number">0xea</span>, <span class="number">0x51</span>, <span class="number">0xe6</span>, <span class="number">0x6b</span>, <span class="number">0x18</span>, <span class="number">0xec</span>, <span class="number">0x1b</span>, <span class="number">0x2c</span>, <span class="number">0x80</span>, <span class="number">0xf7</span>, <span class="number">0x74</span>, <span class="number">0xe7</span>, <span class="number">0xff</span>, <span class="number">0x21</span>,</span><br><span class="line">        <span class="number">0x5a</span>, <span class="number">0x6a</span>, <span class="number">0x54</span>, <span class="number">0x1e</span>, <span class="number">0x41</span>, <span class="number">0x31</span>, <span class="number">0x92</span>, <span class="number">0x35</span>, <span class="number">0xc4</span>, <span class="number">0x33</span>, <span class="number">0x07</span>, <span class="number">0x0a</span>, <span class="number">0xba</span>, <span class="number">0x7e</span>, <span class="number">0x0e</span>, <span class="number">0x34</span>,</span><br><span class="line">        <span class="number">0x88</span>, <span class="number">0xb1</span>, <span class="number">0x98</span>, <span class="number">0x7c</span>, <span class="number">0xf3</span>, <span class="number">0x3d</span>, <span class="number">0x60</span>, <span class="number">0x6c</span>, <span class="number">0x7b</span>, <span class="number">0xca</span>, <span class="number">0xd3</span>, <span class="number">0x1f</span>, <span class="number">0x32</span>, <span class="number">0x65</span>, <span class="number">0x04</span>, <span class="number">0x28</span>,</span><br><span class="line">        <span class="number">0x64</span>, <span class="number">0xbe</span>, <span class="number">0x85</span>, <span class="number">0x9b</span>, <span class="number">0x2f</span>, <span class="number">0x59</span>, <span class="number">0x8a</span>, <span class="number">0xd7</span>, <span class="number">0xb0</span>, <span class="number">0x25</span>, <span class="number">0xac</span>, <span class="number">0xaf</span>, <span class="number">0x12</span>, <span class="number">0x03</span>, <span class="number">0xe2</span>, <span class="number">0xf2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* the constants D */</span></span><br><span class="line">u32 EK_d[<span class="number">16</span>] = &#123;</span><br><span class="line">        <span class="number">0x44D7</span>, <span class="number">0x26BC</span>, <span class="number">0x626B</span>, <span class="number">0x135E</span>, <span class="number">0x5789</span>, <span class="number">0x35E2</span>, <span class="number">0x7135</span>, <span class="number">0x09AF</span>,</span><br><span class="line">        <span class="number">0x4D78</span>, <span class="number">0x2F13</span>, <span class="number">0x6BC4</span>, <span class="number">0x1AF1</span>, <span class="number">0x5E26</span>, <span class="number">0x3C4D</span>, <span class="number">0x789A</span>, <span class="number">0x47AC</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- */</span></span><br><span class="line"><span class="comment">/* c = a + b mod (2^31 â€“ 1) */</span></span><br><span class="line"><span class="function">u32 <span class="title">AddM</span><span class="params">(u32 a, u32 b)</span> </span>&#123;</span><br><span class="line">    u32 c = a + b;</span><br><span class="line">    <span class="keyword">return</span> (c &amp; <span class="number">0x7FFFFFFF</span>) + (c &gt;&gt; <span class="number">31</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* LFSR with initialization mode */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MulByPow2(x, k) ((((x) <span class="meta-string">&lt;&lt; k) | ((x) &gt;&gt; (31 - k))) &amp; 0x7FFFFFFF)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LFSRWithInitialisationMode</span><span class="params">(u32 u)</span> </span>&#123;</span><br><span class="line">    u32 f, v;</span><br><span class="line">    f = LFSR_S0;</span><br><span class="line">    v = MulByPow2(LFSR_S0, <span class="number">8</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line">    v = MulByPow2(LFSR_S4, <span class="number">20</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line">    v = MulByPow2(LFSR_S10, <span class="number">21</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line">    v = MulByPow2(LFSR_S13, <span class="number">17</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line">    v = MulByPow2(LFSR_S15, <span class="number">15</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line">    f = AddM(f, u);</span><br><span class="line"><span class="comment">/* update the state */</span></span><br><span class="line">    LFSR_S0 = LFSR_S1;</span><br><span class="line">    LFSR_S1 = LFSR_S2;</span><br><span class="line">    LFSR_S2 = LFSR_S3;</span><br><span class="line">    LFSR_S3 = LFSR_S4;</span><br><span class="line">    LFSR_S4 = LFSR_S5;</span><br><span class="line">    LFSR_S5 = LFSR_S6;</span><br><span class="line">    LFSR_S6 = LFSR_S7;</span><br><span class="line">    LFSR_S7 = LFSR_S8;</span><br><span class="line">    LFSR_S8 = LFSR_S9;</span><br><span class="line">    LFSR_S9 = LFSR_S10;</span><br><span class="line">    LFSR_S10 = LFSR_S11;</span><br><span class="line">    LFSR_S11 = LFSR_S12;</span><br><span class="line">    LFSR_S12 = LFSR_S13;</span><br><span class="line">    LFSR_S13 = LFSR_S14;</span><br><span class="line">    LFSR_S14 = LFSR_S15;</span><br><span class="line">    LFSR_S15 = f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* LFSR with work mode */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LFSRWithWorkMode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    u32 f, v;</span><br><span class="line">    f = LFSR_S0;</span><br><span class="line">    v = MulByPow2(LFSR_S0, <span class="number">8</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line">    v = MulByPow2(LFSR_S4, <span class="number">20</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line">    v = MulByPow2(LFSR_S10, <span class="number">21</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line">    v = MulByPow2(LFSR_S13, <span class="number">17</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line">    v = MulByPow2(LFSR_S15, <span class="number">15</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"><span class="comment">/* update the state */</span></span><br><span class="line">    LFSR_S0 = LFSR_S1;</span><br><span class="line">    LFSR_S1 = LFSR_S2;</span><br><span class="line">    LFSR_S2 = LFSR_S3;</span><br><span class="line">    LFSR_S3 = LFSR_S4;</span><br><span class="line">    LFSR_S4 = LFSR_S5;</span><br><span class="line">    LFSR_S5 = LFSR_S6;</span><br><span class="line">    LFSR_S6 = LFSR_S7;</span><br><span class="line">    LFSR_S7 = LFSR_S8;</span><br><span class="line">    LFSR_S8 = LFSR_S9;</span><br><span class="line">    LFSR_S9 = LFSR_S10;</span><br><span class="line">    LFSR_S10 = LFSR_S11;</span><br><span class="line">    LFSR_S11 = LFSR_S12;</span><br><span class="line">    LFSR_S12 = LFSR_S13;</span><br><span class="line">    LFSR_S13 = LFSR_S14;</span><br><span class="line">    LFSR_S14 = LFSR_S15;</span><br><span class="line">    LFSR_S15 = f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* BitReorganization */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BitReorganization</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BRC_X0 = ((LFSR_S15 &amp; <span class="number">0x7FFF8000</span>) &lt;&lt; <span class="number">1</span>) | (LFSR_S14 &amp; <span class="number">0xFFFF</span>);</span><br><span class="line">    BRC_X1 = ((LFSR_S11 &amp; <span class="number">0xFFFF</span>) &lt;&lt; <span class="number">16</span>) | (LFSR_S9 &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    BRC_X2 = ((LFSR_S7 &amp; <span class="number">0xFFFF</span>) &lt;&lt; <span class="number">16</span>) | (LFSR_S5 &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    BRC_X3 = ((LFSR_S2 &amp; <span class="number">0xFFFF</span>) &lt;&lt; <span class="number">16</span>) | (LFSR_S0 &gt;&gt; <span class="number">15</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ROT(a, k) (((a) <span class="meta-string">&lt;&lt; k) | ((a) &gt;&gt; (32 - k)))</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* L1 */</span></span><br><span class="line"><span class="function">u32 <span class="title">L1</span><span class="params">(u32 X)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (X ^ ROT(X, <span class="number">2</span>) ^ ROT(X, <span class="number">10</span>) ^ ROT(X, <span class="number">18</span>) ^ ROT(X, <span class="number">24</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* L2 */</span></span><br><span class="line"><span class="function">u32 <span class="title">L2</span><span class="params">(u32 X)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (X ^ ROT(X, <span class="number">8</span>) ^ ROT(X, <span class="number">14</span>) ^ ROT(X, <span class="number">22</span>) ^ ROT(X, <span class="number">30</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAKEU32(a, b, c, d) (((u32)(a) &lt;&lt; 24) | ((u32)(b) &lt;&lt; 16)| ((u32)(c) &lt;&lt; 8) | ((u32)(d)))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* F */</span></span><br><span class="line"><span class="function">u32 <span class="title">F</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    u32 W, W1, W2, u, v;</span><br><span class="line">    W = (BRC_X0 ^ F_R1) + F_R2;</span><br><span class="line">    W1 = F_R1 + BRC_X1;</span><br><span class="line">    W2 = F_R2 ^ BRC_X2;</span><br><span class="line">    u = L1((W1 &lt;&lt; <span class="number">16</span>) | (W2 &gt;&gt; <span class="number">16</span>));</span><br><span class="line">    v = L2((W2 &lt;&lt; <span class="number">16</span>) | (W1 &gt;&gt; <span class="number">16</span>));</span><br><span class="line">    F_R1 = MAKEU32(S0[u &gt;&gt; <span class="number">24</span>], S1[(u &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>],</span><br><span class="line">                   S0[(u &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>], S1[u &amp; <span class="number">0xFF</span>]);</span><br><span class="line">    F_R2 = MAKEU32(S0[v &gt;&gt; <span class="number">24</span>], S1[(v &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>],</span><br><span class="line">                   S0[(v &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>], S1[v &amp; <span class="number">0xFF</span>]);</span><br><span class="line">    <span class="keyword">return</span> W;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAKEU31(a, b, c) (((u32)(a) &lt;&lt; 23) | ((u32)(b) &lt;&lt; 8) | (u32)(c))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* initialize */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Initialization</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> *k, <span class="keyword">unsigned</span> <span class="keyword">char</span> *iv)</span> </span>&#123;</span><br><span class="line">    u32 w, nCount;</span><br><span class="line"><span class="comment">/* expand key */</span></span><br><span class="line">    LFSR_S0 = MAKEU31(k[<span class="number">0</span>], EK_d[<span class="number">0</span>], iv[<span class="number">0</span>]);</span><br><span class="line">    LFSR_S1 = MAKEU31(k[<span class="number">1</span>], EK_d[<span class="number">1</span>], iv[<span class="number">1</span>]);</span><br><span class="line">    LFSR_S2 = MAKEU31(k[<span class="number">2</span>], EK_d[<span class="number">2</span>], iv[<span class="number">2</span>]);</span><br><span class="line">    LFSR_S3 = MAKEU31(k[<span class="number">3</span>], EK_d[<span class="number">3</span>], iv[<span class="number">3</span>]);</span><br><span class="line">    LFSR_S4 = MAKEU31(k[<span class="number">4</span>], EK_d[<span class="number">4</span>], iv[<span class="number">4</span>]);</span><br><span class="line">    LFSR_S5 = MAKEU31(k[<span class="number">5</span>], EK_d[<span class="number">5</span>], iv[<span class="number">5</span>]);</span><br><span class="line">    LFSR_S6 = MAKEU31(k[<span class="number">6</span>], EK_d[<span class="number">6</span>], iv[<span class="number">6</span>]);</span><br><span class="line">    LFSR_S7 = MAKEU31(k[<span class="number">7</span>], EK_d[<span class="number">7</span>], iv[<span class="number">7</span>]);</span><br><span class="line">    LFSR_S8 = MAKEU31(k[<span class="number">8</span>], EK_d[<span class="number">8</span>], iv[<span class="number">8</span>]);</span><br><span class="line">    LFSR_S9 = MAKEU31(k[<span class="number">9</span>], EK_d[<span class="number">9</span>], iv[<span class="number">9</span>]);</span><br><span class="line">    LFSR_S10 = MAKEU31(k[<span class="number">10</span>], EK_d[<span class="number">10</span>], iv[<span class="number">10</span>]);</span><br><span class="line">    LFSR_S11 = MAKEU31(k[<span class="number">11</span>], EK_d[<span class="number">11</span>], iv[<span class="number">11</span>]);</span><br><span class="line">    LFSR_S12 = MAKEU31(k[<span class="number">12</span>], EK_d[<span class="number">12</span>], iv[<span class="number">12</span>]);</span><br><span class="line">    LFSR_S13 = MAKEU31(k[<span class="number">13</span>], EK_d[<span class="number">13</span>], iv[<span class="number">13</span>]);</span><br><span class="line">    LFSR_S14 = MAKEU31(k[<span class="number">14</span>], EK_d[<span class="number">14</span>], iv[<span class="number">14</span>]);</span><br><span class="line">    LFSR_S15 = MAKEU31(k[<span class="number">15</span>], EK_d[<span class="number">15</span>], iv[<span class="number">15</span>]);</span><br><span class="line"><span class="comment">/* set F_R1 and F_R2 to zero */</span></span><br><span class="line">    F_R1 = <span class="number">0</span>;</span><br><span class="line">    F_R2 = <span class="number">0</span>;</span><br><span class="line">    nCount = <span class="number">32</span>;</span><br><span class="line">    <span class="keyword">while</span> (nCount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        BitReorganization();</span><br><span class="line">        w = F();</span><br><span class="line">        LFSRWithInitialisationMode(w &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        nCount--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GenerateKeyStream</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> *pKeyStream, <span class="keyword">unsigned</span> <span class="keyword">int</span> KeyStreamLen)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    &#123;</span><br><span class="line">        BitReorganization();</span><br><span class="line">        F(); <span class="comment">/* discard the output of F */</span></span><br><span class="line">        LFSRWithWorkMode();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; KeyStreamLen; i++) &#123;</span><br><span class="line">        BitReorganization();</span><br><span class="line">        pKeyStream[i] = F() ^ BRC_X3;</span><br><span class="line">        LFSRWithWorkMode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="B-C-å®ç°ï¼ˆå’ŒCåŸºæœ¬ä¸€æ ·ï¼‰"><a href="#B-C-å®ç°ï¼ˆå’ŒCåŸºæœ¬ä¸€æ ·ï¼‰" class="headerlink" title="B. C++å®ç°ï¼ˆå’ŒCåŸºæœ¬ä¸€æ ·ï¼‰"></a>B. C++å®ç°ï¼ˆå’ŒCåŸºæœ¬ä¸€æ ·ï¼‰</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;ZUC.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* state registers LFSR */</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> LFSR_S[<span class="number">16</span>] ;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* F registers */</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> F_R1 ;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> F_R2 ;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* output of BR procedure */</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> BRC_X[<span class="number">4</span>] ;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* S-boxes */</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> S0[<span class="number">256</span>] = &#123;</span><br><span class="line">    <span class="number">0x3e</span>,<span class="number">0x72</span>,<span class="number">0x5b</span>,<span class="number">0x47</span>,<span class="number">0xca</span>,<span class="number">0xe0</span>,<span class="number">0x00</span>,<span class="number">0x33</span>,<span class="number">0x04</span>,<span class="number">0xd1</span>,<span class="number">0x54</span>,<span class="number">0x98</span>,<span class="number">0x09</span>,<span class="number">0xb9</span>,<span class="number">0x6d</span>,<span class="number">0xcb</span>,</span><br><span class="line">    <span class="number">0x7b</span>,<span class="number">0x1b</span>,<span class="number">0xf9</span>,<span class="number">0x32</span>,<span class="number">0xaf</span>,<span class="number">0x9d</span>,<span class="number">0x6a</span>,<span class="number">0xa5</span>,<span class="number">0xb8</span>,<span class="number">0x2d</span>,<span class="number">0xfc</span>,<span class="number">0x1d</span>,<span class="number">0x08</span>,<span class="number">0x53</span>,<span class="number">0x03</span>,<span class="number">0x90</span>,</span><br><span class="line">    <span class="number">0x4d</span>,<span class="number">0x4e</span>,<span class="number">0x84</span>,<span class="number">0x99</span>,<span class="number">0xe4</span>,<span class="number">0xce</span>,<span class="number">0xd9</span>,<span class="number">0x91</span>,<span class="number">0xdd</span>,<span class="number">0xb6</span>,<span class="number">0x85</span>,<span class="number">0x48</span>,<span class="number">0x8b</span>,<span class="number">0x29</span>,<span class="number">0x6e</span>,<span class="number">0xac</span>,</span><br><span class="line">    <span class="number">0xcd</span>,<span class="number">0xc1</span>,<span class="number">0xf8</span>,<span class="number">0x1e</span>,<span class="number">0x73</span>,<span class="number">0x43</span>,<span class="number">0x69</span>,<span class="number">0xc6</span>,<span class="number">0xb5</span>,<span class="number">0xbd</span>,<span class="number">0xfd</span>,<span class="number">0x39</span>,<span class="number">0x63</span>,<span class="number">0x20</span>,<span class="number">0xd4</span>,<span class="number">0x38</span>,</span><br><span class="line">    <span class="number">0x76</span>,<span class="number">0x7d</span>,<span class="number">0xb2</span>,<span class="number">0xa7</span>,<span class="number">0xcf</span>,<span class="number">0xed</span>,<span class="number">0x57</span>,<span class="number">0xc5</span>,<span class="number">0xf3</span>,<span class="number">0x2c</span>,<span class="number">0xbb</span>,<span class="number">0x14</span>,<span class="number">0x21</span>,<span class="number">0x06</span>,<span class="number">0x55</span>,<span class="number">0x9b</span>,</span><br><span class="line">    <span class="number">0xe3</span>,<span class="number">0xef</span>,<span class="number">0x5e</span>,<span class="number">0x31</span>,<span class="number">0x4f</span>,<span class="number">0x7f</span>,<span class="number">0x5a</span>,<span class="number">0xa4</span>,<span class="number">0x0d</span>,<span class="number">0x82</span>,<span class="number">0x51</span>,<span class="number">0x49</span>,<span class="number">0x5f</span>,<span class="number">0xba</span>,<span class="number">0x58</span>,<span class="number">0x1c</span>,</span><br><span class="line">    <span class="number">0x4a</span>,<span class="number">0x16</span>,<span class="number">0xd5</span>,<span class="number">0x17</span>,<span class="number">0xa8</span>,<span class="number">0x92</span>,<span class="number">0x24</span>,<span class="number">0x1f</span>,<span class="number">0x8c</span>,<span class="number">0xff</span>,<span class="number">0xd8</span>,<span class="number">0xae</span>,<span class="number">0x2e</span>,<span class="number">0x01</span>,<span class="number">0xd3</span>,<span class="number">0xad</span>,</span><br><span class="line">    <span class="number">0x3b</span>,<span class="number">0x4b</span>,<span class="number">0xda</span>,<span class="number">0x46</span>,<span class="number">0xeb</span>,<span class="number">0xc9</span>,<span class="number">0xde</span>,<span class="number">0x9a</span>,<span class="number">0x8f</span>,<span class="number">0x87</span>,<span class="number">0xd7</span>,<span class="number">0x3a</span>,<span class="number">0x80</span>,<span class="number">0x6f</span>,<span class="number">0x2f</span>,<span class="number">0xc8</span>,</span><br><span class="line">    <span class="number">0xb1</span>,<span class="number">0xb4</span>,<span class="number">0x37</span>,<span class="number">0xf7</span>,<span class="number">0x0a</span>,<span class="number">0x22</span>,<span class="number">0x13</span>,<span class="number">0x28</span>,<span class="number">0x7c</span>,<span class="number">0xcc</span>,<span class="number">0x3c</span>,<span class="number">0x89</span>,<span class="number">0xc7</span>,<span class="number">0xc3</span>,<span class="number">0x96</span>,<span class="number">0x56</span>,</span><br><span class="line">    <span class="number">0x07</span>,<span class="number">0xbf</span>,<span class="number">0x7e</span>,<span class="number">0xf0</span>,<span class="number">0x0b</span>,<span class="number">0x2b</span>,<span class="number">0x97</span>,<span class="number">0x52</span>,<span class="number">0x35</span>,<span class="number">0x41</span>,<span class="number">0x79</span>,<span class="number">0x61</span>,<span class="number">0xa6</span>,<span class="number">0x4c</span>,<span class="number">0x10</span>,<span class="number">0xfe</span>,</span><br><span class="line">    <span class="number">0xbc</span>,<span class="number">0x26</span>,<span class="number">0x95</span>,<span class="number">0x88</span>,<span class="number">0x8a</span>,<span class="number">0xb0</span>,<span class="number">0xa3</span>,<span class="number">0xfb</span>,<span class="number">0xc0</span>,<span class="number">0x18</span>,<span class="number">0x94</span>,<span class="number">0xf2</span>,<span class="number">0xe1</span>,<span class="number">0xe5</span>,<span class="number">0xe9</span>,<span class="number">0x5d</span>,</span><br><span class="line">    <span class="number">0xd0</span>,<span class="number">0xdc</span>,<span class="number">0x11</span>,<span class="number">0x66</span>,<span class="number">0x64</span>,<span class="number">0x5c</span>,<span class="number">0xec</span>,<span class="number">0x59</span>,<span class="number">0x42</span>,<span class="number">0x75</span>,<span class="number">0x12</span>,<span class="number">0xf5</span>,<span class="number">0x74</span>,<span class="number">0x9c</span>,<span class="number">0xaa</span>,<span class="number">0x23</span>,</span><br><span class="line">    <span class="number">0x0e</span>,<span class="number">0x86</span>,<span class="number">0xab</span>,<span class="number">0xbe</span>,<span class="number">0x2a</span>,<span class="number">0x02</span>,<span class="number">0xe7</span>,<span class="number">0x67</span>,<span class="number">0xe6</span>,<span class="number">0x44</span>,<span class="number">0xa2</span>,<span class="number">0x6c</span>,<span class="number">0xc2</span>,<span class="number">0x93</span>,<span class="number">0x9f</span>,<span class="number">0xf1</span>,</span><br><span class="line">    <span class="number">0xf6</span>,<span class="number">0xfa</span>,<span class="number">0x36</span>,<span class="number">0xd2</span>,<span class="number">0x50</span>,<span class="number">0x68</span>,<span class="number">0x9e</span>,<span class="number">0x62</span>,<span class="number">0x71</span>,<span class="number">0x15</span>,<span class="number">0x3d</span>,<span class="number">0xd6</span>,<span class="number">0x40</span>,<span class="number">0xc4</span>,<span class="number">0xe2</span>,<span class="number">0x0f</span>,</span><br><span class="line">    <span class="number">0x8e</span>,<span class="number">0x83</span>,<span class="number">0x77</span>,<span class="number">0x6b</span>,<span class="number">0x25</span>,<span class="number">0x05</span>,<span class="number">0x3f</span>,<span class="number">0x0c</span>,<span class="number">0x30</span>,<span class="number">0xea</span>,<span class="number">0x70</span>,<span class="number">0xb7</span>,<span class="number">0xa1</span>,<span class="number">0xe8</span>,<span class="number">0xa9</span>,<span class="number">0x65</span>,</span><br><span class="line">    <span class="number">0x8d</span>,<span class="number">0x27</span>,<span class="number">0x1a</span>,<span class="number">0xdb</span>,<span class="number">0x81</span>,<span class="number">0xb3</span>,<span class="number">0xa0</span>,<span class="number">0xf4</span>,<span class="number">0x45</span>,<span class="number">0x7a</span>,<span class="number">0x19</span>,<span class="number">0xdf</span>,<span class="number">0xee</span>,<span class="number">0x78</span>,<span class="number">0x34</span>,<span class="number">0x60</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> S1[<span class="number">256</span>] = &#123;</span><br><span class="line">    <span class="number">0x55</span>,<span class="number">0xc2</span>,<span class="number">0x63</span>,<span class="number">0x71</span>,<span class="number">0x3b</span>,<span class="number">0xc8</span>,<span class="number">0x47</span>,<span class="number">0x86</span>,<span class="number">0x9f</span>,<span class="number">0x3c</span>,<span class="number">0xda</span>,<span class="number">0x5b</span>,<span class="number">0x29</span>,<span class="number">0xaa</span>,<span class="number">0xfd</span>,<span class="number">0x77</span>,</span><br><span class="line">    <span class="number">0x8c</span>,<span class="number">0xc5</span>,<span class="number">0x94</span>,<span class="number">0x0c</span>,<span class="number">0xa6</span>,<span class="number">0x1a</span>,<span class="number">0x13</span>,<span class="number">0x00</span>,<span class="number">0xe3</span>,<span class="number">0xa8</span>,<span class="number">0x16</span>,<span class="number">0x72</span>,<span class="number">0x40</span>,<span class="number">0xf9</span>,<span class="number">0xf8</span>,<span class="number">0x42</span>,</span><br><span class="line">    <span class="number">0x44</span>,<span class="number">0x26</span>,<span class="number">0x68</span>,<span class="number">0x96</span>,<span class="number">0x81</span>,<span class="number">0xd9</span>,<span class="number">0x45</span>,<span class="number">0x3e</span>,<span class="number">0x10</span>,<span class="number">0x76</span>,<span class="number">0xc6</span>,<span class="number">0xa7</span>,<span class="number">0x8b</span>,<span class="number">0x39</span>,<span class="number">0x43</span>,<span class="number">0xe1</span>,</span><br><span class="line">    <span class="number">0x3a</span>,<span class="number">0xb5</span>,<span class="number">0x56</span>,<span class="number">0x2a</span>,<span class="number">0xc0</span>,<span class="number">0x6d</span>,<span class="number">0xb3</span>,<span class="number">0x05</span>,<span class="number">0x22</span>,<span class="number">0x66</span>,<span class="number">0xbf</span>,<span class="number">0xdc</span>,<span class="number">0x0b</span>,<span class="number">0xfa</span>,<span class="number">0x62</span>,<span class="number">0x48</span>,</span><br><span class="line">    <span class="number">0xdd</span>,<span class="number">0x20</span>,<span class="number">0x11</span>,<span class="number">0x06</span>,<span class="number">0x36</span>,<span class="number">0xc9</span>,<span class="number">0xc1</span>,<span class="number">0xcf</span>,<span class="number">0xf6</span>,<span class="number">0x27</span>,<span class="number">0x52</span>,<span class="number">0xbb</span>,<span class="number">0x69</span>,<span class="number">0xf5</span>,<span class="number">0xd4</span>,<span class="number">0x87</span>,</span><br><span class="line">    <span class="number">0x7f</span>,<span class="number">0x84</span>,<span class="number">0x4c</span>,<span class="number">0xd2</span>,<span class="number">0x9c</span>,<span class="number">0x57</span>,<span class="number">0xa4</span>,<span class="number">0xbc</span>,<span class="number">0x4f</span>,<span class="number">0x9a</span>,<span class="number">0xdf</span>,<span class="number">0xfe</span>,<span class="number">0xd6</span>,<span class="number">0x8d</span>,<span class="number">0x7a</span>,<span class="number">0xeb</span>,</span><br><span class="line">    <span class="number">0x2b</span>,<span class="number">0x53</span>,<span class="number">0xd8</span>,<span class="number">0x5c</span>,<span class="number">0xa1</span>,<span class="number">0x14</span>,<span class="number">0x17</span>,<span class="number">0xfb</span>,<span class="number">0x23</span>,<span class="number">0xd5</span>,<span class="number">0x7d</span>,<span class="number">0x30</span>,<span class="number">0x67</span>,<span class="number">0x73</span>,<span class="number">0x08</span>,<span class="number">0x09</span>,</span><br><span class="line">    <span class="number">0xee</span>,<span class="number">0xb7</span>,<span class="number">0x70</span>,<span class="number">0x3f</span>,<span class="number">0x61</span>,<span class="number">0xb2</span>,<span class="number">0x19</span>,<span class="number">0x8e</span>,<span class="number">0x4e</span>,<span class="number">0xe5</span>,<span class="number">0x4b</span>,<span class="number">0x93</span>,<span class="number">0x8f</span>,<span class="number">0x5d</span>,<span class="number">0xdb</span>,<span class="number">0xa9</span>,</span><br><span class="line">    <span class="number">0xad</span>,<span class="number">0xf1</span>,<span class="number">0xae</span>,<span class="number">0x2e</span>,<span class="number">0xcb</span>,<span class="number">0x0d</span>,<span class="number">0xfc</span>,<span class="number">0xf4</span>,<span class="number">0x2d</span>,<span class="number">0x46</span>,<span class="number">0x6e</span>,<span class="number">0x1d</span>,<span class="number">0x97</span>,<span class="number">0xe8</span>,<span class="number">0xd1</span>,<span class="number">0xe9</span>,</span><br><span class="line">    <span class="number">0x4d</span>,<span class="number">0x37</span>,<span class="number">0xa5</span>,<span class="number">0x75</span>,<span class="number">0x5e</span>,<span class="number">0x83</span>,<span class="number">0x9e</span>,<span class="number">0xab</span>,<span class="number">0x82</span>,<span class="number">0x9d</span>,<span class="number">0xb9</span>,<span class="number">0x1c</span>,<span class="number">0xe0</span>,<span class="number">0xcd</span>,<span class="number">0x49</span>,<span class="number">0x89</span>,</span><br><span class="line">    <span class="number">0x01</span>,<span class="number">0xb6</span>,<span class="number">0xbd</span>,<span class="number">0x58</span>,<span class="number">0x24</span>,<span class="number">0xa2</span>,<span class="number">0x5f</span>,<span class="number">0x38</span>,<span class="number">0x78</span>,<span class="number">0x99</span>,<span class="number">0x15</span>,<span class="number">0x90</span>,<span class="number">0x50</span>,<span class="number">0xb8</span>,<span class="number">0x95</span>,<span class="number">0xe4</span>,</span><br><span class="line">    <span class="number">0xd0</span>,<span class="number">0x91</span>,<span class="number">0xc7</span>,<span class="number">0xce</span>,<span class="number">0xed</span>,<span class="number">0x0f</span>,<span class="number">0xb4</span>,<span class="number">0x6f</span>,<span class="number">0xa0</span>,<span class="number">0xcc</span>,<span class="number">0xf0</span>,<span class="number">0x02</span>,<span class="number">0x4a</span>,<span class="number">0x79</span>,<span class="number">0xc3</span>,<span class="number">0xde</span>,</span><br><span class="line">    <span class="number">0xa3</span>,<span class="number">0xef</span>,<span class="number">0xea</span>,<span class="number">0x51</span>,<span class="number">0xe6</span>,<span class="number">0x6b</span>,<span class="number">0x18</span>,<span class="number">0xec</span>,<span class="number">0x1b</span>,<span class="number">0x2c</span>,<span class="number">0x80</span>,<span class="number">0xf7</span>,<span class="number">0x74</span>,<span class="number">0xe7</span>,<span class="number">0xff</span>,<span class="number">0x21</span>,</span><br><span class="line">    <span class="number">0x5a</span>,<span class="number">0x6a</span>,<span class="number">0x54</span>,<span class="number">0x1e</span>,<span class="number">0x41</span>,<span class="number">0x31</span>,<span class="number">0x92</span>,<span class="number">0x35</span>,<span class="number">0xc4</span>,<span class="number">0x33</span>,<span class="number">0x07</span>,<span class="number">0x0a</span>,<span class="number">0xba</span>,<span class="number">0x7e</span>,<span class="number">0x0e</span>,<span class="number">0x34</span>,</span><br><span class="line">    <span class="number">0x88</span>,<span class="number">0xb1</span>,<span class="number">0x98</span>,<span class="number">0x7c</span>,<span class="number">0xf3</span>,<span class="number">0x3d</span>,<span class="number">0x60</span>,<span class="number">0x6c</span>,<span class="number">0x7b</span>,<span class="number">0xca</span>,<span class="number">0xd3</span>,<span class="number">0x1f</span>,<span class="number">0x32</span>,<span class="number">0x65</span>,<span class="number">0x04</span>,<span class="number">0x28</span>,</span><br><span class="line">    <span class="number">0x64</span>,<span class="number">0xbe</span>,<span class="number">0x85</span>,<span class="number">0x9b</span>,<span class="number">0x2f</span>,<span class="number">0x59</span>,<span class="number">0x8a</span>,<span class="number">0xd7</span>,<span class="number">0xb0</span>,<span class="number">0x25</span>,<span class="number">0xac</span>,<span class="number">0xaf</span>,<span class="number">0x12</span>,<span class="number">0x03</span>,<span class="number">0xe2</span>,<span class="number">0xf2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* D constants */</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> EK_d[<span class="number">16</span>] = &#123;</span><br><span class="line">    <span class="number">0x44D7</span>, <span class="number">0x26BC</span>, <span class="number">0x626B</span>, <span class="number">0x135E</span>, <span class="number">0x5789</span>, <span class="number">0x35E2</span>, <span class="number">0x7135</span>, <span class="number">0x09AF</span>,</span><br><span class="line">    <span class="number">0x4D78</span>, <span class="number">0x2F13</span>, <span class="number">0x6BC4</span>, <span class="number">0x1AF1</span>, <span class="number">0x5E26</span>, <span class="number">0x3C4D</span>, <span class="number">0x789A</span>, <span class="number">0x47AC</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">AddM</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> a, <span class="keyword">unsigned</span> <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> c = a + b;</span><br><span class="line">	<span class="keyword">return</span> (c &amp; <span class="number">0x7FFFFFFF</span>) + (c &gt;&gt; <span class="number">31</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MulByPow2(x, k) ((((x) <span class="meta-string">&lt;&lt; k) | ((x) &gt;&gt; (31 - k))) &amp; 0x7FFFFFFF)</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* LFSR */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LFSRWithInitializationMode</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> f, v;</span><br><span class="line"></span><br><span class="line">    f = LFSR_S[<span class="number">0</span>];</span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">0</span>], <span class="number">8</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">4</span>], <span class="number">20</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">10</span>], <span class="number">21</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">13</span>], <span class="number">17</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">15</span>], <span class="number">15</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    f = AddM(f, u);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* update the state */</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">15</span>; ++i) &#123;</span><br><span class="line">        LFSR_S[i] = LFSR_S[i + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    LFSR_S[<span class="number">15</span>] = f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* LFSR with work mode */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LFSRWithWorkMode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> f, v;</span><br><span class="line"></span><br><span class="line">    f = LFSR_S[<span class="number">0</span>];</span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">0</span>], <span class="number">8</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">4</span>], <span class="number">20</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">10</span>], <span class="number">21</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">13</span>], <span class="number">17</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    v = MulByPow2(LFSR_S[<span class="number">15</span>], <span class="number">15</span>);</span><br><span class="line">    f = AddM(f, v);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* update state */</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">15</span>; ++i) &#123;</span><br><span class="line">        LFSR_S[i] = LFSR_S[i + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    LFSR_S[<span class="number">15</span>] = f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Bit Reorganization Procedure */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BitReorganization</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BRC_X[<span class="number">0</span>] = ((LFSR_S[<span class="number">15</span>] &amp; <span class="number">0x7FFF8000</span>) &lt;&lt; <span class="number">1</span>) | (LFSR_S[<span class="number">14</span>] &amp; <span class="number">0xFFFF</span>);</span><br><span class="line">    BRC_X[<span class="number">1</span>] = ((LFSR_S[<span class="number">11</span>] &amp; <span class="number">0xFFFF</span>) &lt;&lt; <span class="number">16</span>) | (LFSR_S[<span class="number">9</span>] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    BRC_X[<span class="number">2</span>] = ((LFSR_S[<span class="number">7</span>] &amp; <span class="number">0xFFFF</span>) &lt;&lt; <span class="number">16</span>) | (LFSR_S[<span class="number">5</span>] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    BRC_X[<span class="number">3</span>] = ((LFSR_S[<span class="number">2</span>] &amp; <span class="number">0xFFFF</span>) &lt;&lt; <span class="number">16</span>) | (LFSR_S[<span class="number">0</span>] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ROT(a, k) (((a) <span class="meta-string">&lt;&lt; k) | ((a) &gt;&gt; (32 - k)))</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* linear transformation L1 */</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">L1</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> X)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (X ^ ROT(X, <span class="number">2</span>) ^ ROT(X, <span class="number">10</span>) ^ ROT(X, <span class="number">18</span>) ^ ROT(X, <span class="number">24</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* linear transformation L2 */</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">L2</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> X)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (X ^ ROT(X, <span class="number">8</span>) ^ ROT(X, <span class="number">14</span>) ^ ROT(X, <span class="number">22</span>) ^ ROT(X, <span class="number">30</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* create 32-bit word */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAKEU32(a, b, c ,d) (\</span></span><br><span class="line">((<span class="keyword">unsigned</span> <span class="keyword">int</span>)(a) &lt;&lt; <span class="number">24</span>) \</span><br><span class="line">| ((<span class="keyword">unsigned</span> <span class="keyword">int</span>)(b) &lt;&lt; <span class="number">16</span>) \</span><br><span class="line">| ((<span class="keyword">unsigned</span> <span class="keyword">int</span>)(c) &lt;&lt; <span class="number">8</span>) \</span><br><span class="line">| ((<span class="keyword">unsigned</span> <span class="keyword">int</span>)(d)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* non-linear function F */</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">F</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> W, W1, W2, u, v;</span><br><span class="line"></span><br><span class="line">    W = (BRC_X[<span class="number">0</span>] ^ F_R1) + F_R2;</span><br><span class="line">    W1 = F_R1 + BRC_X[<span class="number">1</span>];</span><br><span class="line">    W2 = F_R2 ^ BRC_X[<span class="number">2</span>];</span><br><span class="line">    u = L1((W1 &lt;&lt; <span class="number">16</span>) | (W2 &gt;&gt; <span class="number">16</span>));</span><br><span class="line">    v = L2((W2 &lt;&lt; <span class="number">16</span>) | (W1 &gt;&gt; <span class="number">16</span>));</span><br><span class="line">    F_R1 = MAKEU32(S0[u &gt;&gt; <span class="number">24</span>], S1[(u &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>], S0[(u &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>], S1[u &amp; <span class="number">0xFF</span>]);</span><br><span class="line">    F_R2 = MAKEU32(S0[v &gt;&gt; <span class="number">24</span>], S1[(v &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>], S0[(v &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>], S1[v &amp; <span class="number">0xFF</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> W;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAKEU31(a, b, c) ( \</span></span><br><span class="line">    ((<span class="keyword">unsigned</span> <span class="keyword">int</span>)((<span class="keyword">unsigned</span> <span class="keyword">int</span>)(<span class="number">0</span>) \</span><br><span class="line">    | (<span class="keyword">unsigned</span> <span class="keyword">char</span>)(a)) &lt;&lt; <span class="number">23</span>) \</span><br><span class="line">    | ((<span class="keyword">unsigned</span> <span class="keyword">int</span>)(b) &lt;&lt; <span class="number">8</span>) \</span><br><span class="line">    | (<span class="keyword">unsigned</span> <span class="keyword">int</span>)((<span class="keyword">unsigned</span> <span class="keyword">int</span>)(<span class="number">0</span>) \</span><br><span class="line">    | (<span class="keyword">unsigned</span> <span class="keyword">char</span>)(c)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Initialization</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> *k, <span class="keyword">unsigned</span> <span class="keyword">char</span> *iv)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> w;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* expand key */</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">16</span>; ++i) &#123;</span><br><span class="line">        LFSR_S[i] = MAKEU31(k[i], EK_d[i], iv[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* set F_R1 and F_R2 to zero */</span></span><br><span class="line">    F_R1 = <span class="number">0</span>;</span><br><span class="line">    F_R2 = <span class="number">0</span>;	</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> nCount = <span class="number">32</span>;</span><br><span class="line">    <span class="keyword">while</span> (nCount &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        BitReorganization();</span><br><span class="line">        w = F();</span><br><span class="line">        LFSRWithInitializationMode(w &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        nCount--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    BitReorganization();</span><br><span class="line">    F();</span><br><span class="line">    LFSRWithWorkMode();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GenerateKeyStream</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> *pKeyStream, <span class="keyword">unsigned</span> <span class="keyword">int</span> KeyStreamLen)</span></span>&#123;</span><br><span class="line">    <span class="comment">/* working cycles */</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">unsigned</span> <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; KeyStreamLen; ++i)&#123;</span><br><span class="line">        BitReorganization();</span><br><span class="line">        pKeyStream[i] = F() ^ BRC_X[<span class="number">3</span>];</span><br><span class="line">        LFSRWithWorkMode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ä¿¡æ¯å®‰å…¨</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>ä¿¡æ¯å®‰å…¨</tag>
        <tag>ZUC</tag>
        <tag>åŠ å¯†ç®—æ³•</tag>
        <tag>å¯†ç å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>å†å†æ¢C++çš„ç±»ï¼ˆææ„å‡½æ•°ï¼Œè¿ç®—ç¬¦é‡è½½ï¼Œç»§æ‰¿ï¼ŒåŠ¨æ€å†…å­˜åˆ†é…ï¼‰</title>
    <url>/2020/10/19/%E5%86%8D%E5%86%8D%E6%8E%A2CPP%E7%9A%84%E7%B1%BB%EF%BC%88%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%8C%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%EF%BC%8C%E7%BB%A7%E6%89%BF%EF%BC%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%EF%BC%89/</url>
    <content><![CDATA[<p>å—¯ï¼Œç»ˆäºåˆ°äº†è¿™ä¸ªä¸“é¢˜çš„ç»ˆç¯‡â€¦â€¦ğŸ˜‘ã€‚</p>
<p>ç±»ï¼ŒåŸºç±»ï¼Œè™šåŸºç±»ï¼ŒæŠ½è±¡åŸºç±»ï¼ŒæŠ½è±¡è™šåŸºç±»å‚»å‚»åˆ†ä¸æ¸…ã€‚</p>
<p>ç»§æ‰¿ï¼Œå…¬æœ‰ç»§æ‰¿ä¿æŠ¤ç»§æ‰¿ç§æœ‰ç»§æ‰¿å¤šé‡ç»§æ‰¿ä¸¤çœ¼ä¸€æŠ¹é»‘ã€‚</p>
<a id="more"></a>
<blockquote>
<p>  å†…å®¹å‚è€ƒè‡ªã€ŠC++ Primer Plusã€‹ï¼ˆç¬¬å…­ç‰ˆï¼‰</p>
</blockquote>
<p>æ–‡å¦‚å…¶é¢˜ï¼ŒæŒ¨ä¸ªäº†è§£ï¼š</p>
<ul>
<li>ææ„å‡½æ•°</li>
<li>è¿ç®—ç¬¦é‡è½½<ul>
<li>æˆå‘˜å‡½æ•°é‡è½½å‘¢ï¼Œè¿˜æ˜¯å‹å…ƒå‡½æ•°é‡è½½å‘¢ï¼Ÿ</li>
</ul>
</li>
<li>ç»§æ‰¿<ul>
<li>è®¿é—®æ§åˆ¶ï¼Œ<code>public, protected, private</code></li>
<li>æŠ½è±¡åŸºç±»ï¼ˆAbstract Base Classï¼ŒABCï¼‰</li>
</ul>
</li>
<li>å¤šé‡ç»§æ‰¿<ul>
<li>è™šåŸºç±»</li>
<li>ä½¿ç”¨å“ªä¸€ä¸ªæ–¹æ³•ï¼Ÿ</li>
</ul>
</li>
<li>å½“ç„¶ï¼Œè¿˜æœ‰éœ€è¦å°å¿ƒå¤„ç†çš„åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆè¿™æ¬¡å®åœ¨å†™ä¸ä¸‹äº†ï¼Œå†™åäº†ğŸ¤®ğŸ¤¢ï¼Œè¿˜æ˜¯ä¸‹æ¬¡æ¥ä¸ªåŠ¨æ€å†…å­˜ä¸“é¢˜å§ğŸ˜›ï¼‰</li>
</ul>
<h1 id="1-ææ„å‡½æ•°"><a href="#1-ææ„å‡½æ•°" class="headerlink" title="1. ææ„å‡½æ•°"></a>1. ææ„å‡½æ•°</h1><p>åˆ›å»ºå‡ºæ¥ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨ä½œç”¨åŸŸç»“æŸåï¼Œç¨‹åºä¼šè‡ªåŠ¨å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œé”€æ¯ï¼Œè¿™æ—¶å€™ä¼šè°ƒç”¨ä¸€ä¸ªç‰¹æ®Šçš„æˆå‘˜å‡½æ•°â€”â€”ææ„å‡½æ•°ã€‚</p>
<p>ææ„å‡½æ•°å®Œæˆçš„ä»»åŠ¡ä¸»è¦æ˜¯å†…å­˜é‡Šæ”¾ï¼Œèµ„æºé‡Šæ”¾ç­‰æ”¶å°¾å·¥ä½œã€‚</p>
<p>åŒæ„é€ å‡½æ•°ä¸€æ ·ï¼Œå½“ç±»çš„è®¾è®¡è€…ä¸ç»™ç±»æä¾›ææ„å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæä¾›ä¸€ä¸ªé»˜è®¤çš„ææ„å‡½æ•°ï¼Œè¿™ä¸ªé»˜è®¤çš„ææ„å‡½æ•°ä»€ä¹ˆä¹Ÿä¸åšã€‚è‡³äºä»€ä¹ˆæ—¶å€™è°ƒç”¨ææ„å‡½æ•°å˜›ï¼Œå½“ç„¶æ˜¯ç”±ç¼–è¯‘å™¨æ¥å†³å®šã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨ <code>new</code> åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨ <code>delete</code> æ¥ä¸»åŠ¨é‡Šæ”¾ã€‚</p>
<p>å…·ä½“ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeConstructor</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *name = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    DeConstructor(<span class="keyword">int</span> <span class="built_in">size</span>) &#123;</span><br><span class="line">        name = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">size</span>];</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;åˆ›å»ºäº†ä¸€ä¸ª &quot;</span> + to_string(<span class="built_in">size</span>) + <span class="string">&quot; å¤§å°çš„ char æ•°ç»„&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ~DeConstructor() &#123;</span><br><span class="line">        <span class="keyword">delete</span> name;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æŠŠåˆ›å»ºå‡ºæ¥çš„æ•°ç»„ç©ºé—´é‡Šæ”¾æ‰äº†&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">DeConstructor <span class="title">deConstructor</span><span class="params">(<span class="number">20</span>)</span></span>;</span><br><span class="line">    <span class="comment">// &gt;: åˆ›å»ºäº†ä¸€ä¸ª 20 å¤§å°çš„ char æ•°ç»„</span></span><br><span class="line">    <span class="comment">// &gt;: æŠŠåˆ›å»ºå‡ºæ¥çš„æ•°ç»„ç©ºé—´é‡Šæ”¾æ‰äº†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-è¿ç®—ç¬¦é‡è½½"><a href="#2-è¿ç®—ç¬¦é‡è½½" class="headerlink" title="2. è¿ç®—ç¬¦é‡è½½"></a>2. è¿ç®—ç¬¦é‡è½½</h1><p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯æŠŠåŸºç¡€ç±»å‹çš„è¿ç®—ç¬¦æ¬åˆ°äº†è‡ªå®šä¹‰ç±»å‹ä¸Šæ¥ï¼Œéµå¾ªåŸæœ‰çš„è¿ç®—ç¬¦å¥æ³•è§„åˆ™ï¼Œæ¥ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Time</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> hours = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> minutes = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Time() = <span class="keyword">default</span>;</span><br><span class="line">    Time(<span class="keyword">int</span> _hours, <span class="keyword">int</span> _minutes) : hours(_hours), minutes(_minutes) &#123;&#125;</span><br><span class="line">    Time <span class="keyword">operator</span>+(<span class="keyword">const</span> Time &amp;time) <span class="keyword">const</span> &#123;</span><br><span class="line">        Time tmp;</span><br><span class="line">        tmp.minutes = minutes + time.minutes;</span><br><span class="line">        tmp.hours = hours + time.hours + tmp.minutes / <span class="number">60</span>;</span><br><span class="line">        tmp.minutes %= <span class="number">60</span>;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="keyword">const</span> Time &amp;time) &#123;</span><br><span class="line">        os &lt;&lt; time.hours &lt;&lt; <span class="string">&quot; hourse &quot;</span> &lt;&lt; time.minutes &lt;&lt; <span class="string">&quot; minutes.&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Time <span class="title">start</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; start &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// &gt;: 1 hourse 2 minutes.</span></span><br><span class="line">    <span class="function">Time <span class="title">end</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">    <span class="built_in">end</span> = start + <span class="built_in">end</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">end</span> &lt;&lt; <span class="built_in">endl</span>;    <span class="comment">// &gt;: 11 hourse 22 minutes.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¼•å…¥äº†ä¸¤ä¸ªè¿ç®—ç¬¦é‡è½½ï¼Œåˆ†åˆ«æ˜¯ <code>+</code> å’Œ <code>&lt;&lt;</code> ï¼Œä¸¤ç§ä¸åŒçš„æ–¹å¼ï¼š<strong>æˆå‘˜å‡½æ•°è¿ç®—ç¬¦é‡è½½</strong>ï¼Œä»¥åŠ<strong>å‹å…ƒå‡½æ•°è¿ç®—ç¬¦é‡è½½</strong>ã€‚åœ¨è¿ç®—ç¬¦é‡è½½æ—¶ï¼Œå†™æˆ <code>const</code> å‡½æ•°æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼Œä¾‹å¦‚ä¸€ä¸ª <code>const Time time</code> ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¸è¿‡é¢å¤–çš„å¼€é”€æ˜¯è¿ç®—å†…éƒ¨çš„å¯¹è±¡åˆ›å»ºã€‚</p>
<p><code>+</code> è¿ç®—ç¬¦çš„é‡è½½æ˜¯æœ€ä¸€èˆ¬çš„æ“ä½œï¼Œå®šä¹‰äº†ä¸¤ä¸ª <code>Time</code> ç±»å‹è¿›è¡Œ <code>+</code> è¿ç®—æ—¶è¦æ‰§è¡Œçš„æ“ä½œï¼Œè¿™é‡Œä½¿ç”¨äº†æˆå‘˜å‡½æ•°è¿ç®—ç¬¦é‡è½½æ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>this</code> æŒ‡é’ˆè®¿é—®è°ƒç”¨è€…çš„ <code>minutes</code> å’Œ <code>hours</code> ã€‚å½“ç„¶ï¼Œå®ƒä¹Ÿå¯ä»¥å†™æˆå‹å…ƒå‡½æ•°çš„å½¢å¼ã€‚</p>
<p><code>&lt;&lt;</code> è¿ç®—ç¬¦é‡è½½æ˜¯å¦ä¸€ç±»å…¸å‹é‡è½½æ–¹å¼ï¼Œä½¿ç”¨å‹å…ƒå‡½æ•°æ¥é‡è½½ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æŒ‰ç…§è¿ç®—ç¬¦è§„åˆ™ï¼ˆåŒç›®è¿ç®—ç¬¦ï¼‰æ¥æä¾›å·¦å³ä¸¤ä¸ªå‚æ•°ï¼ˆéœ€è¦æ³¨æ„é¡ºåº~ï¼‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å†™æˆ </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="keyword">const</span> Time &amp;time, ostream &amp;os)</span><br></pre></td></tr></table></figure>
<p> ä½†æ˜¯è°ƒç”¨è¯¥å‡½æ•°æ—¶æˆäº† <code>time &lt;&lt; cout</code>ï¼Œè¿™æ ·ä¸€æ¥ï¼Œä¸æ„Ÿè§‰å“ªé‡Œæ€ªæ€ªçš„ä¹ˆğŸ™„ï¼Ÿ</p>
<h2 id="2-1-é‡è½½é™åˆ¶"><a href="#2-1-é‡è½½é™åˆ¶" class="headerlink" title="2.1 é‡è½½é™åˆ¶"></a>2.1 é‡è½½é™åˆ¶</h2><ol>
<li>é‡è½½åçš„è¿ç®—ç¬¦å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯ç”¨æˆ·å®šä¹‰çš„ç±»å‹ã€‚</li>
<li>ä½¿ç”¨è¿ç®—ç¬¦æ—¶ï¼Œä¸èƒ½è¿åè¿ç®—ç¬¦åŸæ¥çš„å¥æ³•è§„åˆ™ã€‚</li>
<li>ä¸èƒ½åˆ›å»ºæ–°è¿ç®—ç¬¦ã€‚</li>
<li>ä¸èƒ½é‡è½½ä¸‹é¢çš„è¿ç®—ç¬¦ï¼š<ul>
<li><code>size_of, . , *, ::, ?:, typeid, const_cast, dynamic_cast, reinterpret_cast, static_cast</code></li>
</ul>
</li>
<li>ä¸‹é¢çš„è¿ç®—ç¬¦åªèƒ½é€šè¿‡æˆå‘˜å‡½æ•°é‡è½½ï¼š<ul>
<li><code>=, (), [], -&gt;</code></li>
</ul>
</li>
</ol>
<h2 id="2-2-ä½¿ç”¨æˆå‘˜å‡½æ•°ï¼Ÿè¿˜æ˜¯éæˆå‘˜å‡½æ•°ï¼Ÿ"><a href="#2-2-ä½¿ç”¨æˆå‘˜å‡½æ•°ï¼Ÿè¿˜æ˜¯éæˆå‘˜å‡½æ•°ï¼Ÿ" class="headerlink" title="2.2 ä½¿ç”¨æˆå‘˜å‡½æ•°ï¼Ÿè¿˜æ˜¯éæˆå‘˜å‡½æ•°ï¼Ÿ"></a>2.2 ä½¿ç”¨æˆå‘˜å‡½æ•°ï¼Ÿè¿˜æ˜¯éæˆå‘˜å‡½æ•°ï¼Ÿ</h2><p>é™¤äº†ä¸Šé¢æåˆ°çš„å››ç§è¿ç®—ç¬¦ï¼Œè¿™ä¸¤ç§å®ç°æ–¹å¼éƒ½æ˜¯å¯ä»¥çš„ã€‚åœ¨æˆå‘˜å‡½æ•°å®ç°æ–¹å¼ä¸­ï¼Œä¸€ä¸ªæ“ä½œæ•°ä¼šé€šè¿‡ <code>this</code> æŒ‡é’ˆé»˜è®¤ä¼ é€’è¿›æ¥ï¼Œè€Œå¯¹äºå‹å…ƒå‡½æ•°æ¥è¯´ï¼Œä¸¤ä¸ªæ“ä½œæ•°éƒ½éœ€è¦æ˜¾å¼å‚æ•°ä¼ é€’ã€‚</p>
<p>ä¸è¿‡ï¼Œä¸¤ç§æ–¹å¼åªèƒ½ä½¿ç”¨ä¸€ç§ï¼Œå¦‚æœä¸¤ä¸ªéƒ½å®šä¹‰äº†ï¼Œé‚£ä¹ˆä¼šå‡ºç°<strong>äºŒä¹‰æ€§</strong>é”™è¯¯ï¼Œä»è€Œå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</p>
<h1 id="3-ç»§æ‰¿"><a href="#3-ç»§æ‰¿" class="headerlink" title="3. ç»§æ‰¿"></a>3. ç»§æ‰¿</h1><p>åœ¨è¿™éƒ¨åˆ†å¼€å§‹æ—¶ï¼Œå…ˆæ¥äº†è§£å‡ ä¸ªé€šç”¨æ¦‚å¿µã€‚</p>
<p>æ´¾ç”Ÿä¸€ä¸ªç±»ï¼šä½¿ç”¨ <code>class &lt;ClassName&gt; : public/protected/private &lt;Base_ClassName&gt;&#123;&#125;;</code> å½¢å¼æ¥å£°æ˜ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TableTennisPlayer</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">bool</span> hasTable;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    TableTennisPlayer(<span class="keyword">const</span> <span class="built_in">string</span> &amp;name) : TableTennisPlayer(name, <span class="literal">false</span>) &#123;&#125;</span><br><span class="line">    TableTennisPlayer(<span class="keyword">const</span> <span class="built_in">string</span> &amp;_name, <span class="keyword">bool</span> _hasTable) : name(_name), hasTable(_hasTable) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">has_table</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> hasTable; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_table</span><span class="params">(<span class="keyword">bool</span> _hasTable)</span> </span>&#123; hasTable = _hasTable; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// æ´¾ç”Ÿè‡ª TableTennisPlayer</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RatedPlayer</span> :</span> <span class="keyword">public</span> TableTennisPlayer &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> rating = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ è‡ªå·±çš„åŒæ—¶ï¼ŒæŠŠåŸºç±»ä¹Ÿç»™æ„é€ å¥½äº†</span></span><br><span class="line">    RatedPlayer(<span class="keyword">int</span> r = <span class="number">0</span>) : rating(r), TableTennisPlayer(<span class="string">&quot;&quot;</span>, <span class="literal">false</span>) &#123;&#125;</span><br><span class="line">    RatedPlayer(<span class="keyword">const</span> <span class="built_in">string</span> &amp;name = <span class="string">&quot;non-name&quot;</span>, <span class="keyword">int</span> r = <span class="number">0</span>, <span class="keyword">bool</span> hasTable = <span class="literal">false</span>) :</span><br><span class="line">            rating(r), TableTennisPlayer(name, hasTable) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ´¾ç”Ÿç±»ä¸ç®¡æ€æ ·éƒ½ä¸èƒ½ç›´æ¥è®¿é—®åŸºç±»çš„ç§æœ‰å±æ€§ï¼Œå³ä¾¿å…¬æœ‰æ´¾ç”Ÿä¹Ÿä¸è¡ŒğŸ¤­ã€‚</p>
<p>åœ¨æ´¾ç”Ÿç±»çš„æ„é€ è¿‡ç¨‹ä¸­ï¼Œä¼šå…ˆæŠŠåŸºç±»ç»™æ„é€ ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰æ˜¾å¼è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆä¼šè°ƒç”¨ä¸€ä¸ªé»˜è®¤çš„åŸºç±»æ„é€ å‡½æ•°ã€‚æ‰€ä»¥ä¸€èˆ¬è¦è‡ªå·±æ˜¾å¼æŒ‡å®šï¼Œä¾‹å¦‚ä¸Šé¢çš„ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">RatedPlayer(<span class="keyword">int</span> r = <span class="number">0</span>) : rating(r), TableTennisPlayer(<span class="string">&quot;&quot;</span>, <span class="literal">false</span>) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨å†…å­˜é‡Šæ”¾è¿‡ç¨‹ä¸­ï¼Œæ˜¯å…ˆé‡Šæ”¾åŸºç±»ï¼Œå†é‡Šæ”¾æ´¾ç”Ÿç±»ã€‚</p>
<p>åœ¨æ´¾ç”Ÿç±»çš„æ–‡ä»¶ä½ç½®å­˜æ”¾ä¸Šï¼Œä¸€èˆ¬æ¥è¯´è¦å’ŒåŸºç±»æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸‹ï¼Œæ–¹ä¾¿è®¿é—®åŒæ—¶ä¹Ÿæ–¹ä¾¿æŸ¥æ‰¾ï¼Œå¯¹äºç±»çš„å®šä¹‰ä¹Ÿæ˜¯ã€‚</p>
<p>æ´¾ç”Ÿç±»å¯ä»¥ä½¿ç”¨åŸºç±»æ–¹æ³•ï¼ˆå‰ææ˜¯æ–¹æ³•ä¸æ˜¯ç§æœ‰çš„ï¼‰</p>
<p>åŸºç±»æŒ‡é’ˆå¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾å¼è½¬æ¢çš„æƒ…å†µä¸‹ï¼ŒæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼›è€ŒåŸºç±»å¼•ç”¨ä¹Ÿå¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾å¼è½¬æ¢çš„æƒ…å†µä¸‹å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ã€‚ä½†æ˜¯è¿™æ ·ä¸€æ¥åªèƒ½ä½¿ç”¨åŸºç±»çš„æ–¹æ³•ï¼ˆå› ä¸ºæŒ‡é’ˆçœŸçš„æŠŠå½“å‰å¯¹è±¡çœ‹ä½œäº†åŸºç±»å¯¹è±¡ğŸ˜§ï¼‰ã€‚</p>
<p><strong>ç»§æ‰¿ï¼šåšæŒä½¿ç”¨ is-a å…³ç³»</strong>ï¼š</p>
<ul>
<li>å…¬æœ‰ç»§æ‰¿ä¸èƒ½å»ºç«‹ <code>is-like-a</code> å…³ç³»</li>
<li>å…¬æœ‰ç»§æ‰¿ä¸èƒ½å»ºç«‹ <code>is-implemented-as-a</code> å…³ç³»</li>
<li>å…¬æœ‰ç»§æ‰¿ä¸èƒ½å»ºç«‹ <code>uses-a</code> å…³ç³»</li>
</ul>
<h2 id="3-1-è®¿é—®æ§åˆ¶"><a href="#3-1-è®¿é—®æ§åˆ¶" class="headerlink" title="3.1 è®¿é—®æ§åˆ¶"></a>3.1 è®¿é—®æ§åˆ¶</h2><p><strong>ç¼–è¯‘å™¨çš„é»˜è®¤æ˜¯ç§æœ‰æ´¾ç”Ÿï¼</strong></p>
<h3 id="3-1-1-å…¬æœ‰æ´¾ç”Ÿï¼ˆPublicï¼‰"><a href="#3-1-1-å…¬æœ‰æ´¾ç”Ÿï¼ˆPublicï¼‰" class="headerlink" title="3.1.1 å…¬æœ‰æ´¾ç”Ÿï¼ˆPublicï¼‰"></a>3.1.1 å…¬æœ‰æ´¾ç”Ÿï¼ˆPublicï¼‰</h3><blockquote>
<p>  ä½¿ç”¨å…¬æœ‰æ´¾ç”Ÿï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„å…¬æœ‰æˆå‘˜ï¼ŒåŸºç±»çš„ç§æœ‰æˆå‘˜ä¹Ÿä¼šæˆä¸ºæ´¾ç”Ÿç±»çš„ä¸€éƒ¨åˆ†ï¼ˆåœ¨å†…å­˜ä¸ŠåŒ…å«å…³ç³»ï¼‰ï¼Œä½†æ˜¯åªèƒ½é€šè¿‡å…¬æœ‰æˆ–ä¿æŠ¤æ–¹æ³•æ¥è®¿é—®ã€‚</p>
</blockquote>
<h3 id="3-1-2-ä¿æŠ¤æ´¾ç”Ÿï¼ˆProtectedï¼‰"><a href="#3-1-2-ä¿æŠ¤æ´¾ç”Ÿï¼ˆProtectedï¼‰" class="headerlink" title="3.1.2 ä¿æŠ¤æ´¾ç”Ÿï¼ˆProtectedï¼‰"></a>3.1.2 ä¿æŠ¤æ´¾ç”Ÿï¼ˆProtectedï¼‰</h3><blockquote>
<p>  æ´¾ç”Ÿç±»çš„æˆå‘˜å¯ä»¥ç›´æ¥è®¿é—®åŸºç±»çš„ä¿æŠ¤æˆå‘˜å’Œå…¬æœ‰æˆå‘˜ï¼Œä½†ä»ç„¶ä¸èƒ½è®¿é—®åŸºç±»çš„ç§æœ‰æˆå‘˜ã€‚å¯¹å¤–éƒ¨æ¥è¯´ï¼Œä¿æŠ¤æˆå‘˜çš„å¯è®¿é—®æ€§å’Œç§æœ‰æˆå‘˜æ˜¯ä¸€æ ·çš„ï¼Œåœ¨ç±»çš„å¤–éƒ¨å‡ä¸å¯è®¿é—®ã€‚</p>
</blockquote>
<h3 id="3-1-3-ç§æœ‰æ´¾ç”Ÿï¼ˆPrivateï¼‰"><a href="#3-1-3-ç§æœ‰æ´¾ç”Ÿï¼ˆPrivateï¼‰" class="headerlink" title="3.1.3 ç§æœ‰æ´¾ç”Ÿï¼ˆPrivateï¼‰"></a>3.1.3 ç§æœ‰æ´¾ç”Ÿï¼ˆPrivateï¼‰</h3><blockquote>
<p>  ç§æœ‰æ´¾ç”Ÿä¹‹åï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ï¼Œéƒ½æˆäº†æ´¾ç”Ÿç±»çš„ç§æœ‰æˆå‘˜ï¼Œæ„æˆäº†ä¸€ç§ has-a çš„å…³ç³»ã€‚</p>
</blockquote>
<h2 id="3-2-æŠ½è±¡åŸºç±»"><a href="#3-2-æŠ½è±¡åŸºç±»" class="headerlink" title="3.2 æŠ½è±¡åŸºç±»"></a>3.2 æŠ½è±¡åŸºç±»</h2><p>æŠ½è±¡åŸºç±»é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯è¿™ä¸ªç±»ä¸å…è®¸è¢«å®ä¾‹åŒ–ï¼Œå®ƒæŠ½è±¡å‡ºäº†æ´¾ç”Ÿç±»éœ€è¦å®ç°çš„åŠŸèƒ½ï¼Œä½†æœ¬èº«å¹¶ä¸è¿›è¡Œå®ç°ï¼Œåªå£°æ˜æ¥å£ï¼Œä¸æä¾›å®šä¹‰ã€‚è€Œä¸”ä»æŠ½è±¡åŸºç±»æ´¾ç”Ÿå‡ºæ¥çš„ç±»ï¼Œéœ€è¦å¼ºåˆ¶å®ç°å®ƒå®šä¹‰çš„æŠ½è±¡æ¥å£ã€‚</p>
<p>å½“ç„¶ï¼ŒæŠ½è±¡åŸºç±»ä¹Ÿä¸ä¼šå¤ªå°æ°”ä»¥è‡³äºæ‰€æœ‰æ–¹æ³•éƒ½ä¸ç»™å®ç°ï¼Œå®ƒä¹Ÿä¼šæ ¹æ®éœ€è¦æä¾›ä¸€äº›å·²å®šä¹‰çš„æ–¹æ³•ï¼ˆæ´¾ç”Ÿå‡ºæ¥çš„ç±»éƒ½éœ€è¦ç”¨çš„ï¼Œè€Œä¸”å¤„ç†è¿‡ç¨‹ä¸€æ ·çš„ï¼‰ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseEllipse</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> x, y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BaseEllipse(<span class="keyword">double</span> x0 = <span class="number">0</span>, <span class="keyword">double</span> y0 = <span class="number">0</span>) : x(x0), y(y0) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> nx, <span class="keyword">int</span> ny)</span> </span>&#123; x = nx, y = ny; &#125;</span><br><span class="line">    <span class="keyword">virtual</span> ~BaseEllipse() &#123;&#125;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ =0 æ¥æŒ‡å‡ºè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œè¿™æ—¶ä¸å¯ä»¥ç›´æ¥å®ä¾‹åŒ–è¯¥ç±»ï¼Œè¿™ä¸ªè™šå‡½æ•°æ˜¯çº¯è™šå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">double</span> <span class="title">area</span><span class="params">()</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="keyword">const</span> BaseEllipse &amp;baseEllipse) &#123;</span><br><span class="line">        os &lt;&lt; baseEllipse.x &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; baseEllipse.y &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; baseEllipse.area();</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> :</span> <span class="keyword">public</span> BaseEllipse &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> r = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Circle(<span class="keyword">double</span> r0) : r(r0), BaseEllipse(<span class="number">0</span>, <span class="number">0</span>) &#123;&#125;</span><br><span class="line">    Circle(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">double</span> r0) : r(r0), BaseEllipse(x, y) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">area</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> r * r * <span class="number">3.14</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Circle <span class="title">circle</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">circle</span> &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 0 0 12.56</span></span><br><span class="line">    <span class="built_in">circle</span>.<span class="built_in">move</span>(<span class="number">3</span>, <span class="number">9</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">circle</span> &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// &gt;: 3 9 12.56</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒæŠ½è±¡å‡ºäº† <code>BaseEllipse</code> ç±»ï¼Œè¿™ä¸ªç±»ä¸­æä¾›æ±‚é¢ç§¯çš„æ–¹æ³• <code>area()</code> ï¼Œä½†æ˜¯ç”±äºä¸ç¡®å®šæ˜¯</p>
<p>æ¤­åœ†è¿˜æ˜¯æ­£åœ†ï¼Œæ‰€ä»¥æŠŠè¿™ä¸ªæ–¹æ³•çš„å…·ä½“å®ç°å°±äº¤ç»™äº†ä¸‹é¢çš„æ´¾ç”Ÿç±»ï¼Œæ´¾ç”Ÿç±»æ ¹æ®è‡ªå·±éœ€è¦è¿›è¡Œå®ç°ã€‚</p>
<p>åŒä¸Šé¢æ‰€è¿°ï¼Œè¯¥æŠ½è±¡åŸºç±»ä¹Ÿæä¾›äº†å¤§å®¶éƒ½ç”¨å¾—åˆ°çš„ <code>move()</code> æ–¹æ³•å¹¶è¿›è¡Œäº†å®ç°ã€‚</p>
<p><strong>è¦è®©ä¸€ä¸ªç±»æˆä¸ºæŠ½è±¡åŸºç±»ï¼Œå¿…é¡»æä¾›è‡³å°‘ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼</strong></p>
<p>çº¯è™šå‡½æ•°å’Œè™šå‡½æ•°ä¸»è¦åœ¨äº <code>=0</code> çš„ä¸åŒï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">f1</span><span class="params">()</span> </span>= <span class="number">0</span>; 	<span class="comment">// çº¯è™šå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">f2</span><span class="params">()</span></span>;		<span class="comment">// è™šå‡½æ•°</span></span><br></pre></td></tr></table></figure>
<h3 id="3-2-1-å¯¹äºABCçš„ä¸€äº›è®¨è®º"><a href="#3-2-1-å¯¹äºABCçš„ä¸€äº›è®¨è®º" class="headerlink" title="3.2.1 å¯¹äºABCçš„ä¸€äº›è®¨è®º"></a>3.2.1 å¯¹äºABCçš„ä¸€äº›è®¨è®º</h3><p>åœ¨ä½¿ç”¨ ABC ä¹‹å‰ï¼Œéœ€è¦é¦–å…ˆè®¾è®¡ä¸€ä¸ªè‰¯å¥½çš„æ¨¡å‹â€”â€”æŒ‡å‡ºé—®é¢˜æ‰€éœ€çš„ç±»ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚ä¸€ç§æ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯ï¼š</p>
<blockquote>
<p>  å¦‚æœè¦è®¾è®¡ç±»ç»§æ‰¿å±‚æ¬¡ï¼Œé‚£ä¹ˆåªå°†é‚£äº›ä¸ä¼šè¢«ç”¨ä½œåŸºç±»çš„ç±»è®¾è®¡ä¸ºå…·ä½“çš„ç±»ã€‚</p>
</blockquote>
<p>è®¨è®ºå®Œäº†ğŸ˜¶</p>
<h1 id="4-å¤šé‡ç»§æ‰¿ï¼ˆMIï¼‰"><a href="#4-å¤šé‡ç»§æ‰¿ï¼ˆMIï¼‰" class="headerlink" title="4. å¤šé‡ç»§æ‰¿ï¼ˆMIï¼‰"></a>4. å¤šé‡ç»§æ‰¿ï¼ˆMIï¼‰</h1><p>åœ¨C++å¤šé‡ç»§æ‰¿è¯ç”Ÿä¹‹åˆï¼Œå°±äº§ç”Ÿäº†å¾ˆå¤šäº‰è®ºï¼Œæœ‰äººå¼ºçƒˆå»ºè®®åˆ é™¤MIï¼Œå› ä¸ºå®ƒç›¸æ¯”äºå•ç»§æ‰¿æ›´å®¹æ˜“å‡ºç°é—®é¢˜ï¼Œæ›´å›°éš¾ï¼Œæ›´è¿·èŒ«ã€‚ä½†æ˜¯ä¸å¯å¦è®¤çš„æ˜¯ï¼Œåœ¨ä¸€äº›ç‰¹æ®Šåœºåˆï¼ŒMIå¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ä¸€åªä¼šé£ä¼šæ¸¸æ³³ä¼šè·‘çš„å¤§ç™½é¹…ğŸ™„å‘¢ã€‚</p>
<p>è¯ä¸å¤šè¯´ï¼Œå…ˆæ¥çœ‹ä¸‹é¢ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Worker</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Worker() : name(<span class="string">&quot;non-name&quot;</span>), id(<span class="number">0</span>) &#123;&#125;</span><br><span class="line">    Worker(<span class="keyword">const</span> <span class="built_in">string</span> &amp;_name, <span class="keyword">int</span> _id) : name(_name), id(_id) &#123;&#125;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="keyword">const</span> Worker &amp;worker) &#123;</span><br><span class="line">        os &lt;&lt; worker.id &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; worker.name;</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Waiter</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Worker &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> panache = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Waiter(<span class="keyword">int</span> p, <span class="keyword">int</span> id, <span class="keyword">const</span> <span class="built_in">string</span> &amp;name) : Worker(name, id), panache(p) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singer</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Worker &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> voice = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Singer(<span class="keyword">int</span> v, <span class="keyword">int</span> id, <span class="keyword">const</span> <span class="built_in">string</span> &amp;name) : Worker(name, id), voice(v) &#123;&#125;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="keyword">const</span> Singer &amp;singer) &#123;</span><br><span class="line">        os &lt;&lt; (Worker) singer &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; singer.voice;</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ—¶å€™ï¼Œ SingerWaiter å¯¹è±¡å†…éƒ¨ï¼Œåªæœ‰ä¸€ä¸ª Worker å®ä¾‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingerWaiter</span> :</span> <span class="keyword">public</span> Waiter, Singer &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> cost = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    SingerWaiter(<span class="keyword">int</span> c, <span class="keyword">int</span> v, <span class="keyword">int</span> p, <span class="keyword">const</span> <span class="built_in">string</span> &amp;name, <span class="keyword">int</span> id) :</span><br><span class="line">            Worker(name, id), Singer(v, id, name), Waiter(p, id, name), cost(c) &#123;&#125;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="keyword">const</span> SingerWaiter &amp;singerWaiter) &#123;</span><br><span class="line">        os &lt;&lt; (Singer) singerWaiter &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; singerWaiter.cost;</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">SingerWaiter <span class="title">singerWaiter</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;xiaoming&quot;</span>, <span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; singerWaiter &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¤§æ¦‚è¯´çš„æ˜¯ï¼Œ<code>Singer</code> æ˜¯ä¸€ç§ <code>Worker</code> ï¼Œ<code>Waiter</code> ä¹Ÿæ˜¯ä¸€ç§ <code>Waiter</code> ï¼Œ<code>SingerWaiter</code> æ˜¯ä¸€ç§ <code>Singer</code> åŒæ—¶ä¹Ÿæ˜¯ä¸€ç§ <code>Waiter</code> ã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±æ„æˆäº†ä¸€ç§å°é—­çš„ç»§æ‰¿å…³ç³»ï¼Œ<code>SingerWaiter</code> é‡Œé¢ä¼šæœ‰ä¸¤ä¸ª <code>Worker</code> å¯¹è±¡ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±ä¼šå¯¹æ•´ä¸ªçš„å¤šæ€äº§ç”Ÿå¾ˆå¤§å½±å“ï¼Œé€ æˆäºŒä¹‰æ€§æ··ä¹±ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒC++å¼•å…¥äº†<strong>è™šåŸºç±»</strong>æ¦‚å¿µï¼Œè¿™ä½¿å¾—å¤šé‡ç»§æ‰¿æˆä¸ºå¯èƒ½ğŸ˜¯ ã€‚</p>
<p><strong>è™šåŸºç±»ï¼š</strong> </p>
<blockquote>
<p>  è™šåŸºç±»ä½¿å¾—ä»å¤šä¸ªç±»ï¼ˆå®ƒä»¬çš„åŸºç±»ç›¸åŒï¼‰æ´¾ç”Ÿå‡ºçš„å¯¹è±¡ï¼Œåªç»§æ‰¿ä¸€ä¸ªåŸºç±»å¯¹è±¡ã€‚</p>
</blockquote>
<p>ç”¨æ³•å°±å¦‚ <code>Singer</code> å’Œ <code>Waiter</code> ç±»å£°æ˜ä¸€æ ·ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singer</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Worker &#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Waiter</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Worker &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¸€æ¥ï¼Œå¯¹ <code>SingerWaiter</code> çš„å£°æ˜å¯ä»¥æ˜¯ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingerWaiter</span> :</span> <span class="keyword">public</span> Waiter, <span class="keyword">public</span> Singer &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæ­¤æ—¶ <code>SingerWaiter</code> å¯¹è±¡å†…éƒ¨åªä¼šå­˜åœ¨ä¸€ä¸ª <code>Worker</code> å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ <code>Singer</code> å’Œ <code>Waiter</code> å°†ä¼šå…±äº«ä¸€ä¸ª <code>Worker</code> å¯¹è±¡ï¼Œè€Œä¸æ˜¯å„è‡ªæºå¸¦ä¸€ä¸ªã€‚</p>
<p>ç°åœ¨è§£å†³äº†å¯¹è±¡æ¨¡å‹é—®é¢˜ï¼Œé‚£ä¹ˆè¯¥æ€æ ·ä½¿ç”¨æ„é€ å‡½æ•°å‘¢ï¼Ÿ</p>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ„é€ å‡½æ•°çš„å‚æ•°ä¼šä¼ é€’ï¼Œç›´åˆ°æ„é€ å®Œæ‰€æœ‰çš„åŸºç±»ï¼Œä½†æ˜¯åœ¨è™šåŸºç±»ä¸­è¿™ä¸ªè§„åˆ™è¢«æ‰“ç ´äº†ã€‚</p>
<p><strong>æ˜¾å¼è°ƒç”¨åŸºç±»çš„æ„é€ æ–¹æ³•</strong> æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Singer(<span class="keyword">int</span> v, <span class="keyword">int</span> id, <span class="keyword">const</span> <span class="built_in">string</span> &amp;name) : Worker(name, id), voice(v) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼ é€’ç»™ <code>Singer</code> çš„ <code>id</code> ä¹Ÿä¼šä¼ é€’ç»™ <code>Worker</code> çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ç°åœ¨ä¸ä¼šäº†ï¼Œå› æ­¤å¦‚æœè¿™æ ·å£°æ˜ <code>SingerWaiter</code> ç±»çš„æ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">SingerWaiter(<span class="keyword">int</span> c, <span class="keyword">int</span> v, <span class="keyword">int</span> p, <span class="keyword">const</span> <span class="built_in">string</span> &amp;name, <span class="keyword">int</span> id) :</span><br><span class="line">    Singer(v, id, name), Waiter(p, id, name), cost(c) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæ‰“å°å‡ºæ¥ <code>SingerWaiter</code> å¯¹è±¡å°†ä¼šæ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">SingerWaiter <span class="title">singerWaiter</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;xiaoming&quot;</span>, <span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; singerWaiter &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//&gt;: 0 - non-name 2 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯è§å¹¶æ²¡æœ‰ä½¿ç”¨ <code>&quot;xiaoming&quot;</code> å’Œ <code>4</code> æ¥æ„é€  <code>Worker</code> å¯¹è±¡ã€‚å¦‚æœæ”¹ä¸ºï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">SingerWaiter(<span class="keyword">int</span> c, <span class="keyword">int</span> v, <span class="keyword">int</span> p, <span class="keyword">const</span> <span class="built_in">string</span> &amp;name, <span class="keyword">int</span> id) :</span><br><span class="line">    Worker(name, id), Singer(v, id, name), Waiter(p, id, name), cost(c) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆç»“æœå°†ä¼šå¤§ä¸åŒ~è¿™ä¸ªæ—¶å€™æ‰“å°å‡ºæ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">SingerWaiter <span class="title">singerWaiter</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;xiaoming&quot;</span>, <span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; singerWaiter &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//&gt; 4 - xiaoming 2 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯çŸ¥å‚æ•°æˆåŠŸä¼ é€’åˆ°äº† <code>Worker</code> å¯¹è±¡~ğŸ˜®ğŸ˜®ğŸ˜®</p>
<p>æˆ‘æƒ³ï¼Œå®ƒä¹‹æ‰€ä»¥è¿™æ ·åšï¼Œæ˜¯ä¸ºäº†é˜²æ­¢åœ¨åŸæœ‰çš„å‚æ•°ä¼ é€’è¿‡ç¨‹ä¸­äº§ç”Ÿ<strong>å€¼çš„è¦†ç›–</strong>é—®é¢˜å§ã€‚</p>
<blockquote>
<p>  å¦‚æœç±»æœ‰é—´æ¥è™šåŸºç±»ï¼Œä¸€èˆ¬éœ€è¦æ˜¾å¼è°ƒç”¨è¯¥è™šåŸºç±»çš„æŸä¸ªæ„é€ å‡½æ•°ã€‚</p>
</blockquote>
<h2 id="4-1-å¤šæ€ä½¿ç”¨å“ªä¸€ä¸ªæ–¹æ³•ï¼Ÿ"><a href="#4-1-å¤šæ€ä½¿ç”¨å“ªä¸€ä¸ªæ–¹æ³•ï¼Ÿ" class="headerlink" title="4.1 å¤šæ€ä½¿ç”¨å“ªä¸€ä¸ªæ–¹æ³•ï¼Ÿ"></a>4.1 å¤šæ€ä½¿ç”¨å“ªä¸€ä¸ªæ–¹æ³•ï¼Ÿ</h2><p>éº»çƒ¦ç»“æŸäº†å˜›ğŸ¥±ï¼Ÿè¿˜æ—©ç€å‘¢ğŸ˜®ğŸ˜¥ğŸ˜£ï¼Œè¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œä¸è¿‡å¤šäº†ä¸€ä¸ª <code>show()</code> æ–¹æ³•ï¼Œå¿½ç•¥æ‰å…¶ä»–ä¸é‡è¦çš„æ–¹æ³•ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Worker</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;worker &quot;</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="string">&quot; show&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Waiter</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Worker &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Waiter &quot;</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="string">&quot; show&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singer</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Worker &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Singer &quot;</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="string">&quot; show&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingerWaiter</span> :</span> <span class="keyword">public</span> Waiter, <span class="keyword">public</span> Singer &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;SingerWaiter &quot;</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="string">&quot; show&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">SingerWaiter <span class="title">singerWaiter</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;xiaoming&quot;</span>, <span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; singerWaiter &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    singerWaiter.show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºå•ç»§æ‰¿ï¼Œå¦‚æœæ´¾ç”Ÿç±»é‡Œé¢æ²¡æœ‰å®šä¹‰ <code>show()</code> æ–¹æ³•ï¼Œä¼šè‡ªåŠ¨å‘ä¸Šå»ä½¿ç”¨æœ€è¿‘ç¥–å…ˆçš„ <code>show()</code> æ–¹æ³•ï¼Œä½†æ˜¯åœ¨è¿™é‡Œç”±äºå¤šç»§æ‰¿çš„åŸå› ï¼Œ<code>singerWaiter</code> åŒæ—¶æ‰¾åˆ°äº†ä¸¤ä¸ª <code>show()</code> æ–¹æ³•ï¼Œé‚£è¿™ä¸ªæ—¶å€™ï¼Œå°±ä¼šäº§ç”ŸäºŒä¹‰æ€§é”™è¯¯ï¼Œç¼–è¯‘æ˜¯é€šä¸è¿‡æ»´~ä¼šäº§ç”Ÿä»¥ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">error: no unique final overrider <span class="keyword">for</span> <span class="string">&#x27;virtual void Worker::show() const&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;SingerWaiter&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªé—®é¢˜å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>Singer::show();</code> è¿™æ ·çš„æ–¹æ³•å»è§£å†³ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼šæŒ‡å®šä¸€ä¸ªâ€œåŸºç±»â€ï¼Œæˆ‘å°±è¦ä½¿ç”¨å®ƒçš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    Singer::show();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">SingerWaiter <span class="title">singerWaiter</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;xiaoming&quot;</span>, <span class="number">4</span>)</span></span>;</span><br><span class="line">    singerWaiter.show(); <span class="comment">// &gt;: Singer 4 - xiaoming 2 show</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶è¿™ä¸ªä»…ä»…æ˜¯åœ¨æ´¾ç”Ÿç±»ä¸­æ²¡æœ‰é‡å†™å®ç°çš„æ—¶å€™è¿™æ ·åšï¼Œå¦‚æœé‡å†™äº†å®ç°ï¼Œé‚£ä¹ˆå°±æ²¡å¿…è¦å¤§è´¹å‘¨ç« äº†ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;SingerWaiter &quot;</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="string">&quot; show&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">SingerWaiter <span class="title">singerWaiter</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;xiaoming&quot;</span>, <span class="number">4</span>)</span></span>;</span><br><span class="line">    singerWaiter.show(); <span class="comment">// &gt;: SingerWaiter 4 - xiaoming 2 1 show</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h1><p>æ­£å¦‚æ‰€è§ï¼ŒC++è¿˜æ˜¯æœ‰ç‚¹ä¸œè¥¿çš„ğŸ˜«ã€‚å¸Œæœ›æŸä¸€å¤©æ—©æ™¨èµ·æ¥æ„å¤–ä¹‹å–œï¼Œå¾—åˆ°ä¸€ç›®åè¡Œè¿‡ç›®ä¸å¿˜çš„æŠ€èƒ½å§ğŸ¥º</p>
<p>å¥½å•¦~æ­£å¥½å†™å®Œ~æ­£å¥½åˆ°äº†åƒé¥­çš„ç‚¹ï¼</p>
]]></content>
      <categories>
        <category>C/C++å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaè™šæ‹ŸæœºClassæ–‡ä»¶ç»“æ„</title>
    <url>/2020/12/19/Java%E8%99%9A%E6%8B%9F%E6%9C%BAClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<p>Classæ–‡ä»¶ç»“æ„å…¶å®å°±æ˜¯ä¸€æœ¬å¤§å­—å…¸ï¼Œå­—å…¸çš„ç”¨æ³•å¯¹æ™®é€šäººè€Œè¨€æ˜¯ç”¨çš„æ—¶å€™æŸ¥æŸ¥çœ‹çœ‹ï¼Œé‚£ä¸ºä»€ä¹ˆç°åœ¨æ¥ä¸“é—¨å•ƒ<strong>Classæ–‡ä»¶ç»“æ„</strong>è¿™æœ¬å­—å…¸å‘¢ï¼Ÿé‚£è‚¯å®šæ˜¯å› ä¸º<del>å–œæ¬¢</del>æˆ–è€…æƒ³æ‰¾åˆ°å¥½å·¥ä½œäº†ã€‚</p>
<a id="more"></a>
<blockquote>
<p>  ä¸‹æ–‡ä¸­Classæ–‡ä»¶ã€ç±»æ–‡ä»¶æ˜¯æŒ‡åŒä¸€ä¸ªä¸œè¥¿ã€‚</p>
</blockquote>
<h1 id="0-ä¸€ç‚¹éï¼ˆçï¼‰æƒ³"><a href="#0-ä¸€ç‚¹éï¼ˆçï¼‰æƒ³" class="headerlink" title="0. ä¸€ç‚¹éï¼ˆçï¼‰æƒ³"></a>0. ä¸€ç‚¹éï¼ˆçï¼‰æƒ³</h1><p>ç±»æ–‡ä»¶ç»™Javaè™šæ‹Ÿæœºå¸¦æ¥äº†ç»Ÿä¸€çš„ç¨‹åºå­˜å‚¨æ ¼å¼æ ‡å‡†ï¼Œå±è”½æ‰äº†æœ€åº•å±‚åŒ…æ‹¬æ“ä½œç³»ç»Ÿã€æœºå™¨æŒ‡ä»¤çš„ç»†èŠ‚ä¿¡æ¯ã€‚å­˜å‚¨æ ¼å¼çš„ä¸€å°æ­¥ï¼ŒJavaæˆåŠŸçš„ä¸€å¤§æ­¥ï¼Œè¿™ç§å¹³å°æ— å…³æ€§çš„æ¦‚å¿µä½¿å¾—è€è©¹ï¼ˆJames Goslingï¼ŒJavaåˆ›å§‹äººï¼‰è¯´çš„é‚£å¥è¯å¾—ä»¥æˆçœŸï¼š</p>
<blockquote>
<p>  â€œWrite once, run anywhere.â€</p>
</blockquote>
<p>è€Œä¸”å°±ç›®å‰æ¥çœ‹ï¼Œå¤§å®¶ä¼¼ä¹éƒ½æœ‰è¶‹å‘äºä½¿ç”¨ä¸€ç§æ–¹æ³•æˆ–è€…ä¸€ç§è¯­è¨€æ¥è§£å†³å¤šä¸ªå¹³å°çš„é—®é¢˜ã€‚å¾€å¤§äº†è¯´ï¼Œé€æ¸æ´»è·ƒçš„ <code>Flutter</code> æ¡†æ¶ï¼Œ<code>React</code> æ¡†æ¶ï¼Œå®ƒä»¬ä¹Ÿæœ‰å¸®åŠ©å¼€å‘è€…å»ä½¿ç”¨ä¸€å¥—æºç æ¥è§£å†³å¤šä¸ªä¸åŒå¹³å°è½¯ä»¶åˆ†å‘çš„é—®é¢˜ã€‚å¾€ç»†çš„è¯´ï¼Œä¾‹å¦‚å®¹å™¨æŠ€æœ¯ï¼Œè™šæ‹ŸæœºæŠ€æœ¯ï¼Œå°±è¾¾åˆ°äº†ä½¿ç”¨ä¸€å¥—è½¯ä»¶æ¥å¸®åŠ©ç”¨æˆ·è§£å†³æ“ä½œç³»ç»Ÿæˆ–è€…æ“ä½œç³»ç»Ÿç¯å¢ƒçš„ä¸ä¸€è‡´æ€§çš„é—®é¢˜ã€‚å†å¾€ç»†çš„è¯´ï¼Œä¾‹å¦‚Javaè™šæ‹ŸæœºHotSpotï¼Œä»¥åŠHotSpotçš„å¢å¼ºç‰ˆ<strong>Graal VM</strong>ï¼ˆä¸çŸ¥æ˜¯å¦å¯ä»¥å»ºè®®Oracleå‚è€ƒä¸€ä¸‹å½“ä»Šæµè¡Œçš„ç‰ˆæœ¬å‘½åè¿­ä»£è§„åˆ™ï¼Œæ”¹åä¸ºHotSpot Plusç‰ˆæˆ–è€…Maxç‰ˆäº¦æˆ–è€…Proç‰ˆï¼ŸğŸ¤”ï¼‰ï¼Œå®ƒé€šè¿‡å»ºç«‹æ”¯æŒScalaï¼ŒGroovyï¼ŒKotlinï¼ŒC/C++ï¼ŒRustï¼ŒPythonç­‰è¯¸å¤šä¸åŒç±»å‹çš„è¯­è¨€çš„è™šæ‹Ÿæœºï¼Œæ¥å¸®åŠ©å¼€å‘è€…è§£å†³ç¼–ç¨‹è¯­è¨€çš„ä¸ä¸€è‡´æ€§ï¼Œå•ä»å®ƒçš„å®£ä¼ è¯­ï¼š</p>
<blockquote>
<p>  â€œRun Programs Faster Anywhere.â€</p>
</blockquote>
<p>å°±å¯ä»¥çœ‹å‡ºå®ƒä¸å®ƒçš„å‰è¾ˆHotSpotè™šæ‹Ÿæœºæœ‰è¿‡ä¹‹è€Œæ— ä¸åŠçš„æ„Ÿè§‰ã€‚</p>
<p>é‚£ä¹ˆç…§æ­¤è¶‹åŠ¿ä¸‹å»ï¼Œæ˜¯å¦æœ‰ä¸€å¤©ä¼šæˆä¸ºè¿™æ ·ï¼šç¨‹åºğŸ’æœ€ç»ˆé¢å¯¹ç¨‹åºè¯­è¨€çš„é€‰æ‹©æ—¶ï¼Œå¦‚æ— å¿…è¦ï¼Œé‚£å°±çé€‰ï¼Œåæ­£éƒ½æ˜¯é¢å‘Googleç¼–ç¨‹+é¢å‘è™šæ‹Ÿæœºç¼–ç¨‹ã€‚</p>
<p>è¿™ä¹ˆä¸€çœ‹ï¼Œå–œæ¬¢ä½¿ç”¨åŒä¸€ä¸ªä¸œè¥¿è§£å†³ä¸åŒé—®é¢˜ï¼Œè¿™ä¸å°±æ˜¯æƒ³å·æ‡’ä¹ˆã€‚å¯èƒ½å¯¹ç¨‹åºğŸ’æ¥è¯´ï¼Œå·æ‡’æ‰æ˜¯æé«˜ç”Ÿäº§åŠ›çš„é‡è¦åŠ¨åŠ›ï¼Œæç„¶å¤§æ˜ç™½ğŸ˜®ã€‚è¿™ä¸ªç»“è®ºæœ‰æ²¡æœ‰æ™®é€‚æ€§ä¸çŸ¥é“ï¼Œèµ·ç å¯¹æœ¬æ–‡ä½œè€…æ¥è¯´æ˜¯è¿™æ ·çš„ï¼Œå–œæ¬¢ç”¨ä¸€äº›è‡ªåŠ¨åŒ–çš„ä¸œè¥¿æ¥å¸®åŠ©è§£å†³ç”Ÿæ´»ä¸­çš„ä¸€äº›é—®é¢˜ï¼Œè§£æ”¾æœ¬æ¥å®¹é‡å°±ä¸è¶³çš„å°è„‘é˜”ğŸ˜œã€‚</p>
<p>æ‰¯è¿œäº†ï¼Œå›å½’æ­£é¢˜ã€‚</p>
<h1 id="1-ç±»æ–‡ä»¶ç»“æ„æ¦‚è§ˆ"><a href="#1-ç±»æ–‡ä»¶ç»“æ„æ¦‚è§ˆ" class="headerlink" title="1. ç±»æ–‡ä»¶ç»“æ„æ¦‚è§ˆ"></a>1. ç±»æ–‡ä»¶ç»“æ„æ¦‚è§ˆ</h1><p>é¦–å…ˆå¤§æ¦‚è®°ä½Classæ–‡ä»¶ç»“æ„åˆ†æˆå“ªå‡ éƒ¨åˆ†ï¼Œç„¶åå†å»æ·±ç©¶æ¯ä¸€éƒ¨åˆ†éƒ½æœ‰ä»€ä¹ˆï¼Œæ¯ä¸€éƒ¨åˆ†æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆåƒçš„ï¼Œå¦‚æœä¸€ä¸‹æ¥å°±ç›¯ç€ä¸€å—å„¿ç¡¬çœ‹ï¼Œå¾ˆå®¹æ˜“å¤±å»å…´è¶£ã€‚</p>
<p>ä¸€ä¸ªClassæ–‡ä»¶é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>Classæ–‡ä»¶å…ƒä¿¡æ¯ï¼šä¸»è¦åŒ…æ‹¬é­”æ•°ï¼ˆä¸æ˜¯é­”æœ¯ğŸ™‚ï¼‰ï¼Œä»¥åŠClassæ–‡ä»¶çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</li>
<li>å¸¸é‡æ± ï¼šåŒ…æ‹¬å­—é¢é‡ï¼ˆLiteralï¼‰ä»¥åŠç¬¦å·å¼•ç”¨ï¼ˆSymbolic Referencesï¼‰ã€‚</li>
<li>è®¿é—®æ ‡å¿—è¡¨ï¼šæ ‡è®°è¿™ä¸ªClassæ–‡ä»¶æ˜¯ç±»ï¼Ÿè¿˜æ˜¯æ¥å£ï¼Ÿæ˜¯ <code>public</code> çš„è¿˜æ˜¯ <code>private</code> çš„ï¼Ÿæ˜¯ä¸æ˜¯ <code>abstract</code> çš„ï¼Ÿ</li>
<li>ç±»ç´¢å¼•è¡¨ï¼šåŒ…æ‹¬ç±»ç´¢å¼•ï¼Œçˆ¶ç±»ç´¢å¼•ï¼Œæ¥å£ç´¢å¼•ï¼Œè®°å½•äº†å½“å‰ç±»æ‰€ç»§æ‰¿çš„çˆ¶ç±»å’Œæ¥å£ä¿¡æ¯ã€‚ </li>
<li>å­—æ®µè¡¨ï¼šæè¿°ç±»æ–‡ä»¶ä¸­å£°æ˜çš„å˜é‡ï¼Œä¸»è¦åŒ…æ‹¬<strong>ç±»å˜é‡</strong>å’Œ<strong>å®ä¾‹å˜é‡</strong>ã€‚</li>
<li>æ–¹æ³•è¡¨ï¼šé¡¾åæ€ä¹‰ï¼Œæè¿°ç±»æ–‡ä»¶ä¸­æ‰€åŒ…å«çš„æ–¹æ³•ã€‚</li>
<li>å±æ€§è¡¨ï¼šæœ€ä¸ºå¤æ‚ä¹Ÿæœ€çµæ´»çš„éƒ¨åˆ†ï¼Œå¤æ‚æ˜¯å› ä¸ºåŒ…å«äº†æ•°åä¸ªå¤§å¤§å°å°çš„å¿…è¦çš„å¯é€‰çš„å±æ€§ï¼Œçµæ´»æ˜¯å› ä¸ºã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹åœ¨åˆ¶å®šä¹‹åˆå°±æ²¡æœ‰å¯¹å…¶è¿›è¡Œè¿‡å¤šçš„é™åˆ¶ï¼Œåªè¦åç§°ä¸é‡å¤ï¼Œä»»ä½•äººå®ç°çš„ç¼–è¯‘å™¨éƒ½èƒ½å¾€å±æ€§è¡¨ä¸­å¢åŠ è‡ªå·±å®šä¹‰çš„å±æ€§ä¿¡æ¯ã€‚</li>
</ol>
<h1 id="2-å°è¯•æ¢ç©¶ç±»æ–‡ä»¶ç»†èŠ‚"><a href="#2-å°è¯•æ¢ç©¶ç±»æ–‡ä»¶ç»†èŠ‚" class="headerlink" title="2. å°è¯•æ¢ç©¶ç±»æ–‡ä»¶ç»†èŠ‚"></a>2. å°è¯•æ¢ç©¶ç±»æ–‡ä»¶ç»†èŠ‚</h1><p>å…¶å®åˆ°å‰ä¸€èŠ‚ï¼Œå°±å·²ç»è¾¾åˆ°äº†æµ…å°è¾„æ­¢çš„ç»“æœäº†ï¼ŒçŸ¥é“äº†ç±»æ–‡ä»¶é‡Œé¢éƒ½æœ‰å•¥ï¼Œå¹²å•¥ç”¨çš„ã€‚ä½†æ˜¯åæ¥çœ‹åˆ°è¿™æ ·ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>  å¯¹æ–‡ä»¶æ ¼å¼ã€ç»“æ„æ–¹é¢çš„å­¦ä¹ ï¼Œæœ‰ç‚¹ç±»ä¼¼äºâ€œè¯»å­—å…¸â€ï¼Œä¸å¯é¿å…æ„Ÿåˆ°æ¯ç‡¥ï¼Œä½†è¿™åˆæ˜¯Javaè™šæ‹Ÿæœºçš„é‡è¦åŸºç¡€ä¹‹ä¸€ï¼Œæ˜¯äº†è§£è™šæ‹Ÿæœºçš„å¿…ç»ä¹‹è·¯ï¼Œå¦‚æœæƒ³æ¯”è¾ƒæ·±å…¥å­¦ä¹ Javaè™šæ‹Ÿæœºçš„ç›¸å…³çŸ¥è¯†ï¼Œè¿™éƒ¨åˆ†æ˜¯æ— æ³•å›é¿çš„ã€‚</p>
<p>  â€”â€”ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ç¬¬ä¸‰ç‰ˆ</p>
</blockquote>
<p>è¿˜æ˜¯ç¡¬ç€å¤´çš®å†æ¥çœ‹çœ‹å§ã€‚</p>
<p>è¿™é‡Œå‚è€ƒä¸€ä¸ªç¼–è¯‘åç”¨åå…­è¿›åˆ¶æ‰“å¼€çš„Classæ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<p><img data-src="https://s3.ax1x.com/2020/12/19/rUkLxs.png" alt="Classæ–‡ä»¶åå…­è¿›åˆ¶è¡¨ç¤º" style="zoom:66%;" /></p>
<h2 id="2-1-æ–‡ä»¶ç»“æ„"><a href="#2-1-æ–‡ä»¶ç»“æ„" class="headerlink" title="2.1 æ–‡ä»¶ç»“æ„"></a>2.1 æ–‡ä»¶ç»“æ„</h2><p>Classæ–‡ä»¶æ˜¯ä¸€ç»„ä»¥<strong>8</strong>ä¸ªå­—èŠ‚ä¸ºåŸºç¡€å•ä½çš„äºŒè¿›åˆ¶æµï¼Œæ’åˆ—ç´§å‡‘æ²¡æœ‰åˆ†éš”ç¬¦ï¼Œå¦‚æœé‡åˆ°å¤§äº8ä¸ªå­—èŠ‚ä»¥ä¸Šçš„æ•°æ®æ—¶ï¼Œä¼šæŒ‰ç…§é«˜ä½åœ¨å‰çš„å­˜å‚¨æ–¹å¼åˆ†å‰²ã€‚</p>
<h2 id="2-2-Classæ–‡ä»¶å…ƒä¿¡æ¯"><a href="#2-2-Classæ–‡ä»¶å…ƒä¿¡æ¯" class="headerlink" title="2.2 Classæ–‡ä»¶å…ƒä¿¡æ¯"></a>2.2 Classæ–‡ä»¶å…ƒä¿¡æ¯</h2><p>è¿™ä¸€éƒ¨åˆ†ä¸»è¦åŒ…æ‹¬<strong>é­”æ•°</strong>å’ŒClassæ–‡ä»¶ç‰ˆæœ¬å·ï¼Œé­”æ•°å”¯ä¸€ä½œç”¨å°±æ˜¯è®©è™šæ‹Ÿæœºåˆ¤æ–­è¯¥æ–‡ä»¶æ˜¯ä¸æ˜¯ä¸€ä¸ªå¯è§£æç±»å‹çš„æ–‡ä»¶ï¼Œè¿™ä¸ªå€¼å°±æ˜¯æœ€å¼€å§‹çš„4ä¸ªå­—èŠ‚ <code>0xCAFEBABE</code>ã€‚</p>
<p>ä¹‹åçš„å››ä¸ªå­—èŠ‚å°±æ˜¯Classæ–‡ä»¶ç‰ˆæœ¬å·ï¼Œè¿™é‡Œæ˜¯ <code>0x00000037</code>ï¼Œä¹Ÿå°±æ˜¯ <code>55</code> ï¼Œç‰ˆæœ¬å·ä¸JDKç‰ˆæœ¬å¯¹åº”å…³ç³»å¯ä»¥åœ¨Javaå®˜ç½‘ä¸Šæ‰¾åˆ°ï¼Œè¿™é‡Œçš„55å¯¹åº”çš„å°±æ˜¯JDK11ã€‚</p>
<h2 id="2-3-å¸¸é‡æ± "><a href="#2-3-å¸¸é‡æ± " class="headerlink" title="2.3 å¸¸é‡æ± "></a>2.3 å¸¸é‡æ± </h2><p>æ’åˆ—åœ¨å…ƒä¿¡æ¯ä¹‹åçš„å°±æ˜¯å¸¸é‡æ± ï¼Œå¸¸é‡æ± ä¸»è¦åŒ…æ‹¬å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ã€‚</p>
<p>å­—é¢é‡å°±æ˜¯Javaé‡Œé¢çš„å¸¸é‡æ¦‚å¿µã€‚</p>
<p>ç¬¦å·å¼•ç”¨åŒ…æ‹¬ï¼š</p>
<ul>
<li>åŒ…</li>
<li>ç±»å’Œæ¥å£çš„å…¨ç§°</li>
<li>å­—æ®µåç§°åŠå…¶æè¿°ç¬¦</li>
<li>æ–¹æ³•åç§°åŠå…¶æè¿°ç¬¦</li>
<li>æ–¹æ³•å¥æŸ„å’Œæ–¹æ³•ç±»å‹</li>
<li>åŠ¨æ€è°ƒç”¨ç‚¹å’ŒåŠ¨æ€å¸¸é‡</li>
</ul>
<p>è™šæ‹Ÿæœºåšç±»çš„åŠ è½½æ—¶ï¼Œä¼šä»å¸¸é‡æ± ä¸­è·å–å¯¹åº”çš„ç¬¦å·å¼•ç”¨ï¼Œåœ¨è¿è¡Œæ—¶å¯¹ç±»è¿›è¡Œè§£æåˆ›å»ºï¼Œå¹¶æ”¾åˆ°å…·ä½“çš„å†…å­˜ä¸­ã€‚</p>
<h2 id="2-4-è®¿é—®æ ‡å¿—"><a href="#2-4-è®¿é—®æ ‡å¿—" class="headerlink" title="2.4 è®¿é—®æ ‡å¿—"></a>2.4 è®¿é—®æ ‡å¿—</h2><p>å¸¸é‡æ± ä¹‹åå°±æ˜¯Classæ–‡ä»¶è®¿é—®æ ‡å¿—ï¼Œå ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ ‡è®°è¿™ä¸ªClassæ–‡ä»¶æ˜¯ç±»è¿˜æ˜¯æ¥å£ï¼Œæ˜¯ <code>public</code> çš„è¿˜æ˜¯ <code>private</code> çš„ï¼Œä»¥åŠæ˜¯ä¸æ˜¯ <code>abstract</code> æŠ½è±¡æˆ–è€… <code>enum</code> æšä¸¾ç±»äº¦æˆ–è€…æ˜¯ <code>annotation</code> æ³¨è§£ç±»ã€‚</p>
<h2 id="2-5-ç±»ç´¢å¼•è¡¨"><a href="#2-5-ç±»ç´¢å¼•è¡¨" class="headerlink" title="2.5 ç±»ç´¢å¼•è¡¨"></a>2.5 ç±»ç´¢å¼•è¡¨</h2><p>ç±»ç´¢å¼•è¡¨åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼Œç±»ç´¢å¼•ï¼Œçˆ¶ç±»ç´¢å¼•ä»¥åŠæ¥å£ç´¢å¼•é›†åˆï¼Œå‰é¢ä¸¤ä¸ªå¥½ç†è§£ï¼Œç±»ç´¢å¼•å°±æ˜¯ç”¨æ¥æŸ¥æ‰¾è¿™ä¸ªç±»çš„å…¨ç§°ï¼Œçˆ¶ç±»ç´¢å¼•ä¹Ÿæ˜¯ç”¨æ¥ç¡®å®šçˆ¶ç±»çš„å…¨ç§°ã€‚å…¶å®æœ€åä¸€ä¸ªä¹Ÿå¥½ç†è§£ï¼Œå› ä¸ºJavaä¸æ”¯æŒå¤šç»§æ‰¿ä½†æ˜¯æ”¯æŒå®ç°å¤šä¸ªæ¥å£å‘€ï¼Œæ‰€ä»¥è¦ç”¨åˆ°ä¸€ä¸ªé›†åˆã€‚æ€»ä¹‹ï¼Œå®ƒä»¬æŒ¨ä¸ªæŒ‰ç…§åœ¨æºç ä¸­çš„å£°æ˜é¡ºåºæ’åˆ—åœ¨è®¿é—®æ ‡å¿—ä¹‹åã€‚</p>
<h2 id="2-6-å­—æ®µè¡¨"><a href="#2-6-å­—æ®µè¡¨" class="headerlink" title="2.6 å­—æ®µè¡¨"></a>2.6 å­—æ®µè¡¨</h2><p>å¹³å¹³æ— å¥‡ï¼Œå°±æ˜¯æè¿°ç±»ä¸­çš„å­—æ®µï¼š</p>
<ul>
<li>ä½œç”¨åŸŸï¼š <code>private</code>ï¼Œ<code>protected</code>ï¼Œ<code>public</code>ã€‚</li>
<li>ç±»å˜é‡orå®ä¾‹å˜é‡ï¼š<code>static</code>ã€‚</li>
<li>å¯å˜æ€§ï¼š<code>final</code>ã€‚</li>
<li>å¹¶å‘å¯è§æ€§ï¼š<code>volatile</code>ã€‚</li>
<li>å¯åºåˆ—åŒ–æ€§ï¼š<code>transient</code>ã€‚</li>
<li>æ•°æ®ç±»å‹ã€‚</li>
</ul>
<p>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>å­—æ®µè¡¨ä¸­å¹¶ä¸ä¼šå‡ºç°çˆ¶ç±»ä¸­ç»§æ‰¿è€Œæ¥çš„å­—æ®µï¼Œä½†æ˜¯ä¼šé™„åŠ ä¸€ä¸ªç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„æŒ‡å‘å¤–éƒ¨å®ä¾‹çš„å­—æ®µã€‚</strong></p>
<h2 id="2-7-æ–¹æ³•è¡¨"><a href="#2-7-æ–¹æ³•è¡¨" class="headerlink" title="2.7 æ–¹æ³•è¡¨"></a>2.7 æ–¹æ³•è¡¨</h2><p>å†…å®¹ä¸å­—æ®µè¡¨æå…¶ç±»ä¼¼ï¼Œä½†æ˜¯æœ‰å‡ ä¸ªç‰¹æ®Šåœ°æ–¹ï¼š</p>
<ul>
<li><strong>ç¼–è¯‘å¥½çš„ç¨‹åºå¹¶ä¸åœ¨æ–¹æ³•è¡¨ä¸­ï¼Œè€Œæ˜¯åœ¨å±æ€§è¡¨ä¸­ä¸€ä¸ªå«</strong> <code>code</code> <strong>çš„å±æ€§é‡Œé¢ã€‚</strong></li>
<li><strong>åœ¨Classæ–‡ä»¶è®¾è®¡ä¸Šï¼Œå…è®¸ä¸¤ä¸ªæ–¹æ³•æœ‰åŒæ ·çš„åç§°å’Œå‚æ•°åˆ—è¡¨ï¼Œåªè¦è¿”å›å€¼ä¸åŒä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åœ¨Javaè¯­æ³•ä¸Šä¸å…è®¸ã€‚</strong>è¿™å°±æ˜¯ä¸€ä¸ªClassæ–‡ä»¶åŠŸèƒ½å¤§äºJavaè¯­æ³•åŠŸèƒ½çš„ä¾‹å­ğŸ˜¯ã€‚</li>
</ul>
<h2 id="2-8-å±æ€§è¡¨"><a href="#2-8-å±æ€§è¡¨" class="headerlink" title="2.8 å±æ€§è¡¨"></a>2.8 å±æ€§è¡¨</h2><p>å·¨é•¿æ— æ¯”ğŸ˜Ÿï¼Œéœ€è¦ä¸‹æ¬¡æ…¢æ…¢é“æ¥ğŸ¤ªã€‚</p>
<hr>
<p>å…¶å®å¹¶ä¸åº”è¯¥å¯¹è¿™éƒ¨åˆ†æ„Ÿåˆ°æ— èŠï¼Œå› ä¸ºä»1997å¹´ï¼ˆï¼åŒå¹´ğŸ•ğŸ”ğŸŸğŸŒ­ğŸ¿ğŸ¥“ğŸ³ğŸ§€ğŸ–ï¼Œæ„å¤–çš„æƒŠå–œï¼‰å‘å¸ƒçš„ç¬¬ä¸€ç‰ˆã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹å¼€å§‹ï¼Œåˆ°å¦‚ä»ŠäºŒåå¤šå¹´ï¼Œè®¡ç®—æœºæŠ€æœ¯æ—¥æ–°æœˆå¼‚çš„æ›´æ–°è¿­ä»£ï¼Œå´ä»æœªæ’¼åŠ¨è¿‡è¿™ä¸ªå¤è€è€Œåˆç¨³å®šçš„è®¾è®¡ï¼Œç”šè‡³ç»™äººä¸€ç§é”™è§‰æœ€åˆçš„è®¾è®¡è€…æ˜¯å¯ä»¥é¢„æµ‹åˆ°æœªæ¥çš„è®¡ç®—æœºæŠ€æœ¯å‘å±•çš„ã€‚ä»è¿™ä¸€ç‚¹æ¥çœ‹ï¼Œç†åº”å¯¹è¿™ç§æ™ºæ…§æŠ±æœ‰å´‡é«˜çš„æ•¬æ„ï¼Œè€Œä¸æ˜¯å“ˆæ¬ ğŸ˜ªã€‚</p>
<p>å¥½å•¦ï¼Œå›å®¿èˆï¼</p>
]]></content>
      <categories>
        <category>JVM</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
        <tag>è™šæ‹Ÿæœº</tag>
      </tags>
  </entry>
  <entry>
    <title>2020å¹´åº¦æ€»ç»“</title>
    <url>/2020/12/26/2020%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡ç‰¹æ®Šçš„æ–‡ç« ã€‚</p>
<p>2020å¹´ï¼Œæˆ‘ä¸€å…±å†™äº†34ç¯‡æ–‡ç« ï¼Œå…¶ä¸­26ç¯‡è®°å½•å‘è¡¨åœ¨äº†å¾®ä¿¡å…¬ä¼—å·ä¸Šï¼Œåˆ†ç±»å¦‚ä¸‹ï¼š</p>
<a id="more"></a>
<h1 id="1-C-STLæºç åˆ†æåŠåŸºç¡€ç±»"><a href="#1-C-STLæºç åˆ†æåŠåŸºç¡€ç±»" class="headerlink" title="1. C++ STLæºç åˆ†æåŠåŸºç¡€ç±»"></a>1. C++ STLæºç åˆ†æåŠåŸºç¡€ç±»</h1><ol>
<li><a href="https://mp.weixin.qq.com/s/3PNX65MOx19vD6avf8qM_w">C++ä¸­çš„lambdaè¡¨è¾¾å¼æ¢ç©¶</a></li>
<li><a href="https://mp.weixin.qq.com/s/oBZnto4jcJuxDH_cx5y33Q">C++ä¸­çš„unordered_mapå’ŒmapåŒºåˆ«</a></li>
<li><a href="https://mp.weixin.qq.com/s/FSM_y2aJzZ89UliXnO5YMg">C++ä¸­push_backå’Œemplace_backçš„åŒºåˆ«</a></li>
<li><a href="https://mp.weixin.qq.com/s/scmBC34eUORgUI1wvuy3RA">C++çš„å¯å˜å‚æ•°æ¨¡æ¿</a></li>
<li><a href="https://mp.weixin.qq.com/s/BDMvyeIIHoM37UHkjbBT4w">C++çš„é¡ºåºå®¹å™¨æ¯”è¾ƒ</a></li>
<li><a href="https://mp.weixin.qq.com/s/d4LKxOK1Zyqo1EEY99v41A">C++ä¸­upper_boundå’Œlower_boundçš„åŒºåˆ«</a></li>
<li><a href="https://mp.weixin.qq.com/s/vdx6USLcafB9yriwNpNwBQ">C++çš„å¤šçº¿ç¨‹ï¼ˆâ… ï¼‰</a></li>
<li><a href="https://mp.weixin.qq.com/s/YEZK-OzF3nU2bJhmyrlKfA">C++çš„å¤šçº¿ç¨‹ï¼ˆâ…¡ï¼‰</a></li>
<li><a href="https://mp.weixin.qq.com/s/grHCFBd6V0CGYoS81suG3A">Cå’ŒC++ä½¿ç”¨å¯¹æ–¹ç¼–è¯‘çš„åŠ¨æ€é“¾æ¥åº“</a></li>
<li><a href="https://mp.weixin.qq.com/s/RDg8W2-m_xkUOQ18rEOYtg">åˆè¯†C++çš„ç±»</a></li>
<li><a href="https://mp.weixin.qq.com/s/QMCZu2YBsWL0Uo-x3hyV0Q">å†æ¢C++çš„ç±»ï¼ˆæ„é€ å‡½æ•°ï¼‰</a></li>
<li><a href="https://mp.weixin.qq.com/s/ZshY9tIUchV-1mabYOcgZQ">ä¼˜å…ˆçº§é˜Ÿåˆ—çš„ç®€å•æ¢ç´¢</a></li>
<li><a href="https://mp.weixin.qq.com/s/uL7dXchVBQyouragI1wtDQ">å†å†æ¢C++çš„ç±»</a></li>
<li><a href="https://mp.weixin.qq.com/s/NX1XurF6i8g6-qpxKtfFQQ">C++ä½è¿ç®—åŠå†…å­˜å­—èŠ‚è®¡ç®—</a></li>
<li><a href="https://mp.weixin.qq.com/s/WbhvB_SJuE5C4WxQb5nGSA">C++å®ç°Kå‡å€¼ç®—æ³•</a></li>
<li><a href="https://mp.weixin.qq.com/s/ZyFmdD7EKtNLlNaSQfr2gQ">C++å†…å­˜æ³„æ¼ï¼ˆåŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼‰</a></li>
<li><a href="https://mp.weixin.qq.com/s/4ahldu3DCX22u-dlALQpDw">ã€é˜…è¯»ç¬”è®°ã€‘Effective C++ï¼ˆâ… ï¼‰</a></li>
<li><a href="https://mp.weixin.qq.com/s/tzFwfFecNUdIiHAuOi3HZA">æ¢ç´¢STLå®¹å™¨ï¼švector</a></li>
<li><a href="https://mp.weixin.qq.com/s/kR70YJCAmD7Ym6zd1l4w7w">æ¢ç´¢STLï¼šå †æ•°æ®ç»“æ„åŠç®—æ³•</a></li>
</ol>
<h1 id="2-JVMåŠJavaåŸºç¡€ç±»"><a href="#2-JVMåŠJavaåŸºç¡€ç±»" class="headerlink" title="2. JVMåŠJavaåŸºç¡€ç±»"></a>2. JVMåŠJavaåŸºç¡€ç±»</h1><ol>
<li><a href="https://mp.weixin.qq.com/s/KsIc4jZPKEIFc2CEGSiytg">ç¼–è¯‘OpenJDK12</a></li>
<li><a href="https://mp.weixin.qq.com/s/I0lXhTOy5LzJ6q6WeUatGQ">Javaè™šæ‹Ÿæœºå†…å­˜åŠå†…å­˜æº¢å‡ºå¼‚å¸¸</a></li>
<li><a href="https://mp.weixin.qq.com/s/TLRq9oRqfYX5c0amZ5nNEw">Javaè™šæ‹Ÿæœºæ€§èƒ½ç›‘æ§åŠæ•…éšœå¤„ç†å·¥å…·æ£è…¾</a></li>
<li><a href="https://mp.weixin.qq.com/s/HA44uLuL5WSasgyzJhca9w">å¹¶æŸ¥é›†ç®—æ³•åŠåº”ç”¨</a></li>
<li><a href="https://mp.weixin.qq.com/s/zWt_KVFg4L4-xgb06yM_gw">Javaè™šæ‹ŸæœºClassæ–‡ä»¶ç»“æ„</a></li>
</ol>
<h1 id="3-è€ƒè¯•çŸ¥è¯†ç‚¹æ€»ç»“ç±»"><a href="#3-è€ƒè¯•çŸ¥è¯†ç‚¹æ€»ç»“ç±»" class="headerlink" title="3. è€ƒè¯•çŸ¥è¯†ç‚¹æ€»ç»“ç±»"></a>3. è€ƒè¯•çŸ¥è¯†ç‚¹æ€»ç»“ç±»</h1><ol>
<li><a href="https://hxz1998.gitee.io/2020/11/04/%E8%BD%AF%E8%80%83%EF%BC%88%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88%EF%BC%89%E9%83%A8%E5%88%86%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/">è½¯è€ƒï¼ˆè½¯ä»¶è®¾è®¡å¸ˆï¼‰éƒ¨åˆ†çŸ¥è¯†ç‚¹æ€»ç»“</a></li>
<li><a href="https://hxz1998.gitee.io/2020/11/01/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%8F%8F%E8%BF%B0/">23ç§è®¾è®¡æ¨¡å¼çš„ä¸€å¥è¯æè¿°</a></li>
<li><a href="https://hxz1998.gitee.io/2020/10/11/CPP%E5%AE%9E%E7%8E%B0K%E5%9D%87%E5%80%BC%E7%AE%97%E6%B3%95/">C++å®ç°Kå‡å€¼ç®—æ³•</a></li>
</ol>
<h1 id="4-å¼€å‘è§„èŒƒç±»"><a href="#4-å¼€å‘è§„èŒƒç±»" class="headerlink" title="4. å¼€å‘è§„èŒƒç±»"></a>4. å¼€å‘è§„èŒƒç±»</h1><ol>
<li><a href="https://hxz1998.gitee.io/2020/10/03/Git-commit-message%E8%A7%84%E8%8C%83%E5%8F%82%E8%80%83/">Git Commit Messageè§„èŒƒå‚è€ƒ</a></li>
</ol>
<h1 id="5-æ“ä½œç³»ç»Ÿè£…æœºç±»"><a href="#5-æ“ä½œç³»ç»Ÿè£…æœºç±»" class="headerlink" title="5. æ“ä½œç³»ç»Ÿè£…æœºç±»"></a>5. æ“ä½œç³»ç»Ÿè£…æœºç±»</h1><ol>
<li><a href="https://hxz1998.gitee.io/2020/09/30/Ubuntu%E5%88%86%E5%8C%BA%E6%96%B9%E6%A1%88/">Ubuntuåˆ†åŒºæ–¹æ¡ˆ</a></li>
</ol>
<hr>
<p>2020å¹´çè´µç¾å¥½ï¼Œä»20200113å¼€å§‹ï¼Œåˆ°20200116ï¼Œå†åˆ°20200121ï¼Œä»20200202åˆ°20200427ï¼Œä»2020520ã€2020521å†åˆ°20200905ï¼Œç„¶åä»20201209èµ°åˆ°20201226ï¼Œé©¬ä¸Šå°±è¦è¿æ¥20201231ï¼Œä»»ä½•äº‹éƒ½æ˜¾å¾—é‚£ä¹ˆå¼¥è¶³çè´µ~æˆ‘ä»¬ç›¸ä¼´å½¼æ­¤ï¼Œé•¿é•¿ä¹…ä¹…ï¼Œå®¶åº­å’Œç¦ï¼Œç”Ÿæ´»å¹¸ç¦ã€‚</p>
<p>2021æ–°çš„ä¸€å¹´ï¼Œæœæ–­ä¸€ç‚¹ï¼Œå‹‡æ•¢ä¸€ç‚¹ï¼Œåšå¼ºä¸€ç‚¹ï¼Œæœ‰æ¯…åŠ›ä¸€ç‚¹ã€‚</p>
<p>ç”Ÿæ´»ä¸æ­¢ç¢—é‡Œçš„</p>
<blockquote>
<p>  ğŸ–ğŸ—ğŸ¥©ğŸ ğŸ¥ŸğŸ¥ ğŸ•ğŸ”ğŸŸğŸŒ­ğŸ¿ğŸ§‚ğŸ¥“ğŸ¥šğŸ¥¯ğŸ¥¨ğŸ¥ğŸğŸ§ˆğŸ¥ğŸ§‡ğŸ³ğŸ¥–ğŸ§€ğŸ¥—ğŸ¥™ğŸ¥ªğŸŒ®ğŸŒ¯ğŸ¥«ğŸ¥ğŸ¥¥ğŸ‡ğŸğŸ¥­ğŸğŸŒğŸ‹ğŸŠğŸ‰ğŸˆğŸğŸğŸ‘ğŸ’ğŸ“ğŸ…ğŸŒ½ğŸ†ğŸ„ğŸ¥”ğŸ§„ğŸ¥•ğŸ¥œğŸ§…</p>
</blockquote>
<p>å½“ç„¶è¿˜æœ‰çœ¼å‰çš„</p>
<blockquote>
<p>  ğŸ“”ğŸ“•ğŸ“–ğŸ“—ğŸ“˜ğŸ“™ğŸ“šğŸ““ğŸ“’ğŸ“ƒğŸ“œğŸ“„ğŸ“‘ğŸ“°ğŸ—ğŸ”–ğŸ“</p>
</blockquote>
<p>å¤šå­¦ä¹ ï¼Œå¤šè¿åŠ¨ï¼ŒåŠ æ²¹(à¸‡ â€¢_â€¢)à¸‡ï¼</p>
<p>æˆ‘ä»¬ï¼Œ2021è§~</p>
]]></content>
      <categories>
        <category>å¹´åº¦æ€»ç»“</category>
      </categories>
      <tags>
        <tag>å¹´åº¦æ€»ç»“</tag>
        <tag>2020</tag>
      </tags>
  </entry>
</search>
